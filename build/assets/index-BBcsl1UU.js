(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function p_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Kd={exports:{}},ll={},Gd={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function kS(){if(h0)return De;h0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.iterator;function E(B){return B===null||typeof B!="object"?null:(B=g&&B[g]||B["@@iterator"],typeof B=="function"?B:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,j={};function N(B,X,ue){this.props=B,this.context=X,this.refs=j,this.updater=ue||A}N.prototype.isReactComponent={},N.prototype.setState=function(B,X){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,X,"setState")},N.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function F(){}F.prototype=N.prototype;function W(B,X,ue){this.props=B,this.context=X,this.refs=j,this.updater=ue||A}var K=W.prototype=new F;K.constructor=W,D(K,N.prototype),K.isPureReactComponent=!0;var re=Array.isArray,ne=Object.prototype.hasOwnProperty,ie={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(B,X,ue){var me,_e={},Ae=null,Me=null;if(X!=null)for(me in X.ref!==void 0&&(Me=X.ref),X.key!==void 0&&(Ae=""+X.key),X)ne.call(X,me)&&!k.hasOwnProperty(me)&&(_e[me]=X[me]);var Ee=arguments.length-2;if(Ee===1)_e.children=ue;else if(1<Ee){for(var Be=Array(Ee),Et=0;Et<Ee;Et++)Be[Et]=arguments[Et+2];_e.children=Be}if(B&&B.defaultProps)for(me in Ee=B.defaultProps,Ee)_e[me]===void 0&&(_e[me]=Ee[me]);return{$$typeof:t,type:B,key:Ae,ref:Me,props:_e,_owner:ie.current}}function C(B,X){return{$$typeof:t,type:B.type,key:X,ref:B.ref,props:B.props,_owner:B._owner}}function b(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function V(B){var X={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ue){return X[ue]})}var U=/\/+/g;function P(B,X){return typeof B=="object"&&B!==null&&B.key!=null?V(""+B.key):X.toString(36)}function Fe(B,X,ue,me,_e){var Ae=typeof B;(Ae==="undefined"||Ae==="boolean")&&(B=null);var Me=!1;if(B===null)Me=!0;else switch(Ae){case"string":case"number":Me=!0;break;case"object":switch(B.$$typeof){case t:case e:Me=!0}}if(Me)return Me=B,_e=_e(Me),B=me===""?"."+P(Me,0):me,re(_e)?(ue="",B!=null&&(ue=B.replace(U,"$&/")+"/"),Fe(_e,X,ue,"",function(Et){return Et})):_e!=null&&(b(_e)&&(_e=C(_e,ue+(!_e.key||Me&&Me.key===_e.key?"":(""+_e.key).replace(U,"$&/")+"/")+B)),X.push(_e)),1;if(Me=0,me=me===""?".":me+":",re(B))for(var Ee=0;Ee<B.length;Ee++){Ae=B[Ee];var Be=me+P(Ae,Ee);Me+=Fe(Ae,X,ue,Be,_e)}else if(Be=E(B),typeof Be=="function")for(B=Be.call(B),Ee=0;!(Ae=B.next()).done;)Ae=Ae.value,Be=me+P(Ae,Ee++),Me+=Fe(Ae,X,ue,Be,_e);else if(Ae==="object")throw X=String(B),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Me}function Qe(B,X,ue){if(B==null)return B;var me=[],_e=0;return Fe(B,me,"","",function(Ae){return X.call(ue,Ae,_e++)}),me}function be(B){if(B._status===-1){var X=B._result;X=X(),X.then(function(ue){(B._status===0||B._status===-1)&&(B._status=1,B._result=ue)},function(ue){(B._status===0||B._status===-1)&&(B._status=2,B._result=ue)}),B._status===-1&&(B._status=0,B._result=X)}if(B._status===1)return B._result.default;throw B._result}var ve={current:null},ee={transition:null},ce={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:ee,ReactCurrentOwner:ie};function oe(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:Qe,forEach:function(B,X,ue){Qe(B,function(){X.apply(this,arguments)},ue)},count:function(B){var X=0;return Qe(B,function(){X++}),X},toArray:function(B){return Qe(B,function(X){return X})||[]},only:function(B){if(!b(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},De.Component=N,De.Fragment=n,De.Profiler=o,De.PureComponent=W,De.StrictMode=i,De.Suspense=f,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,De.act=oe,De.cloneElement=function(B,X,ue){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var me=D({},B.props),_e=B.key,Ae=B.ref,Me=B._owner;if(X!=null){if(X.ref!==void 0&&(Ae=X.ref,Me=ie.current),X.key!==void 0&&(_e=""+X.key),B.type&&B.type.defaultProps)var Ee=B.type.defaultProps;for(Be in X)ne.call(X,Be)&&!k.hasOwnProperty(Be)&&(me[Be]=X[Be]===void 0&&Ee!==void 0?Ee[Be]:X[Be])}var Be=arguments.length-2;if(Be===1)me.children=ue;else if(1<Be){Ee=Array(Be);for(var Et=0;Et<Be;Et++)Ee[Et]=arguments[Et+2];me.children=Ee}return{$$typeof:t,type:B.type,key:_e,ref:Ae,props:me,_owner:Me}},De.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},De.createElement=S,De.createFactory=function(B){var X=S.bind(null,B);return X.type=B,X},De.createRef=function(){return{current:null}},De.forwardRef=function(B){return{$$typeof:d,render:B}},De.isValidElement=b,De.lazy=function(B){return{$$typeof:y,_payload:{_status:-1,_result:B},_init:be}},De.memo=function(B,X){return{$$typeof:p,type:B,compare:X===void 0?null:X}},De.startTransition=function(B){var X=ee.transition;ee.transition={};try{B()}finally{ee.transition=X}},De.unstable_act=oe,De.useCallback=function(B,X){return ve.current.useCallback(B,X)},De.useContext=function(B){return ve.current.useContext(B)},De.useDebugValue=function(){},De.useDeferredValue=function(B){return ve.current.useDeferredValue(B)},De.useEffect=function(B,X){return ve.current.useEffect(B,X)},De.useId=function(){return ve.current.useId()},De.useImperativeHandle=function(B,X,ue){return ve.current.useImperativeHandle(B,X,ue)},De.useInsertionEffect=function(B,X){return ve.current.useInsertionEffect(B,X)},De.useLayoutEffect=function(B,X){return ve.current.useLayoutEffect(B,X)},De.useMemo=function(B,X){return ve.current.useMemo(B,X)},De.useReducer=function(B,X,ue){return ve.current.useReducer(B,X,ue)},De.useRef=function(B){return ve.current.useRef(B)},De.useState=function(B){return ve.current.useState(B)},De.useSyncExternalStore=function(B,X,ue){return ve.current.useSyncExternalStore(B,X,ue)},De.useTransition=function(){return ve.current.useTransition()},De.version="18.3.1",De}var d0;function Tp(){return d0||(d0=1,Gd.exports=kS()),Gd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function bS(){if(f0)return ll;f0=1;var t=Tp(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,p){var y,g={},E=null,A=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(A=f.ref);for(y in f)i.call(f,y)&&!a.hasOwnProperty(y)&&(g[y]=f[y]);if(d&&d.defaultProps)for(y in f=d.defaultProps,f)g[y]===void 0&&(g[y]=f[y]);return{$$typeof:e,type:d,key:E,ref:A,props:g,_owner:o.current}}return ll.Fragment=n,ll.jsx=u,ll.jsxs=u,ll}var p0;function VS(){return p0||(p0=1,Kd.exports=bS()),Kd.exports}var I=VS(),uc={},Qd={exports:{}},En={},Yd={exports:{}},Xd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0;function NS(){return m0||(m0=1,(function(t){function e(ee,ce){var oe=ee.length;ee.push(ce);e:for(;0<oe;){var B=oe-1>>>1,X=ee[B];if(0<o(X,ce))ee[B]=ce,ee[oe]=X,oe=B;else break e}}function n(ee){return ee.length===0?null:ee[0]}function i(ee){if(ee.length===0)return null;var ce=ee[0],oe=ee.pop();if(oe!==ce){ee[0]=oe;e:for(var B=0,X=ee.length,ue=X>>>1;B<ue;){var me=2*(B+1)-1,_e=ee[me],Ae=me+1,Me=ee[Ae];if(0>o(_e,oe))Ae<X&&0>o(Me,_e)?(ee[B]=Me,ee[Ae]=oe,B=Ae):(ee[B]=_e,ee[me]=oe,B=me);else if(Ae<X&&0>o(Me,oe))ee[B]=Me,ee[Ae]=oe,B=Ae;else break e}}return ce}function o(ee,ce){var oe=ee.sortIndex-ce.sortIndex;return oe!==0?oe:ee.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var f=[],p=[],y=1,g=null,E=3,A=!1,D=!1,j=!1,N=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(ee){for(var ce=n(p);ce!==null;){if(ce.callback===null)i(p);else if(ce.startTime<=ee)i(p),ce.sortIndex=ce.expirationTime,e(f,ce);else break;ce=n(p)}}function re(ee){if(j=!1,K(ee),!D)if(n(f)!==null)D=!0,be(ne);else{var ce=n(p);ce!==null&&ve(re,ce.startTime-ee)}}function ne(ee,ce){D=!1,j&&(j=!1,F(S),S=-1),A=!0;var oe=E;try{for(K(ce),g=n(f);g!==null&&(!(g.expirationTime>ce)||ee&&!V());){var B=g.callback;if(typeof B=="function"){g.callback=null,E=g.priorityLevel;var X=B(g.expirationTime<=ce);ce=t.unstable_now(),typeof X=="function"?g.callback=X:g===n(f)&&i(f),K(ce)}else i(f);g=n(f)}if(g!==null)var ue=!0;else{var me=n(p);me!==null&&ve(re,me.startTime-ce),ue=!1}return ue}finally{g=null,E=oe,A=!1}}var ie=!1,k=null,S=-1,C=5,b=-1;function V(){return!(t.unstable_now()-b<C)}function U(){if(k!==null){var ee=t.unstable_now();b=ee;var ce=!0;try{ce=k(!0,ee)}finally{ce?P():(ie=!1,k=null)}}else ie=!1}var P;if(typeof W=="function")P=function(){W(U)};else if(typeof MessageChannel<"u"){var Fe=new MessageChannel,Qe=Fe.port2;Fe.port1.onmessage=U,P=function(){Qe.postMessage(null)}}else P=function(){N(U,0)};function be(ee){k=ee,ie||(ie=!0,P())}function ve(ee,ce){S=N(function(){ee(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){D||A||(D=!0,be(ne))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(ee){switch(E){case 1:case 2:case 3:var ce=3;break;default:ce=E}var oe=E;E=ce;try{return ee()}finally{E=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,ce){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var oe=E;E=ee;try{return ce()}finally{E=oe}},t.unstable_scheduleCallback=function(ee,ce,oe){var B=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?B+oe:B):oe=B,ee){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=oe+X,ee={id:y++,callback:ce,priorityLevel:ee,startTime:oe,expirationTime:X,sortIndex:-1},oe>B?(ee.sortIndex=oe,e(p,ee),n(f)===null&&ee===n(p)&&(j?(F(S),S=-1):j=!0,ve(re,oe-B))):(ee.sortIndex=X,e(f,ee),D||A||(D=!0,be(ne))),ee},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(ee){var ce=E;return function(){var oe=E;E=ce;try{return ee.apply(this,arguments)}finally{E=oe}}}})(Xd)),Xd}var g0;function DS(){return g0||(g0=1,Yd.exports=NS()),Yd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function MS(){if(y0)return En;y0=1;var t=Tp(),e=DS();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},g={};function E(r){return f.call(g,r)?!0:f.call(y,r)?!1:p.test(r)?g[r]=!0:(y[r]=!0,!1)}function A(r,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function D(r,s,l,h){if(s===null||typeof s>"u"||A(r,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function j(r,s,l,h,m,v,T){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=v,this.removeEmptyString=T}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){N[r]=new j(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];N[s]=new j(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){N[r]=new j(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){N[r]=new j(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){N[r]=new j(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){N[r]=new j(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){N[r]=new j(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){N[r]=new j(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){N[r]=new j(r,5,!1,r.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function W(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(F,W);N[s]=new j(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(F,W);N[s]=new j(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(F,W);N[s]=new j(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){N[r]=new j(r,1,!1,r.toLowerCase(),null,!1,!1)}),N.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){N[r]=new j(r,1,!1,r.toLowerCase(),null,!0,!0)});function K(r,s,l,h){var m=N.hasOwnProperty(s)?N[s]:null;(m!==null?m.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(D(s,l,m,h)&&(l=null),h||m===null?E(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):m.mustUseProperty?r[m.propertyName]=l===null?m.type===3?!1:"":l:(s=m.attributeName,h=m.attributeNamespace,l===null?r.removeAttribute(s):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,h?r.setAttributeNS(h,s,l):r.setAttribute(s,l))))}var re=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ne=Symbol.for("react.element"),ie=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),V=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),Fe=Symbol.for("react.suspense_list"),Qe=Symbol.for("react.memo"),be=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),ee=Symbol.iterator;function ce(r){return r===null||typeof r!="object"?null:(r=ee&&r[ee]||r["@@iterator"],typeof r=="function"?r:null)}var oe=Object.assign,B;function X(r){if(B===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);B=s&&s[1]||""}return`
`+B+r}var ue=!1;function me(r,s){if(!r||ue)return"";ue=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(q){var h=q}Reflect.construct(r,[],s)}else{try{s.call()}catch(q){h=q}r.call(s.prototype)}else{try{throw Error()}catch(q){h=q}r()}}catch(q){if(q&&h&&typeof q.stack=="string"){for(var m=q.stack.split(`
`),v=h.stack.split(`
`),T=m.length-1,R=v.length-1;1<=T&&0<=R&&m[T]!==v[R];)R--;for(;1<=T&&0<=R;T--,R--)if(m[T]!==v[R]){if(T!==1||R!==1)do if(T--,R--,0>R||m[T]!==v[R]){var M=`
`+m[T].replace(" at new "," at ");return r.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",r.displayName)),M}while(1<=T&&0<=R);break}}}finally{ue=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?X(r):""}function _e(r){switch(r.tag){case 5:return X(r.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return r=me(r.type,!1),r;case 11:return r=me(r.type.render,!1),r;case 1:return r=me(r.type,!0),r;default:return""}}function Ae(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case k:return"Fragment";case ie:return"Portal";case C:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case Fe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case V:return(r.displayName||"Context")+".Consumer";case b:return(r._context.displayName||"Context")+".Provider";case U:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Qe:return s=r.displayName||null,s!==null?s:Ae(r.type)||"Memo";case be:s=r._payload,r=r._init;try{return Ae(r(s))}catch{}}return null}function Me(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(s);case 8:return s===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ee(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Be(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Et(r){var s=Be(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,v=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return m.call(this)},set:function(T){h=""+T,v.call(this,T)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function tr(r){r._valueTracker||(r._valueTracker=Et(r))}function jn(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return r&&(h=Be(r)?r.checked?"true":"false":r.value),r=h,r!==l?(s.setValue(r),!0):!1}function Er(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Tr(r,s){var l=s.checked;return oe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function ao(r,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=Ee(s.value!=null?s.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ei(r,s){s=s.checked,s!=null&&K(r,"checked",s,!1)}function In(r,s){ei(r,s);var l=Ee(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?qe(r,s.type,l):s.hasOwnProperty("defaultValue")&&qe(r,s.type,Ee(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Ii(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function qe(r,s,l){(s!=="number"||Er(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var lt=Array.isArray;function An(r,s,l,h){if(r=r.options,s){s={};for(var m=0;m<l.length;m++)s["$"+l[m]]=!0;for(l=0;l<r.length;l++)m=s.hasOwnProperty("$"+r[l].value),r[l].selected!==m&&(r[l].selected=m),m&&h&&(r[l].defaultSelected=!0)}else{for(l=""+Ee(l),s=null,m=0;m<r.length;m++){if(r[m].value===l){r[m].selected=!0,h&&(r[m].defaultSelected=!0);return}s!==null||r[m].disabled||(s=r[m])}s!==null&&(s.selected=!0)}}function kt(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return oe({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Fn(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(n(92));if(lt(l)){if(1<l.length)throw Error(n(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:Ee(l)}}function lo(r,s){var l=Ee(s.value),h=Ee(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function xr(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Sr(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ai(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Sr(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var nr,Ci=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,m){MSApp.execUnsafeLocalFunction(function(){return r(s,l,h,m)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(nr=nr||document.createElement("div"),nr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=nr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function pn(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var rr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ir=["Webkit","ms","Moz","O"];Object.keys(rr).forEach(function(r){ir.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),rr[s]=rr[r]})});function Ir(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||rr.hasOwnProperty(r)&&rr[r]?(""+s).trim():s+"px"}function Ri(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,m=Ir(l,s[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,m):r[l]=m}}var Pi=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mn(r,s){if(s){if(Pi[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function ki(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bn=null;function ln(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var sr=null,or=null,tt=null;function bi(r){if(r=Ka(r)){if(typeof sr!="function")throw Error(n(280));var s=r.stateNode;s&&(s=Su(s),sr(r.stateNode,r.type,s))}}function Ie(r){or?tt?tt.push(r):tt=[r]:or=r}function Ye(){if(or){var r=or,s=tt;if(tt=or=null,bi(r),s)for(r=0;r<s.length;r++)bi(s[r])}}function yt(r,s){return r(s)}function Lt(){}var un=!1;function pt(r,s,l){if(un)return r(s,l);un=!0;try{return yt(r,s,l)}finally{un=!1,(or!==null||tt!==null)&&(Lt(),Ye())}}function Tt(r,s){var l=r.stateNode;if(l===null)return null;var h=Su(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var Cn=!1;if(d)try{var xt={};Object.defineProperty(xt,"passive",{get:function(){Cn=!0}}),window.addEventListener("test",xt,xt),window.removeEventListener("test",xt,xt)}catch{Cn=!1}function Yt(r,s,l,h,m,v,T,R,M){var q=Array.prototype.slice.call(arguments,3);try{s.apply(l,q)}catch(Z){this.onError(Z)}}var Un=!1,Ot=null,gs=!1,zn=null,nu={onError:function(r){Un=!0,Ot=r}};function ru(r,s,l,h,m,v,T,R,M){Un=!1,Ot=null,Yt.apply(nu,arguments)}function Ea(r,s,l,h,m,v,T,R,M){if(ru.apply(this,arguments),Un){if(Un){var q=Ot;Un=!1,Ot=null}else throw Error(n(198));gs||(gs=!0,zn=q)}}function ar(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function Ta(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function iu(r){if(ar(r)!==r)throw Error(n(188))}function su(r){var s=r.alternate;if(!s){if(s=ar(r),s===null)throw Error(n(188));return s!==r?null:r}for(var l=r,h=s;;){var m=l.return;if(m===null)break;var v=m.alternate;if(v===null){if(h=m.return,h!==null){l=h;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===l)return iu(m),r;if(v===h)return iu(m),s;v=v.sibling}throw Error(n(188))}if(l.return!==h.return)l=m,h=v;else{for(var T=!1,R=m.child;R;){if(R===l){T=!0,l=m,h=v;break}if(R===h){T=!0,h=m,l=v;break}R=R.sibling}if(!T){for(R=v.child;R;){if(R===l){T=!0,l=v,h=m;break}if(R===h){T=!0,h=v,l=m;break}R=R.sibling}if(!T)throw Error(n(189))}}if(l.alternate!==h)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:s}function ou(r){return r=su(r),r!==null?ys(r):null}function ys(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=ys(r);if(s!==null)return s;r=r.sibling}return null}var xa=e.unstable_scheduleCallback,uo=e.unstable_cancelCallback,vs=e.unstable_shouldYield,ti=e.unstable_requestPaint,nt=e.unstable_now,Sh=e.unstable_getCurrentPriorityLevel,co=e.unstable_ImmediatePriority,Sa=e.unstable_UserBlockingPriority,ws=e.unstable_NormalPriority,Ia=e.unstable_LowPriority,ho=e.unstable_IdlePriority,_s=null,Rn=null;function au(r){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(_s,r,void 0,(r.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:Es,Ar=Math.log,$n=Math.LN2;function Es(r){return r>>>=0,r===0?32:31-(Ar(r)/$n|0)|0}var Cr=64,Vi=4194304;function We(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ni(r,s){var l=r.pendingLanes;if(l===0)return 0;var h=0,m=r.suspendedLanes,v=r.pingedLanes,T=l&268435455;if(T!==0){var R=T&~m;R!==0?h=We(R):(v&=T,v!==0&&(h=We(v)))}else T=l&~m,T!==0?h=We(T):v!==0&&(h=We(v));if(h===0)return 0;if(s!==0&&s!==h&&(s&m)===0&&(m=h&-h,v=s&-s,m>=v||m===16&&(v&4194240)!==0))return s;if((h&4)!==0&&(h|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)l=31-Pn(s),m=1<<l,h|=r[l],s&=~m;return h}function Ts(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xs(r,s){for(var l=r.suspendedLanes,h=r.pingedLanes,m=r.expirationTimes,v=r.pendingLanes;0<v;){var T=31-Pn(v),R=1<<T,M=m[T];M===-1?((R&l)===0||(R&h)!==0)&&(m[T]=Ts(R,s)):M<=s&&(r.expiredLanes|=R),v&=~R}}function Aa(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ca(){var r=Cr;return Cr<<=1,(Cr&4194240)===0&&(Cr=64),r}function Ra(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Ss(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Pn(s),r[s]=l}function Ih(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var m=31-Pn(l),v=1<<m;s[m]=0,h[m]=-1,r[m]=-1,l&=~v}}function Pa(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var h=31-Pn(l),m=1<<h;m&s|r[h]&s&&(r[h]|=s),l&=~m}}var je=0;function Rr(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var ka,fo,ba,Va,Na,Pr=!1,po=[],kr=null,br=null,zt=null,Is=new Map,ri=new Map,kn=[],lu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ni(r,s){switch(r){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":zt=null;break;case"pointerover":case"pointerout":Is.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ri.delete(s.pointerId)}}function lr(r,s,l,h,m,v){return r===null||r.nativeEvent!==v?(r={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:v,targetContainers:[m]},s!==null&&(s=Ka(s),s!==null&&fo(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),r)}function uu(r,s,l,h,m){switch(s){case"focusin":return kr=lr(kr,r,s,l,h,m),!0;case"dragenter":return br=lr(br,r,s,l,h,m),!0;case"mouseover":return zt=lr(zt,r,s,l,h,m),!0;case"pointerover":var v=m.pointerId;return Is.set(v,lr(Is.get(v)||null,r,s,l,h,m)),!0;case"gotpointercapture":return v=m.pointerId,ri.set(v,lr(ri.get(v)||null,r,s,l,h,m)),!0}return!1}function mo(r){var s=Ps(r.target);if(s!==null){var l=ar(s);if(l!==null){if(s=l.tag,s===13){if(s=Ta(l),s!==null){r.blockedOn=s,Na(r.priority,function(){ba(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Xe(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=go(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);Bn=h,l.target.dispatchEvent(h),Bn=null}else return s=Ka(l),s!==null&&fo(s),r.blockedOn=l,!1;s.shift()}return!0}function cu(r,s,l){Xe(r)&&l.delete(s)}function Ah(){Pr=!1,kr!==null&&Xe(kr)&&(kr=null),br!==null&&Xe(br)&&(br=null),zt!==null&&Xe(zt)&&(zt=null),Is.forEach(cu),ri.forEach(cu)}function Di(r,s){r.blockedOn===s&&(r.blockedOn=null,Pr||(Pr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ah)))}function Mi(r){function s(m){return Di(m,r)}if(0<po.length){Di(po[0],r);for(var l=1;l<po.length;l++){var h=po[l];h.blockedOn===r&&(h.blockedOn=null)}}for(kr!==null&&Di(kr,r),br!==null&&Di(br,r),zt!==null&&Di(zt,r),Is.forEach(s),ri.forEach(s),l=0;l<kn.length;l++)h=kn[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<kn.length&&(l=kn[0],l.blockedOn===null);)mo(l),l.blockedOn===null&&kn.shift()}var ii=re.ReactCurrentBatchConfig,si=!0;function Vr(r,s,l,h){var m=je,v=ii.transition;ii.transition=null;try{je=1,Da(r,s,l,h)}finally{je=m,ii.transition=v}}function hu(r,s,l,h){var m=je,v=ii.transition;ii.transition=null;try{je=4,Da(r,s,l,h)}finally{je=m,ii.transition=v}}function Da(r,s,l,h){if(si){var m=go(r,s,l,h);if(m===null)Oh(r,s,h,Nr,l),Ni(r,h);else if(uu(m,r,s,l,h))h.stopPropagation();else if(Ni(r,h),s&4&&-1<lu.indexOf(r)){for(;m!==null;){var v=Ka(m);if(v!==null&&ka(v),v=go(r,s,l,h),v===null&&Oh(r,s,h,Nr,l),v===m)break;m=v}m!==null&&h.stopPropagation()}else Oh(r,s,h,null,l)}}var Nr=null;function go(r,s,l,h){if(Nr=null,r=ln(h),r=Ps(r),r!==null)if(s=ar(r),s===null)r=null;else if(l=s.tag,l===13){if(r=Ta(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Nr=r,null}function yo(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sh()){case co:return 1;case Sa:return 4;case ws:case Ia:return 16;case ho:return 536870912;default:return 16}default:return 16}}var bn=null,vo=null,oi=null;function du(){if(oi)return oi;var r,s=vo,l=s.length,h,m="value"in bn?bn.value:bn.textContent,v=m.length;for(r=0;r<l&&s[r]===m[r];r++);var T=l-r;for(h=1;h<=T&&s[l-h]===m[v-h];h++);return oi=m.slice(r,1<h?1-h:void 0)}function As(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Dr(){return!0}function Ma(){return!1}function Xt(r){function s(l,h,m,v,T){this._reactName=l,this._targetInst=m,this.type=h,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(l=r[R],this[R]=l?l(v):v[R]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Dr:Ma,this.isPropagationStopped=Ma,this}return oe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Dr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Dr)},persist:function(){},isPersistent:Dr}),s}var Mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cs=Xt(Mr),Li=oe({},Mr,{view:0,detail:0}),wo=Xt(Li),_o,Eo,Vn,Rs=oe({},Li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ve,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Vn&&(Vn&&r.type==="mousemove"?(_o=r.screenX-Vn.screenX,Eo=r.screenY-Vn.screenY):Eo=_o=0,Vn=r),_o)},movementY:function(r){return"movementY"in r?r.movementY:Eo}}),La=Xt(Rs),fu=oe({},Rs,{dataTransfer:0}),pu=Xt(fu),To=oe({},Li,{relatedTarget:0}),$t=Xt(To),mu=oe({},Mr,{animationName:0,elapsedTime:0,pseudoElement:0}),gu=Xt(mu),Oi=oe({},Mr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),c=Xt(Oi),w=oe({},Mr,{data:0}),_=Xt(w),x={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ae(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=G[r])?!!s[r]:!1}function Ve(){return ae}var vt=oe({},Li,{key:function(r){if(r.key){var s=x[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=As(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?$[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ve,charCode:function(r){return r.type==="keypress"?As(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?As(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ge=Xt(vt),St=oe({},Rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nn=Xt(St),ai=oe({},Li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ve}),Lr=Xt(ai),Or=oe({},Mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),xo=Xt(Or),Oa=oe({},Rs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Sx=Xt(Oa),Ix=[9,13,27,32],Ch=d&&"CompositionEvent"in window,ja=null;d&&"documentMode"in document&&(ja=document.documentMode);var Ax=d&&"TextEvent"in window&&!ja,rg=d&&(!Ch||ja&&8<ja&&11>=ja),ig=" ",sg=!1;function og(r,s){switch(r){case"keyup":return Ix.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ag(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var So=!1;function Cx(r,s){switch(r){case"compositionend":return ag(s);case"keypress":return s.which!==32?null:(sg=!0,ig);case"textInput":return r=s.data,r===ig&&sg?null:r;default:return null}}function Rx(r,s){if(So)return r==="compositionend"||!Ch&&og(r,s)?(r=du(),oi=vo=bn=null,So=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return rg&&s.locale!=="ko"?null:s.data;default:return null}}var Px={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lg(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Px[r.type]:s==="textarea"}function ug(r,s,l,h){Ie(h),s=Eu(s,"onChange"),0<s.length&&(l=new Cs("onChange","change",null,l,h),r.push({event:l,listeners:s}))}var Fa=null,Ba=null;function kx(r){Cg(r,0)}function yu(r){var s=Po(r);if(jn(s))return r}function bx(r,s){if(r==="change")return s}var cg=!1;if(d){var Rh;if(d){var Ph="oninput"in document;if(!Ph){var hg=document.createElement("div");hg.setAttribute("oninput","return;"),Ph=typeof hg.oninput=="function"}Rh=Ph}else Rh=!1;cg=Rh&&(!document.documentMode||9<document.documentMode)}function dg(){Fa&&(Fa.detachEvent("onpropertychange",fg),Ba=Fa=null)}function fg(r){if(r.propertyName==="value"&&yu(Ba)){var s=[];ug(s,Ba,r,ln(r)),pt(kx,s)}}function Vx(r,s,l){r==="focusin"?(dg(),Fa=s,Ba=l,Fa.attachEvent("onpropertychange",fg)):r==="focusout"&&dg()}function Nx(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return yu(Ba)}function Dx(r,s){if(r==="click")return yu(s)}function Mx(r,s){if(r==="input"||r==="change")return yu(s)}function Lx(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var ur=typeof Object.is=="function"?Object.is:Lx;function Ua(r,s){if(ur(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var m=l[h];if(!f.call(s,m)||!ur(r[m],s[m]))return!1}return!0}function pg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function mg(r,s){var l=pg(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=s&&h>=s)return{node:l,offset:s-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=pg(l)}}function gg(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?gg(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function yg(){for(var r=window,s=Er();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=Er(r.document)}return s}function kh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function Ox(r){var s=yg(),l=r.focusedElem,h=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&gg(l.ownerDocument.documentElement,l)){if(h!==null&&kh(l)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var m=l.textContent.length,v=Math.min(h.start,m);h=h.end===void 0?v:Math.min(h.end,m),!r.extend&&v>h&&(m=h,h=v,v=m),m=mg(l,v);var T=mg(l,h);m&&T&&(r.rangeCount!==1||r.anchorNode!==m.node||r.anchorOffset!==m.offset||r.focusNode!==T.node||r.focusOffset!==T.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),r.removeAllRanges(),v>h?(r.addRange(s),r.extend(T.node,T.offset)):(s.setEnd(T.node,T.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var jx=d&&"documentMode"in document&&11>=document.documentMode,Io=null,bh=null,za=null,Vh=!1;function vg(r,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Vh||Io==null||Io!==Er(h)||(h=Io,"selectionStart"in h&&kh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),za&&Ua(za,h)||(za=h,h=Eu(bh,"onSelect"),0<h.length&&(s=new Cs("onSelect","select",null,s,l),r.push({event:s,listeners:h}),s.target=Io)))}function vu(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var Ao={animationend:vu("Animation","AnimationEnd"),animationiteration:vu("Animation","AnimationIteration"),animationstart:vu("Animation","AnimationStart"),transitionend:vu("Transition","TransitionEnd")},Nh={},wg={};d&&(wg=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function wu(r){if(Nh[r])return Nh[r];if(!Ao[r])return r;var s=Ao[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in wg)return Nh[r]=s[l];return r}var _g=wu("animationend"),Eg=wu("animationiteration"),Tg=wu("animationstart"),xg=wu("transitionend"),Sg=new Map,Ig="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ji(r,s){Sg.set(r,s),a(s,[r])}for(var Dh=0;Dh<Ig.length;Dh++){var Mh=Ig[Dh],Fx=Mh.toLowerCase(),Bx=Mh[0].toUpperCase()+Mh.slice(1);ji(Fx,"on"+Bx)}ji(_g,"onAnimationEnd"),ji(Eg,"onAnimationIteration"),ji(Tg,"onAnimationStart"),ji("dblclick","onDoubleClick"),ji("focusin","onFocus"),ji("focusout","onBlur"),ji(xg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ux=new Set("cancel close invalid load scroll toggle".split(" ").concat($a));function Ag(r,s,l){var h=r.type||"unknown-event";r.currentTarget=l,Ea(h,s,void 0,r),r.currentTarget=null}function Cg(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],m=h.event;h=h.listeners;e:{var v=void 0;if(s)for(var T=h.length-1;0<=T;T--){var R=h[T],M=R.instance,q=R.currentTarget;if(R=R.listener,M!==v&&m.isPropagationStopped())break e;Ag(m,R,q),v=M}else for(T=0;T<h.length;T++){if(R=h[T],M=R.instance,q=R.currentTarget,R=R.listener,M!==v&&m.isPropagationStopped())break e;Ag(m,R,q),v=M}}}if(gs)throw r=zn,gs=!1,zn=null,r}function rt(r,s){var l=s[$h];l===void 0&&(l=s[$h]=new Set);var h=r+"__bubble";l.has(h)||(Rg(s,r,2,!1),l.add(h))}function Lh(r,s,l){var h=0;s&&(h|=4),Rg(l,r,h,s)}var _u="_reactListening"+Math.random().toString(36).slice(2);function Ha(r){if(!r[_u]){r[_u]=!0,i.forEach(function(l){l!=="selectionchange"&&(Ux.has(l)||Lh(l,!1,r),Lh(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[_u]||(s[_u]=!0,Lh("selectionchange",!1,s))}}function Rg(r,s,l,h){switch(yo(s)){case 1:var m=Vr;break;case 4:m=hu;break;default:m=Da}l=m.bind(null,s,l,r),m=void 0,!Cn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),h?m!==void 0?r.addEventListener(s,l,{capture:!0,passive:m}):r.addEventListener(s,l,!0):m!==void 0?r.addEventListener(s,l,{passive:m}):r.addEventListener(s,l,!1)}function Oh(r,s,l,h,m){var v=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var R=h.stateNode.containerInfo;if(R===m||R.nodeType===8&&R.parentNode===m)break;if(T===4)for(T=h.return;T!==null;){var M=T.tag;if((M===3||M===4)&&(M=T.stateNode.containerInfo,M===m||M.nodeType===8&&M.parentNode===m))return;T=T.return}for(;R!==null;){if(T=Ps(R),T===null)return;if(M=T.tag,M===5||M===6){h=v=T;continue e}R=R.parentNode}}h=h.return}pt(function(){var q=v,Z=ln(l),te=[];e:{var J=Sg.get(r);if(J!==void 0){var he=Cs,ge=r;switch(r){case"keypress":if(As(l)===0)break e;case"keydown":case"keyup":he=Ge;break;case"focusin":ge="focus",he=$t;break;case"focusout":ge="blur",he=$t;break;case"beforeblur":case"afterblur":he=$t;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=La;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=Lr;break;case _g:case Eg:case Tg:he=gu;break;case xg:he=xo;break;case"scroll":he=wo;break;case"wheel":he=Sx;break;case"copy":case"cut":case"paste":he=c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=Nn}var ye=(s&4)!==0,wt=!ye&&r==="scroll",z=ye?J!==null?J+"Capture":null:J;ye=[];for(var O=q,H;O!==null;){H=O;var se=H.stateNode;if(H.tag===5&&se!==null&&(H=se,z!==null&&(se=Tt(O,z),se!=null&&ye.push(Wa(O,se,H)))),wt)break;O=O.return}0<ye.length&&(J=new he(J,ge,null,l,Z),te.push({event:J,listeners:ye}))}}if((s&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",he=r==="mouseout"||r==="pointerout",J&&l!==Bn&&(ge=l.relatedTarget||l.fromElement)&&(Ps(ge)||ge[li]))break e;if((he||J)&&(J=Z.window===Z?Z:(J=Z.ownerDocument)?J.defaultView||J.parentWindow:window,he?(ge=l.relatedTarget||l.toElement,he=q,ge=ge?Ps(ge):null,ge!==null&&(wt=ar(ge),ge!==wt||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(he=null,ge=q),he!==ge)){if(ye=La,se="onMouseLeave",z="onMouseEnter",O="mouse",(r==="pointerout"||r==="pointerover")&&(ye=Nn,se="onPointerLeave",z="onPointerEnter",O="pointer"),wt=he==null?J:Po(he),H=ge==null?J:Po(ge),J=new ye(se,O+"leave",he,l,Z),J.target=wt,J.relatedTarget=H,se=null,Ps(Z)===q&&(ye=new ye(z,O+"enter",ge,l,Z),ye.target=H,ye.relatedTarget=wt,se=ye),wt=se,he&&ge)t:{for(ye=he,z=ge,O=0,H=ye;H;H=Co(H))O++;for(H=0,se=z;se;se=Co(se))H++;for(;0<O-H;)ye=Co(ye),O--;for(;0<H-O;)z=Co(z),H--;for(;O--;){if(ye===z||z!==null&&ye===z.alternate)break t;ye=Co(ye),z=Co(z)}ye=null}else ye=null;he!==null&&Pg(te,J,he,ye,!1),ge!==null&&wt!==null&&Pg(te,wt,ge,ye,!0)}}e:{if(J=q?Po(q):window,he=J.nodeName&&J.nodeName.toLowerCase(),he==="select"||he==="input"&&J.type==="file")var we=bx;else if(lg(J))if(cg)we=Mx;else{we=Nx;var xe=Vx}else(he=J.nodeName)&&he.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(we=Dx);if(we&&(we=we(r,q))){ug(te,we,l,Z);break e}xe&&xe(r,J,q),r==="focusout"&&(xe=J._wrapperState)&&xe.controlled&&J.type==="number"&&qe(J,"number",J.value)}switch(xe=q?Po(q):window,r){case"focusin":(lg(xe)||xe.contentEditable==="true")&&(Io=xe,bh=q,za=null);break;case"focusout":za=bh=Io=null;break;case"mousedown":Vh=!0;break;case"contextmenu":case"mouseup":case"dragend":Vh=!1,vg(te,l,Z);break;case"selectionchange":if(jx)break;case"keydown":case"keyup":vg(te,l,Z)}var Se;if(Ch)e:{switch(r){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else So?og(r,l)&&(Pe="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Pe="onCompositionStart");Pe&&(rg&&l.locale!=="ko"&&(So||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&So&&(Se=du()):(bn=Z,vo="value"in bn?bn.value:bn.textContent,So=!0)),xe=Eu(q,Pe),0<xe.length&&(Pe=new _(Pe,r,null,l,Z),te.push({event:Pe,listeners:xe}),Se?Pe.data=Se:(Se=ag(l),Se!==null&&(Pe.data=Se)))),(Se=Ax?Cx(r,l):Rx(r,l))&&(q=Eu(q,"onBeforeInput"),0<q.length&&(Z=new _("onBeforeInput","beforeinput",null,l,Z),te.push({event:Z,listeners:q}),Z.data=Se))}Cg(te,s)})}function Wa(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Eu(r,s){for(var l=s+"Capture",h=[];r!==null;){var m=r,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=Tt(r,l),v!=null&&h.unshift(Wa(r,v,m)),v=Tt(r,s),v!=null&&h.push(Wa(r,v,m))),r=r.return}return h}function Co(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Pg(r,s,l,h,m){for(var v=s._reactName,T=[];l!==null&&l!==h;){var R=l,M=R.alternate,q=R.stateNode;if(M!==null&&M===h)break;R.tag===5&&q!==null&&(R=q,m?(M=Tt(l,v),M!=null&&T.unshift(Wa(l,M,R))):m||(M=Tt(l,v),M!=null&&T.push(Wa(l,M,R)))),l=l.return}T.length!==0&&r.push({event:s,listeners:T})}var zx=/\r\n?/g,$x=/\u0000|\uFFFD/g;function kg(r){return(typeof r=="string"?r:""+r).replace(zx,`
`).replace($x,"")}function Tu(r,s,l){if(s=kg(s),kg(r)!==s&&l)throw Error(n(425))}function xu(){}var jh=null,Fh=null;function Bh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Uh=typeof setTimeout=="function"?setTimeout:void 0,Hx=typeof clearTimeout=="function"?clearTimeout:void 0,bg=typeof Promise=="function"?Promise:void 0,Wx=typeof queueMicrotask=="function"?queueMicrotask:typeof bg<"u"?function(r){return bg.resolve(null).then(r).catch(qx)}:Uh;function qx(r){setTimeout(function(){throw r})}function zh(r,s){var l=s,h=0;do{var m=l.nextSibling;if(r.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(h===0){r.removeChild(m),Mi(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=m}while(l);Mi(s)}function Fi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Vg(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var Ro=Math.random().toString(36).slice(2),jr="__reactFiber$"+Ro,qa="__reactProps$"+Ro,li="__reactContainer$"+Ro,$h="__reactEvents$"+Ro,Kx="__reactListeners$"+Ro,Gx="__reactHandles$"+Ro;function Ps(r){var s=r[jr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[li]||l[jr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Vg(r);r!==null;){if(l=r[jr])return l;r=Vg(r)}return s}r=l,l=r.parentNode}return null}function Ka(r){return r=r[jr]||r[li],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Po(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Su(r){return r[qa]||null}var Hh=[],ko=-1;function Bi(r){return{current:r}}function it(r){0>ko||(r.current=Hh[ko],Hh[ko]=null,ko--)}function Ze(r,s){ko++,Hh[ko]=r.current,r.current=s}var Ui={},Jt=Bi(Ui),gn=Bi(!1),ks=Ui;function bo(r,s){var l=r.type.contextTypes;if(!l)return Ui;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in l)m[v]=s[v];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=m),m}function yn(r){return r=r.childContextTypes,r!=null}function Iu(){it(gn),it(Jt)}function Ng(r,s,l){if(Jt.current!==Ui)throw Error(n(168));Ze(Jt,s),Ze(gn,l)}function Dg(r,s,l){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var m in h)if(!(m in s))throw Error(n(108,Me(r)||"Unknown",m));return oe({},l,h)}function Au(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ui,ks=Jt.current,Ze(Jt,r),Ze(gn,gn.current),!0}function Mg(r,s,l){var h=r.stateNode;if(!h)throw Error(n(169));l?(r=Dg(r,s,ks),h.__reactInternalMemoizedMergedChildContext=r,it(gn),it(Jt),Ze(Jt,r)):it(gn),Ze(gn,l)}var ui=null,Cu=!1,Wh=!1;function Lg(r){ui===null?ui=[r]:ui.push(r)}function Qx(r){Cu=!0,Lg(r)}function zi(){if(!Wh&&ui!==null){Wh=!0;var r=0,s=je;try{var l=ui;for(je=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}ui=null,Cu=!1}catch(m){throw ui!==null&&(ui=ui.slice(r+1)),xa(co,zi),m}finally{je=s,Wh=!1}}return null}var Vo=[],No=0,Ru=null,Pu=0,Hn=[],Wn=0,bs=null,ci=1,hi="";function Vs(r,s){Vo[No++]=Pu,Vo[No++]=Ru,Ru=r,Pu=s}function Og(r,s,l){Hn[Wn++]=ci,Hn[Wn++]=hi,Hn[Wn++]=bs,bs=r;var h=ci;r=hi;var m=32-Pn(h)-1;h&=~(1<<m),l+=1;var v=32-Pn(s)+m;if(30<v){var T=m-m%5;v=(h&(1<<T)-1).toString(32),h>>=T,m-=T,ci=1<<32-Pn(s)+m|l<<m|h,hi=v+r}else ci=1<<v|l<<m|h,hi=r}function qh(r){r.return!==null&&(Vs(r,1),Og(r,1,0))}function Kh(r){for(;r===Ru;)Ru=Vo[--No],Vo[No]=null,Pu=Vo[--No],Vo[No]=null;for(;r===bs;)bs=Hn[--Wn],Hn[Wn]=null,hi=Hn[--Wn],Hn[Wn]=null,ci=Hn[--Wn],Hn[Wn]=null}var Dn=null,Mn=null,ot=!1,cr=null;function jg(r,s){var l=Qn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Fg(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Dn=r,Mn=Fi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Dn=r,Mn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=bs!==null?{id:ci,overflow:hi}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Qn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,Dn=r,Mn=null,!0):!1;default:return!1}}function Gh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Qh(r){if(ot){var s=Mn;if(s){var l=s;if(!Fg(r,s)){if(Gh(r))throw Error(n(418));s=Fi(l.nextSibling);var h=Dn;s&&Fg(r,s)?jg(h,l):(r.flags=r.flags&-4097|2,ot=!1,Dn=r)}}else{if(Gh(r))throw Error(n(418));r.flags=r.flags&-4097|2,ot=!1,Dn=r}}}function Bg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Dn=r}function ku(r){if(r!==Dn)return!1;if(!ot)return Bg(r),ot=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Bh(r.type,r.memoizedProps)),s&&(s=Mn)){if(Gh(r))throw Ug(),Error(n(418));for(;s;)jg(r,s),s=Fi(s.nextSibling)}if(Bg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){Mn=Fi(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}Mn=null}}else Mn=Dn?Fi(r.stateNode.nextSibling):null;return!0}function Ug(){for(var r=Mn;r;)r=Fi(r.nextSibling)}function Do(){Mn=Dn=null,ot=!1}function Yh(r){cr===null?cr=[r]:cr.push(r)}var Yx=re.ReactCurrentBatchConfig;function Ga(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var h=l.stateNode}if(!h)throw Error(n(147,r));var m=h,v=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===v?s.ref:(s=function(T){var R=m.refs;T===null?delete R[v]:R[v]=T},s._stringRef=v,s)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function bu(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function zg(r){var s=r._init;return s(r._payload)}function $g(r){function s(z,O){if(r){var H=z.deletions;H===null?(z.deletions=[O],z.flags|=16):H.push(O)}}function l(z,O){if(!r)return null;for(;O!==null;)s(z,O),O=O.sibling;return null}function h(z,O){for(z=new Map;O!==null;)O.key!==null?z.set(O.key,O):z.set(O.index,O),O=O.sibling;return z}function m(z,O){return z=Yi(z,O),z.index=0,z.sibling=null,z}function v(z,O,H){return z.index=H,r?(H=z.alternate,H!==null?(H=H.index,H<O?(z.flags|=2,O):H):(z.flags|=2,O)):(z.flags|=1048576,O)}function T(z){return r&&z.alternate===null&&(z.flags|=2),z}function R(z,O,H,se){return O===null||O.tag!==6?(O=Ud(H,z.mode,se),O.return=z,O):(O=m(O,H),O.return=z,O)}function M(z,O,H,se){var we=H.type;return we===k?Z(z,O,H.props.children,se,H.key):O!==null&&(O.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===be&&zg(we)===O.type)?(se=m(O,H.props),se.ref=Ga(z,O,H),se.return=z,se):(se=tc(H.type,H.key,H.props,null,z.mode,se),se.ref=Ga(z,O,H),se.return=z,se)}function q(z,O,H,se){return O===null||O.tag!==4||O.stateNode.containerInfo!==H.containerInfo||O.stateNode.implementation!==H.implementation?(O=zd(H,z.mode,se),O.return=z,O):(O=m(O,H.children||[]),O.return=z,O)}function Z(z,O,H,se,we){return O===null||O.tag!==7?(O=Bs(H,z.mode,se,we),O.return=z,O):(O=m(O,H),O.return=z,O)}function te(z,O,H){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Ud(""+O,z.mode,H),O.return=z,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case ne:return H=tc(O.type,O.key,O.props,null,z.mode,H),H.ref=Ga(z,null,O),H.return=z,H;case ie:return O=zd(O,z.mode,H),O.return=z,O;case be:var se=O._init;return te(z,se(O._payload),H)}if(lt(O)||ce(O))return O=Bs(O,z.mode,H,null),O.return=z,O;bu(z,O)}return null}function J(z,O,H,se){var we=O!==null?O.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return we!==null?null:R(z,O,""+H,se);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case ne:return H.key===we?M(z,O,H,se):null;case ie:return H.key===we?q(z,O,H,se):null;case be:return we=H._init,J(z,O,we(H._payload),se)}if(lt(H)||ce(H))return we!==null?null:Z(z,O,H,se,null);bu(z,H)}return null}function he(z,O,H,se,we){if(typeof se=="string"&&se!==""||typeof se=="number")return z=z.get(H)||null,R(O,z,""+se,we);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case ne:return z=z.get(se.key===null?H:se.key)||null,M(O,z,se,we);case ie:return z=z.get(se.key===null?H:se.key)||null,q(O,z,se,we);case be:var xe=se._init;return he(z,O,H,xe(se._payload),we)}if(lt(se)||ce(se))return z=z.get(H)||null,Z(O,z,se,we,null);bu(O,se)}return null}function ge(z,O,H,se){for(var we=null,xe=null,Se=O,Pe=O=0,Bt=null;Se!==null&&Pe<H.length;Pe++){Se.index>Pe?(Bt=Se,Se=null):Bt=Se.sibling;var He=J(z,Se,H[Pe],se);if(He===null){Se===null&&(Se=Bt);break}r&&Se&&He.alternate===null&&s(z,Se),O=v(He,O,Pe),xe===null?we=He:xe.sibling=He,xe=He,Se=Bt}if(Pe===H.length)return l(z,Se),ot&&Vs(z,Pe),we;if(Se===null){for(;Pe<H.length;Pe++)Se=te(z,H[Pe],se),Se!==null&&(O=v(Se,O,Pe),xe===null?we=Se:xe.sibling=Se,xe=Se);return ot&&Vs(z,Pe),we}for(Se=h(z,Se);Pe<H.length;Pe++)Bt=he(Se,z,Pe,H[Pe],se),Bt!==null&&(r&&Bt.alternate!==null&&Se.delete(Bt.key===null?Pe:Bt.key),O=v(Bt,O,Pe),xe===null?we=Bt:xe.sibling=Bt,xe=Bt);return r&&Se.forEach(function(Xi){return s(z,Xi)}),ot&&Vs(z,Pe),we}function ye(z,O,H,se){var we=ce(H);if(typeof we!="function")throw Error(n(150));if(H=we.call(H),H==null)throw Error(n(151));for(var xe=we=null,Se=O,Pe=O=0,Bt=null,He=H.next();Se!==null&&!He.done;Pe++,He=H.next()){Se.index>Pe?(Bt=Se,Se=null):Bt=Se.sibling;var Xi=J(z,Se,He.value,se);if(Xi===null){Se===null&&(Se=Bt);break}r&&Se&&Xi.alternate===null&&s(z,Se),O=v(Xi,O,Pe),xe===null?we=Xi:xe.sibling=Xi,xe=Xi,Se=Bt}if(He.done)return l(z,Se),ot&&Vs(z,Pe),we;if(Se===null){for(;!He.done;Pe++,He=H.next())He=te(z,He.value,se),He!==null&&(O=v(He,O,Pe),xe===null?we=He:xe.sibling=He,xe=He);return ot&&Vs(z,Pe),we}for(Se=h(z,Se);!He.done;Pe++,He=H.next())He=he(Se,z,Pe,He.value,se),He!==null&&(r&&He.alternate!==null&&Se.delete(He.key===null?Pe:He.key),O=v(He,O,Pe),xe===null?we=He:xe.sibling=He,xe=He);return r&&Se.forEach(function(PS){return s(z,PS)}),ot&&Vs(z,Pe),we}function wt(z,O,H,se){if(typeof H=="object"&&H!==null&&H.type===k&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case ne:e:{for(var we=H.key,xe=O;xe!==null;){if(xe.key===we){if(we=H.type,we===k){if(xe.tag===7){l(z,xe.sibling),O=m(xe,H.props.children),O.return=z,z=O;break e}}else if(xe.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===be&&zg(we)===xe.type){l(z,xe.sibling),O=m(xe,H.props),O.ref=Ga(z,xe,H),O.return=z,z=O;break e}l(z,xe);break}else s(z,xe);xe=xe.sibling}H.type===k?(O=Bs(H.props.children,z.mode,se,H.key),O.return=z,z=O):(se=tc(H.type,H.key,H.props,null,z.mode,se),se.ref=Ga(z,O,H),se.return=z,z=se)}return T(z);case ie:e:{for(xe=H.key;O!==null;){if(O.key===xe)if(O.tag===4&&O.stateNode.containerInfo===H.containerInfo&&O.stateNode.implementation===H.implementation){l(z,O.sibling),O=m(O,H.children||[]),O.return=z,z=O;break e}else{l(z,O);break}else s(z,O);O=O.sibling}O=zd(H,z.mode,se),O.return=z,z=O}return T(z);case be:return xe=H._init,wt(z,O,xe(H._payload),se)}if(lt(H))return ge(z,O,H,se);if(ce(H))return ye(z,O,H,se);bu(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,O!==null&&O.tag===6?(l(z,O.sibling),O=m(O,H),O.return=z,z=O):(l(z,O),O=Ud(H,z.mode,se),O.return=z,z=O),T(z)):l(z,O)}return wt}var Mo=$g(!0),Hg=$g(!1),Vu=Bi(null),Nu=null,Lo=null,Xh=null;function Jh(){Xh=Lo=Nu=null}function Zh(r){var s=Vu.current;it(Vu),r._currentValue=s}function ed(r,s,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===l)break;r=r.return}}function Oo(r,s){Nu=r,Xh=Lo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(vn=!0),r.firstContext=null)}function qn(r){var s=r._currentValue;if(Xh!==r)if(r={context:r,memoizedValue:s,next:null},Lo===null){if(Nu===null)throw Error(n(308));Lo=r,Nu.dependencies={lanes:0,firstContext:r}}else Lo=Lo.next=r;return s}var Ns=null;function td(r){Ns===null?Ns=[r]:Ns.push(r)}function Wg(r,s,l,h){var m=s.interleaved;return m===null?(l.next=l,td(s)):(l.next=m.next,m.next=l),s.interleaved=l,di(r,h)}function di(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var $i=!1;function nd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function fi(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Hi(r,s,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,($e&2)!==0){var m=h.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),h.pending=s,di(r,l)}return m=h.interleaved,m===null?(s.next=s,td(h)):(s.next=m.next,m.next=s),h.interleaved=s,di(r,l)}function Du(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,Pa(r,l)}}function Kg(r,s){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var m=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?m=v=T:v=v.next=T,l=l.next}while(l!==null);v===null?m=v=s:v=v.next=s}else m=v=s;l={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Mu(r,s,l,h){var m=r.updateQueue;$i=!1;var v=m.firstBaseUpdate,T=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var M=R,q=M.next;M.next=null,T===null?v=q:T.next=q,T=M;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,R=Z.lastBaseUpdate,R!==T&&(R===null?Z.firstBaseUpdate=q:R.next=q,Z.lastBaseUpdate=M))}if(v!==null){var te=m.baseState;T=0,Z=q=M=null,R=v;do{var J=R.lane,he=R.eventTime;if((h&J)===J){Z!==null&&(Z=Z.next={eventTime:he,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var ge=r,ye=R;switch(J=s,he=l,ye.tag){case 1:if(ge=ye.payload,typeof ge=="function"){te=ge.call(he,te,J);break e}te=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=ye.payload,J=typeof ge=="function"?ge.call(he,te,J):ge,J==null)break e;te=oe({},te,J);break e;case 2:$i=!0}}R.callback!==null&&R.lane!==0&&(r.flags|=64,J=m.effects,J===null?m.effects=[R]:J.push(R))}else he={eventTime:he,lane:J,tag:R.tag,payload:R.payload,callback:R.callback,next:null},Z===null?(q=Z=he,M=te):Z=Z.next=he,T|=J;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;J=R,R=J.next,J.next=null,m.lastBaseUpdate=J,m.shared.pending=null}}while(!0);if(Z===null&&(M=te),m.baseState=M,m.firstBaseUpdate=q,m.lastBaseUpdate=Z,s=m.shared.interleaved,s!==null){m=s;do T|=m.lane,m=m.next;while(m!==s)}else v===null&&(m.shared.lanes=0);Ls|=T,r.lanes=T,r.memoizedState=te}}function Gg(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],m=h.callback;if(m!==null){if(h.callback=null,h=l,typeof m!="function")throw Error(n(191,m));m.call(h)}}}var Qa={},Fr=Bi(Qa),Ya=Bi(Qa),Xa=Bi(Qa);function Ds(r){if(r===Qa)throw Error(n(174));return r}function rd(r,s){switch(Ze(Xa,s),Ze(Ya,r),Ze(Fr,Qa),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Ai(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Ai(s,r)}it(Fr),Ze(Fr,s)}function jo(){it(Fr),it(Ya),it(Xa)}function Qg(r){Ds(Xa.current);var s=Ds(Fr.current),l=Ai(s,r.type);s!==l&&(Ze(Ya,r),Ze(Fr,l))}function id(r){Ya.current===r&&(it(Fr),it(Ya))}var ut=Bi(0);function Lu(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var sd=[];function od(){for(var r=0;r<sd.length;r++)sd[r]._workInProgressVersionPrimary=null;sd.length=0}var Ou=re.ReactCurrentDispatcher,ad=re.ReactCurrentBatchConfig,Ms=0,ct=null,bt=null,jt=null,ju=!1,Ja=!1,Za=0,Xx=0;function Zt(){throw Error(n(321))}function ld(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!ur(r[l],s[l]))return!1;return!0}function ud(r,s,l,h,m,v){if(Ms=v,ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ou.current=r===null||r.memoizedState===null?tS:nS,r=l(h,m),Ja){v=0;do{if(Ja=!1,Za=0,25<=v)throw Error(n(301));v+=1,jt=bt=null,s.updateQueue=null,Ou.current=rS,r=l(h,m)}while(Ja)}if(Ou.current=Uu,s=bt!==null&&bt.next!==null,Ms=0,jt=bt=ct=null,ju=!1,s)throw Error(n(300));return r}function cd(){var r=Za!==0;return Za=0,r}function Br(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?ct.memoizedState=jt=r:jt=jt.next=r,jt}function Kn(){if(bt===null){var r=ct.alternate;r=r!==null?r.memoizedState:null}else r=bt.next;var s=jt===null?ct.memoizedState:jt.next;if(s!==null)jt=s,bt=r;else{if(r===null)throw Error(n(310));bt=r,r={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},jt===null?ct.memoizedState=jt=r:jt=jt.next=r}return jt}function el(r,s){return typeof s=="function"?s(r):s}function hd(r){var s=Kn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var h=bt,m=h.baseQueue,v=l.pending;if(v!==null){if(m!==null){var T=m.next;m.next=v.next,v.next=T}h.baseQueue=m=v,l.pending=null}if(m!==null){v=m.next,h=h.baseState;var R=T=null,M=null,q=v;do{var Z=q.lane;if((Ms&Z)===Z)M!==null&&(M=M.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),h=q.hasEagerState?q.eagerState:r(h,q.action);else{var te={lane:Z,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};M===null?(R=M=te,T=h):M=M.next=te,ct.lanes|=Z,Ls|=Z}q=q.next}while(q!==null&&q!==v);M===null?T=h:M.next=R,ur(h,s.memoizedState)||(vn=!0),s.memoizedState=h,s.baseState=T,s.baseQueue=M,l.lastRenderedState=h}if(r=l.interleaved,r!==null){m=r;do v=m.lane,ct.lanes|=v,Ls|=v,m=m.next;while(m!==r)}else m===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function dd(r){var s=Kn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var h=l.dispatch,m=l.pending,v=s.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do v=r(v,T.action),T=T.next;while(T!==m);ur(v,s.memoizedState)||(vn=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),l.lastRenderedState=v}return[v,h]}function Yg(){}function Xg(r,s){var l=ct,h=Kn(),m=s(),v=!ur(h.memoizedState,m);if(v&&(h.memoizedState=m,vn=!0),h=h.queue,fd(ey.bind(null,l,h,r),[r]),h.getSnapshot!==s||v||jt!==null&&jt.memoizedState.tag&1){if(l.flags|=2048,tl(9,Zg.bind(null,l,h,m,s),void 0,null),Ft===null)throw Error(n(349));(Ms&30)!==0||Jg(l,s,m)}return m}function Jg(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=ct.updateQueue,s===null?(s={lastEffect:null,stores:null},ct.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function Zg(r,s,l,h){s.value=l,s.getSnapshot=h,ty(s)&&ny(r)}function ey(r,s,l){return l(function(){ty(s)&&ny(r)})}function ty(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!ur(r,l)}catch{return!0}}function ny(r){var s=di(r,1);s!==null&&pr(s,r,1,-1)}function ry(r){var s=Br();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:el,lastRenderedState:r},s.queue=r,r=r.dispatch=eS.bind(null,ct,r),[s.memoizedState,r]}function tl(r,s,l,h){return r={tag:r,create:s,destroy:l,deps:h,next:null},s=ct.updateQueue,s===null?(s={lastEffect:null,stores:null},ct.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,s.lastEffect=r)),r}function iy(){return Kn().memoizedState}function Fu(r,s,l,h){var m=Br();ct.flags|=r,m.memoizedState=tl(1|s,l,void 0,h===void 0?null:h)}function Bu(r,s,l,h){var m=Kn();h=h===void 0?null:h;var v=void 0;if(bt!==null){var T=bt.memoizedState;if(v=T.destroy,h!==null&&ld(h,T.deps)){m.memoizedState=tl(s,l,v,h);return}}ct.flags|=r,m.memoizedState=tl(1|s,l,v,h)}function sy(r,s){return Fu(8390656,8,r,s)}function fd(r,s){return Bu(2048,8,r,s)}function oy(r,s){return Bu(4,2,r,s)}function ay(r,s){return Bu(4,4,r,s)}function ly(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function uy(r,s,l){return l=l!=null?l.concat([r]):null,Bu(4,4,ly.bind(null,s,r),l)}function pd(){}function cy(r,s){var l=Kn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&ld(s,h[1])?h[0]:(l.memoizedState=[r,s],r)}function hy(r,s){var l=Kn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&ld(s,h[1])?h[0]:(r=r(),l.memoizedState=[r,s],r)}function dy(r,s,l){return(Ms&21)===0?(r.baseState&&(r.baseState=!1,vn=!0),r.memoizedState=l):(ur(l,s)||(l=Ca(),ct.lanes|=l,Ls|=l,r.baseState=!0),s)}function Jx(r,s){var l=je;je=l!==0&&4>l?l:4,r(!0);var h=ad.transition;ad.transition={};try{r(!1),s()}finally{je=l,ad.transition=h}}function fy(){return Kn().memoizedState}function Zx(r,s,l){var h=Gi(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},py(r))my(s,l);else if(l=Wg(r,s,l,h),l!==null){var m=hn();pr(l,r,h,m),gy(l,s,h)}}function eS(r,s,l){var h=Gi(r),m={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(py(r))my(s,m);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var T=s.lastRenderedState,R=v(T,l);if(m.hasEagerState=!0,m.eagerState=R,ur(R,T)){var M=s.interleaved;M===null?(m.next=m,td(s)):(m.next=M.next,M.next=m),s.interleaved=m;return}}catch{}finally{}l=Wg(r,s,m,h),l!==null&&(m=hn(),pr(l,r,h,m),gy(l,s,h))}}function py(r){var s=r.alternate;return r===ct||s!==null&&s===ct}function my(r,s){Ja=ju=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function gy(r,s,l){if((l&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,Pa(r,l)}}var Uu={readContext:qn,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},tS={readContext:qn,useCallback:function(r,s){return Br().memoizedState=[r,s===void 0?null:s],r},useContext:qn,useEffect:sy,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Fu(4194308,4,ly.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Fu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Fu(4,2,r,s)},useMemo:function(r,s){var l=Br();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var h=Br();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=Zx.bind(null,ct,r),[h.memoizedState,r]},useRef:function(r){var s=Br();return r={current:r},s.memoizedState=r},useState:ry,useDebugValue:pd,useDeferredValue:function(r){return Br().memoizedState=r},useTransition:function(){var r=ry(!1),s=r[0];return r=Jx.bind(null,r[1]),Br().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var h=ct,m=Br();if(ot){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),Ft===null)throw Error(n(349));(Ms&30)!==0||Jg(h,s,l)}m.memoizedState=l;var v={value:l,getSnapshot:s};return m.queue=v,sy(ey.bind(null,h,v,r),[r]),h.flags|=2048,tl(9,Zg.bind(null,h,v,l,s),void 0,null),l},useId:function(){var r=Br(),s=Ft.identifierPrefix;if(ot){var l=hi,h=ci;l=(h&~(1<<32-Pn(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=Za++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=Xx++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},nS={readContext:qn,useCallback:cy,useContext:qn,useEffect:fd,useImperativeHandle:uy,useInsertionEffect:oy,useLayoutEffect:ay,useMemo:hy,useReducer:hd,useRef:iy,useState:function(){return hd(el)},useDebugValue:pd,useDeferredValue:function(r){var s=Kn();return dy(s,bt.memoizedState,r)},useTransition:function(){var r=hd(el)[0],s=Kn().memoizedState;return[r,s]},useMutableSource:Yg,useSyncExternalStore:Xg,useId:fy,unstable_isNewReconciler:!1},rS={readContext:qn,useCallback:cy,useContext:qn,useEffect:fd,useImperativeHandle:uy,useInsertionEffect:oy,useLayoutEffect:ay,useMemo:hy,useReducer:dd,useRef:iy,useState:function(){return dd(el)},useDebugValue:pd,useDeferredValue:function(r){var s=Kn();return bt===null?s.memoizedState=r:dy(s,bt.memoizedState,r)},useTransition:function(){var r=dd(el)[0],s=Kn().memoizedState;return[r,s]},useMutableSource:Yg,useSyncExternalStore:Xg,useId:fy,unstable_isNewReconciler:!1};function hr(r,s){if(r&&r.defaultProps){s=oe({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function md(r,s,l,h){s=r.memoizedState,l=l(h,s),l=l==null?s:oe({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var zu={isMounted:function(r){return(r=r._reactInternals)?ar(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var h=hn(),m=Gi(r),v=fi(h,m);v.payload=s,l!=null&&(v.callback=l),s=Hi(r,v,m),s!==null&&(pr(s,r,m,h),Du(s,r,m))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var h=hn(),m=Gi(r),v=fi(h,m);v.tag=1,v.payload=s,l!=null&&(v.callback=l),s=Hi(r,v,m),s!==null&&(pr(s,r,m,h),Du(s,r,m))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=hn(),h=Gi(r),m=fi(l,h);m.tag=2,s!=null&&(m.callback=s),s=Hi(r,m,h),s!==null&&(pr(s,r,h,l),Du(s,r,h))}};function yy(r,s,l,h,m,v,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,v,T):s.prototype&&s.prototype.isPureReactComponent?!Ua(l,h)||!Ua(m,v):!0}function vy(r,s,l){var h=!1,m=Ui,v=s.contextType;return typeof v=="object"&&v!==null?v=qn(v):(m=yn(s)?ks:Jt.current,h=s.contextTypes,v=(h=h!=null)?bo(r,m):Ui),s=new s(l,v),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=zu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=m,r.__reactInternalMemoizedMaskedChildContext=v),s}function wy(r,s,l,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==r&&zu.enqueueReplaceState(s,s.state,null)}function gd(r,s,l,h){var m=r.stateNode;m.props=l,m.state=r.memoizedState,m.refs={},nd(r);var v=s.contextType;typeof v=="object"&&v!==null?m.context=qn(v):(v=yn(s)?ks:Jt.current,m.context=bo(r,v)),m.state=r.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(md(r,s,v,l),m.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(s=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),s!==m.state&&zu.enqueueReplaceState(m,m.state,null),Mu(r,l,m,h),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308)}function Fo(r,s){try{var l="",h=s;do l+=_e(h),h=h.return;while(h);var m=l}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:r,source:s,stack:m,digest:null}}function yd(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function vd(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var iS=typeof WeakMap=="function"?WeakMap:Map;function _y(r,s,l){l=fi(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){Qu||(Qu=!0,Nd=h),vd(r,s)},l}function Ey(r,s,l){l=fi(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var m=s.value;l.payload=function(){return h(m)},l.callback=function(){vd(r,s)}}var v=r.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){vd(r,s),typeof h!="function"&&(qi===null?qi=new Set([this]):qi.add(this));var T=s.stack;this.componentDidCatch(s.value,{componentStack:T!==null?T:""})}),l}function Ty(r,s,l){var h=r.pingCache;if(h===null){h=r.pingCache=new iS;var m=new Set;h.set(s,m)}else m=h.get(s),m===void 0&&(m=new Set,h.set(s,m));m.has(l)||(m.add(l),r=vS.bind(null,r,s,l),s.then(r,r))}function xy(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Sy(r,s,l,h,m){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=fi(-1,1),s.tag=2,Hi(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=m,r)}var sS=re.ReactCurrentOwner,vn=!1;function cn(r,s,l,h){s.child=r===null?Hg(s,null,l,h):Mo(s,r.child,l,h)}function Iy(r,s,l,h,m){l=l.render;var v=s.ref;return Oo(s,m),h=ud(r,s,l,h,v,m),l=cd(),r!==null&&!vn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~m,pi(r,s,m)):(ot&&l&&qh(s),s.flags|=1,cn(r,s,h,m),s.child)}function Ay(r,s,l,h,m){if(r===null){var v=l.type;return typeof v=="function"&&!Bd(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=v,Cy(r,s,v,h,m)):(r=tc(l.type,null,h,s,s.mode,m),r.ref=s.ref,r.return=s,s.child=r)}if(v=r.child,(r.lanes&m)===0){var T=v.memoizedProps;if(l=l.compare,l=l!==null?l:Ua,l(T,h)&&r.ref===s.ref)return pi(r,s,m)}return s.flags|=1,r=Yi(v,h),r.ref=s.ref,r.return=s,s.child=r}function Cy(r,s,l,h,m){if(r!==null){var v=r.memoizedProps;if(Ua(v,h)&&r.ref===s.ref)if(vn=!1,s.pendingProps=h=v,(r.lanes&m)!==0)(r.flags&131072)!==0&&(vn=!0);else return s.lanes=r.lanes,pi(r,s,m)}return wd(r,s,l,h,m)}function Ry(r,s,l){var h=s.pendingProps,m=h.children,v=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Uo,Ln),Ln|=l;else{if((l&1073741824)===0)return r=v!==null?v.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ze(Uo,Ln),Ln|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:l,Ze(Uo,Ln),Ln|=h}else v!==null?(h=v.baseLanes|l,s.memoizedState=null):h=l,Ze(Uo,Ln),Ln|=h;return cn(r,s,m,l),s.child}function Py(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function wd(r,s,l,h,m){var v=yn(l)?ks:Jt.current;return v=bo(s,v),Oo(s,m),l=ud(r,s,l,h,v,m),h=cd(),r!==null&&!vn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~m,pi(r,s,m)):(ot&&h&&qh(s),s.flags|=1,cn(r,s,l,m),s.child)}function ky(r,s,l,h,m){if(yn(l)){var v=!0;Au(s)}else v=!1;if(Oo(s,m),s.stateNode===null)Hu(r,s),vy(s,l,h),gd(s,l,h,m),h=!0;else if(r===null){var T=s.stateNode,R=s.memoizedProps;T.props=R;var M=T.context,q=l.contextType;typeof q=="object"&&q!==null?q=qn(q):(q=yn(l)?ks:Jt.current,q=bo(s,q));var Z=l.getDerivedStateFromProps,te=typeof Z=="function"||typeof T.getSnapshotBeforeUpdate=="function";te||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(R!==h||M!==q)&&wy(s,T,h,q),$i=!1;var J=s.memoizedState;T.state=J,Mu(s,h,T,m),M=s.memoizedState,R!==h||J!==M||gn.current||$i?(typeof Z=="function"&&(md(s,l,Z,h),M=s.memoizedState),(R=$i||yy(s,l,R,h,J,M,q))?(te||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(s.flags|=4194308)):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=M),T.props=h,T.state=M,T.context=q,h=R):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{T=s.stateNode,qg(r,s),R=s.memoizedProps,q=s.type===s.elementType?R:hr(s.type,R),T.props=q,te=s.pendingProps,J=T.context,M=l.contextType,typeof M=="object"&&M!==null?M=qn(M):(M=yn(l)?ks:Jt.current,M=bo(s,M));var he=l.getDerivedStateFromProps;(Z=typeof he=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(R!==te||J!==M)&&wy(s,T,h,M),$i=!1,J=s.memoizedState,T.state=J,Mu(s,h,T,m);var ge=s.memoizedState;R!==te||J!==ge||gn.current||$i?(typeof he=="function"&&(md(s,l,he,h),ge=s.memoizedState),(q=$i||yy(s,l,q,h,J,ge,M)||!1)?(Z||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,ge,M),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,ge,M)),typeof T.componentDidUpdate=="function"&&(s.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof T.componentDidUpdate!="function"||R===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ge),T.props=h,T.state=ge,T.context=M,h=q):(typeof T.componentDidUpdate!="function"||R===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),h=!1)}return _d(r,s,l,h,v,m)}function _d(r,s,l,h,m,v){Py(r,s);var T=(s.flags&128)!==0;if(!h&&!T)return m&&Mg(s,l,!1),pi(r,s,v);h=s.stateNode,sS.current=s;var R=T&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&T?(s.child=Mo(s,r.child,null,v),s.child=Mo(s,null,R,v)):cn(r,s,R,v),s.memoizedState=h.state,m&&Mg(s,l,!0),s.child}function by(r){var s=r.stateNode;s.pendingContext?Ng(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Ng(r,s.context,!1),rd(r,s.containerInfo)}function Vy(r,s,l,h,m){return Do(),Yh(m),s.flags|=256,cn(r,s,l,h),s.child}var Ed={dehydrated:null,treeContext:null,retryLane:0};function Td(r){return{baseLanes:r,cachePool:null,transitions:null}}function Ny(r,s,l){var h=s.pendingProps,m=ut.current,v=!1,T=(s.flags&128)!==0,R;if((R=T)||(R=r!==null&&r.memoizedState===null?!1:(m&2)!==0),R?(v=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(m|=1),Ze(ut,m&1),r===null)return Qh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(T=h.children,r=h.fallback,v?(h=s.mode,v=s.child,T={mode:"hidden",children:T},(h&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=T):v=nc(T,h,0,null),r=Bs(r,h,l,null),v.return=s,r.return=s,v.sibling=r,s.child=v,s.child.memoizedState=Td(l),s.memoizedState=Ed,r):xd(s,T));if(m=r.memoizedState,m!==null&&(R=m.dehydrated,R!==null))return oS(r,s,T,h,R,m,l);if(v){v=h.fallback,T=s.mode,m=r.child,R=m.sibling;var M={mode:"hidden",children:h.children};return(T&1)===0&&s.child!==m?(h=s.child,h.childLanes=0,h.pendingProps=M,s.deletions=null):(h=Yi(m,M),h.subtreeFlags=m.subtreeFlags&14680064),R!==null?v=Yi(R,v):(v=Bs(v,T,l,null),v.flags|=2),v.return=s,h.return=s,h.sibling=v,s.child=h,h=v,v=s.child,T=r.child.memoizedState,T=T===null?Td(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},v.memoizedState=T,v.childLanes=r.childLanes&~l,s.memoizedState=Ed,h}return v=r.child,r=v.sibling,h=Yi(v,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=l),h.return=s,h.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=h,s.memoizedState=null,h}function xd(r,s){return s=nc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function $u(r,s,l,h){return h!==null&&Yh(h),Mo(s,r.child,null,l),r=xd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function oS(r,s,l,h,m,v,T){if(l)return s.flags&256?(s.flags&=-257,h=yd(Error(n(422))),$u(r,s,T,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(v=h.fallback,m=s.mode,h=nc({mode:"visible",children:h.children},m,0,null),v=Bs(v,m,T,null),v.flags|=2,h.return=s,v.return=s,h.sibling=v,s.child=h,(s.mode&1)!==0&&Mo(s,r.child,null,T),s.child.memoizedState=Td(T),s.memoizedState=Ed,v);if((s.mode&1)===0)return $u(r,s,T,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var R=h.dgst;return h=R,v=Error(n(419)),h=yd(v,h,void 0),$u(r,s,T,h)}if(R=(T&r.childLanes)!==0,vn||R){if(h=Ft,h!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|T))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,di(r,m),pr(h,r,m,-1))}return Fd(),h=yd(Error(n(421))),$u(r,s,T,h)}return m.data==="$?"?(s.flags|=128,s.child=r.child,s=wS.bind(null,r),m._reactRetry=s,null):(r=v.treeContext,Mn=Fi(m.nextSibling),Dn=s,ot=!0,cr=null,r!==null&&(Hn[Wn++]=ci,Hn[Wn++]=hi,Hn[Wn++]=bs,ci=r.id,hi=r.overflow,bs=s),s=xd(s,h.children),s.flags|=4096,s)}function Dy(r,s,l){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),ed(r.return,s,l)}function Sd(r,s,l,h,m){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:m}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=l,v.tailMode=m)}function My(r,s,l){var h=s.pendingProps,m=h.revealOrder,v=h.tail;if(cn(r,s,h.children,l),h=ut.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Dy(r,l,s);else if(r.tag===19)Dy(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Ze(ut,h),(s.mode&1)===0)s.memoizedState=null;else switch(m){case"forwards":for(l=s.child,m=null;l!==null;)r=l.alternate,r!==null&&Lu(r)===null&&(m=l),l=l.sibling;l=m,l===null?(m=s.child,s.child=null):(m=l.sibling,l.sibling=null),Sd(s,!1,m,l,v);break;case"backwards":for(l=null,m=s.child,s.child=null;m!==null;){if(r=m.alternate,r!==null&&Lu(r)===null){s.child=m;break}r=m.sibling,m.sibling=l,l=m,m=r}Sd(s,!0,l,null,v);break;case"together":Sd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Hu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function pi(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Ls|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,l=Yi(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Yi(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function aS(r,s,l){switch(s.tag){case 3:by(s),Do();break;case 5:Qg(s);break;case 1:yn(s.type)&&Au(s);break;case 4:rd(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,m=s.memoizedProps.value;Ze(Vu,h._currentValue),h._currentValue=m;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Ze(ut,ut.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?Ny(r,s,l):(Ze(ut,ut.current&1),r=pi(r,s,l),r!==null?r.sibling:null);Ze(ut,ut.current&1);break;case 19:if(h=(l&s.childLanes)!==0,(r.flags&128)!==0){if(h)return My(r,s,l);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ze(ut,ut.current),h)break;return null;case 22:case 23:return s.lanes=0,Ry(r,s,l)}return pi(r,s,l)}var Ly,Id,Oy,jy;Ly=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Id=function(){},Oy=function(r,s,l,h){var m=r.memoizedProps;if(m!==h){r=s.stateNode,Ds(Fr.current);var v=null;switch(l){case"input":m=Tr(r,m),h=Tr(r,h),v=[];break;case"select":m=oe({},m,{value:void 0}),h=oe({},h,{value:void 0}),v=[];break;case"textarea":m=kt(r,m),h=kt(r,h),v=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=xu)}mn(l,h);var T;l=null;for(q in m)if(!h.hasOwnProperty(q)&&m.hasOwnProperty(q)&&m[q]!=null)if(q==="style"){var R=m[q];for(T in R)R.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(o.hasOwnProperty(q)?v||(v=[]):(v=v||[]).push(q,null));for(q in h){var M=h[q];if(R=m?.[q],h.hasOwnProperty(q)&&M!==R&&(M!=null||R!=null))if(q==="style")if(R){for(T in R)!R.hasOwnProperty(T)||M&&M.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in M)M.hasOwnProperty(T)&&R[T]!==M[T]&&(l||(l={}),l[T]=M[T])}else l||(v||(v=[]),v.push(q,l)),l=M;else q==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,R=R?R.__html:void 0,M!=null&&R!==M&&(v=v||[]).push(q,M)):q==="children"?typeof M!="string"&&typeof M!="number"||(v=v||[]).push(q,""+M):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(o.hasOwnProperty(q)?(M!=null&&q==="onScroll"&&rt("scroll",r),v||R===M||(v=[])):(v=v||[]).push(q,M))}l&&(v=v||[]).push("style",l);var q=v;(s.updateQueue=q)&&(s.flags|=4)}},jy=function(r,s,l,h){l!==h&&(s.flags|=4)};function nl(r,s){if(!ot)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function en(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(s)for(var m=r.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=h,r.childLanes=l,s}function lS(r,s,l){var h=s.pendingProps;switch(Kh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(s),null;case 1:return yn(s.type)&&Iu(),en(s),null;case 3:return h=s.stateNode,jo(),it(gn),it(Jt),od(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(ku(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,cr!==null&&(Ld(cr),cr=null))),Id(r,s),en(s),null;case 5:id(s);var m=Ds(Xa.current);if(l=s.type,r!==null&&s.stateNode!=null)Oy(r,s,l,h,m),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(n(166));return en(s),null}if(r=Ds(Fr.current),ku(s)){h=s.stateNode,l=s.type;var v=s.memoizedProps;switch(h[jr]=s,h[qa]=v,r=(s.mode&1)!==0,l){case"dialog":rt("cancel",h),rt("close",h);break;case"iframe":case"object":case"embed":rt("load",h);break;case"video":case"audio":for(m=0;m<$a.length;m++)rt($a[m],h);break;case"source":rt("error",h);break;case"img":case"image":case"link":rt("error",h),rt("load",h);break;case"details":rt("toggle",h);break;case"input":ao(h,v),rt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},rt("invalid",h);break;case"textarea":Fn(h,v),rt("invalid",h)}mn(l,v),m=null;for(var T in v)if(v.hasOwnProperty(T)){var R=v[T];T==="children"?typeof R=="string"?h.textContent!==R&&(v.suppressHydrationWarning!==!0&&Tu(h.textContent,R,r),m=["children",R]):typeof R=="number"&&h.textContent!==""+R&&(v.suppressHydrationWarning!==!0&&Tu(h.textContent,R,r),m=["children",""+R]):o.hasOwnProperty(T)&&R!=null&&T==="onScroll"&&rt("scroll",h)}switch(l){case"input":tr(h),Ii(h,v,!0);break;case"textarea":tr(h),xr(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=xu)}h=m,s.updateQueue=h,h!==null&&(s.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Sr(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=T.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=T.createElement(l,{is:h.is}):(r=T.createElement(l),l==="select"&&(T=r,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):r=T.createElementNS(r,l),r[jr]=s,r[qa]=h,Ly(r,s,!1,!1),s.stateNode=r;e:{switch(T=ki(l,h),l){case"dialog":rt("cancel",r),rt("close",r),m=h;break;case"iframe":case"object":case"embed":rt("load",r),m=h;break;case"video":case"audio":for(m=0;m<$a.length;m++)rt($a[m],r);m=h;break;case"source":rt("error",r),m=h;break;case"img":case"image":case"link":rt("error",r),rt("load",r),m=h;break;case"details":rt("toggle",r),m=h;break;case"input":ao(r,h),m=Tr(r,h),rt("invalid",r);break;case"option":m=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},m=oe({},h,{value:void 0}),rt("invalid",r);break;case"textarea":Fn(r,h),m=kt(r,h),rt("invalid",r);break;default:m=h}mn(l,m),R=m;for(v in R)if(R.hasOwnProperty(v)){var M=R[v];v==="style"?Ri(r,M):v==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&Ci(r,M)):v==="children"?typeof M=="string"?(l!=="textarea"||M!=="")&&pn(r,M):typeof M=="number"&&pn(r,""+M):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?M!=null&&v==="onScroll"&&rt("scroll",r):M!=null&&K(r,v,M,T))}switch(l){case"input":tr(r),Ii(r,h,!1);break;case"textarea":tr(r),xr(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Ee(h.value));break;case"select":r.multiple=!!h.multiple,v=h.value,v!=null?An(r,!!h.multiple,v,!1):h.defaultValue!=null&&An(r,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(r.onclick=xu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return en(s),null;case 6:if(r&&s.stateNode!=null)jy(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(n(166));if(l=Ds(Xa.current),Ds(Fr.current),ku(s)){if(h=s.stateNode,l=s.memoizedProps,h[jr]=s,(v=h.nodeValue!==l)&&(r=Dn,r!==null))switch(r.tag){case 3:Tu(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Tu(h.nodeValue,l,(r.mode&1)!==0)}v&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[jr]=s,s.stateNode=h}return en(s),null;case 13:if(it(ut),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ot&&Mn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Ug(),Do(),s.flags|=98560,v=!1;else if(v=ku(s),h!==null&&h.dehydrated!==null){if(r===null){if(!v)throw Error(n(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[jr]=s}else Do(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;en(s),v=!1}else cr!==null&&(Ld(cr),cr=null),v=!0;if(!v)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(ut.current&1)!==0?Vt===0&&(Vt=3):Fd())),s.updateQueue!==null&&(s.flags|=4),en(s),null);case 4:return jo(),Id(r,s),r===null&&Ha(s.stateNode.containerInfo),en(s),null;case 10:return Zh(s.type._context),en(s),null;case 17:return yn(s.type)&&Iu(),en(s),null;case 19:if(it(ut),v=s.memoizedState,v===null)return en(s),null;if(h=(s.flags&128)!==0,T=v.rendering,T===null)if(h)nl(v,!1);else{if(Vt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(T=Lu(r),T!==null){for(s.flags|=128,nl(v,!1),h=T.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)v=l,r=h,v.flags&=14680066,T=v.alternate,T===null?(v.childLanes=0,v.lanes=r,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,r=T.dependencies,v.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Ze(ut,ut.current&1|2),s.child}r=r.sibling}v.tail!==null&&nt()>zo&&(s.flags|=128,h=!0,nl(v,!1),s.lanes=4194304)}else{if(!h)if(r=Lu(T),r!==null){if(s.flags|=128,h=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),nl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!T.alternate&&!ot)return en(s),null}else 2*nt()-v.renderingStartTime>zo&&l!==1073741824&&(s.flags|=128,h=!0,nl(v,!1),s.lanes=4194304);v.isBackwards?(T.sibling=s.child,s.child=T):(l=v.last,l!==null?l.sibling=T:s.child=T,v.last=T)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=nt(),s.sibling=null,l=ut.current,Ze(ut,h?l&1|2:l&1),s):(en(s),null);case 22:case 23:return jd(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(Ln&1073741824)!==0&&(en(s),s.subtreeFlags&6&&(s.flags|=8192)):en(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function uS(r,s){switch(Kh(s),s.tag){case 1:return yn(s.type)&&Iu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return jo(),it(gn),it(Jt),od(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return id(s),null;case 13:if(it(ut),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Do()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return it(ut),null;case 4:return jo(),null;case 10:return Zh(s.type._context),null;case 22:case 23:return jd(),null;case 24:return null;default:return null}}var Wu=!1,tn=!1,cS=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Bo(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){mt(r,s,h)}else l.current=null}function Ad(r,s,l){try{l()}catch(h){mt(r,s,h)}}var Fy=!1;function hS(r,s){if(jh=si,r=yg(),kh(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var m=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var T=0,R=-1,M=-1,q=0,Z=0,te=r,J=null;t:for(;;){for(var he;te!==l||m!==0&&te.nodeType!==3||(R=T+m),te!==v||h!==0&&te.nodeType!==3||(M=T+h),te.nodeType===3&&(T+=te.nodeValue.length),(he=te.firstChild)!==null;)J=te,te=he;for(;;){if(te===r)break t;if(J===l&&++q===m&&(R=T),J===v&&++Z===h&&(M=T),(he=te.nextSibling)!==null)break;te=J,J=te.parentNode}te=he}l=R===-1||M===-1?null:{start:R,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(Fh={focusedElem:r,selectionRange:l},si=!1,pe=s;pe!==null;)if(s=pe,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,pe=r;else for(;pe!==null;){s=pe;try{var ge=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var ye=ge.memoizedProps,wt=ge.memoizedState,z=s.stateNode,O=z.getSnapshotBeforeUpdate(s.elementType===s.type?ye:hr(s.type,ye),wt);z.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var H=s.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(se){mt(s,s.return,se)}if(r=s.sibling,r!==null){r.return=s.return,pe=r;break}pe=s.return}return ge=Fy,Fy=!1,ge}function rl(r,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&r)===r){var v=m.destroy;m.destroy=void 0,v!==void 0&&Ad(s,l,v)}m=m.next}while(m!==h)}}function qu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function Cd(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function By(r){var s=r.alternate;s!==null&&(r.alternate=null,By(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[jr],delete s[qa],delete s[$h],delete s[Kx],delete s[Gx])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Uy(r){return r.tag===5||r.tag===3||r.tag===4}function zy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Uy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Rd(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=xu));else if(h!==4&&(r=r.child,r!==null))for(Rd(r,s,l),r=r.sibling;r!==null;)Rd(r,s,l),r=r.sibling}function Pd(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Pd(r,s,l),r=r.sibling;r!==null;)Pd(r,s,l),r=r.sibling}var Ht=null,dr=!1;function Wi(r,s,l){for(l=l.child;l!==null;)$y(r,s,l),l=l.sibling}function $y(r,s,l){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(_s,l)}catch{}switch(l.tag){case 5:tn||Bo(l,s);case 6:var h=Ht,m=dr;Ht=null,Wi(r,s,l),Ht=h,dr=m,Ht!==null&&(dr?(r=Ht,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Ht.removeChild(l.stateNode));break;case 18:Ht!==null&&(dr?(r=Ht,l=l.stateNode,r.nodeType===8?zh(r.parentNode,l):r.nodeType===1&&zh(r,l),Mi(r)):zh(Ht,l.stateNode));break;case 4:h=Ht,m=dr,Ht=l.stateNode.containerInfo,dr=!0,Wi(r,s,l),Ht=h,dr=m;break;case 0:case 11:case 14:case 15:if(!tn&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var v=m,T=v.destroy;v=v.tag,T!==void 0&&((v&2)!==0||(v&4)!==0)&&Ad(l,s,T),m=m.next}while(m!==h)}Wi(r,s,l);break;case 1:if(!tn&&(Bo(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(R){mt(l,s,R)}Wi(r,s,l);break;case 21:Wi(r,s,l);break;case 22:l.mode&1?(tn=(h=tn)||l.memoizedState!==null,Wi(r,s,l),tn=h):Wi(r,s,l);break;default:Wi(r,s,l)}}function Hy(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new cS),s.forEach(function(h){var m=_S.bind(null,r,h);l.has(h)||(l.add(h),h.then(m,m))})}}function fr(r,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];try{var v=r,T=s,R=T;e:for(;R!==null;){switch(R.tag){case 5:Ht=R.stateNode,dr=!1;break e;case 3:Ht=R.stateNode.containerInfo,dr=!0;break e;case 4:Ht=R.stateNode.containerInfo,dr=!0;break e}R=R.return}if(Ht===null)throw Error(n(160));$y(v,T,m),Ht=null,dr=!1;var M=m.alternate;M!==null&&(M.return=null),m.return=null}catch(q){mt(m,s,q)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Wy(s,r),s=s.sibling}function Wy(r,s){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(fr(s,r),Ur(r),h&4){try{rl(3,r,r.return),qu(3,r)}catch(ye){mt(r,r.return,ye)}try{rl(5,r,r.return)}catch(ye){mt(r,r.return,ye)}}break;case 1:fr(s,r),Ur(r),h&512&&l!==null&&Bo(l,l.return);break;case 5:if(fr(s,r),Ur(r),h&512&&l!==null&&Bo(l,l.return),r.flags&32){var m=r.stateNode;try{pn(m,"")}catch(ye){mt(r,r.return,ye)}}if(h&4&&(m=r.stateNode,m!=null)){var v=r.memoizedProps,T=l!==null?l.memoizedProps:v,R=r.type,M=r.updateQueue;if(r.updateQueue=null,M!==null)try{R==="input"&&v.type==="radio"&&v.name!=null&&ei(m,v),ki(R,T);var q=ki(R,v);for(T=0;T<M.length;T+=2){var Z=M[T],te=M[T+1];Z==="style"?Ri(m,te):Z==="dangerouslySetInnerHTML"?Ci(m,te):Z==="children"?pn(m,te):K(m,Z,te,q)}switch(R){case"input":In(m,v);break;case"textarea":lo(m,v);break;case"select":var J=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var he=v.value;he!=null?An(m,!!v.multiple,he,!1):J!==!!v.multiple&&(v.defaultValue!=null?An(m,!!v.multiple,v.defaultValue,!0):An(m,!!v.multiple,v.multiple?[]:"",!1))}m[qa]=v}catch(ye){mt(r,r.return,ye)}}break;case 6:if(fr(s,r),Ur(r),h&4){if(r.stateNode===null)throw Error(n(162));m=r.stateNode,v=r.memoizedProps;try{m.nodeValue=v}catch(ye){mt(r,r.return,ye)}}break;case 3:if(fr(s,r),Ur(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Mi(s.containerInfo)}catch(ye){mt(r,r.return,ye)}break;case 4:fr(s,r),Ur(r);break;case 13:fr(s,r),Ur(r),m=r.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(Vd=nt())),h&4&&Hy(r);break;case 22:if(Z=l!==null&&l.memoizedState!==null,r.mode&1?(tn=(q=tn)||Z,fr(s,r),tn=q):fr(s,r),Ur(r),h&8192){if(q=r.memoizedState!==null,(r.stateNode.isHidden=q)&&!Z&&(r.mode&1)!==0)for(pe=r,Z=r.child;Z!==null;){for(te=pe=Z;pe!==null;){switch(J=pe,he=J.child,J.tag){case 0:case 11:case 14:case 15:rl(4,J,J.return);break;case 1:Bo(J,J.return);var ge=J.stateNode;if(typeof ge.componentWillUnmount=="function"){h=J,l=J.return;try{s=h,ge.props=s.memoizedProps,ge.state=s.memoizedState,ge.componentWillUnmount()}catch(ye){mt(h,l,ye)}}break;case 5:Bo(J,J.return);break;case 22:if(J.memoizedState!==null){Gy(te);continue}}he!==null?(he.return=J,pe=he):Gy(te)}Z=Z.sibling}e:for(Z=null,te=r;;){if(te.tag===5){if(Z===null){Z=te;try{m=te.stateNode,q?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(R=te.stateNode,M=te.memoizedProps.style,T=M!=null&&M.hasOwnProperty("display")?M.display:null,R.style.display=Ir("display",T))}catch(ye){mt(r,r.return,ye)}}}else if(te.tag===6){if(Z===null)try{te.stateNode.nodeValue=q?"":te.memoizedProps}catch(ye){mt(r,r.return,ye)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===r)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===r)break e;for(;te.sibling===null;){if(te.return===null||te.return===r)break e;Z===te&&(Z=null),te=te.return}Z===te&&(Z=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:fr(s,r),Ur(r),h&4&&Hy(r);break;case 21:break;default:fr(s,r),Ur(r)}}function Ur(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(Uy(l)){var h=l;break e}l=l.return}throw Error(n(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(pn(m,""),h.flags&=-33);var v=zy(r);Pd(r,v,m);break;case 3:case 4:var T=h.stateNode.containerInfo,R=zy(r);Rd(r,R,T);break;default:throw Error(n(161))}}catch(M){mt(r,r.return,M)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function dS(r,s,l){pe=r,qy(r)}function qy(r,s,l){for(var h=(r.mode&1)!==0;pe!==null;){var m=pe,v=m.child;if(m.tag===22&&h){var T=m.memoizedState!==null||Wu;if(!T){var R=m.alternate,M=R!==null&&R.memoizedState!==null||tn;R=Wu;var q=tn;if(Wu=T,(tn=M)&&!q)for(pe=m;pe!==null;)T=pe,M=T.child,T.tag===22&&T.memoizedState!==null?Qy(m):M!==null?(M.return=T,pe=M):Qy(m);for(;v!==null;)pe=v,qy(v),v=v.sibling;pe=m,Wu=R,tn=q}Ky(r)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,pe=v):Ky(r)}}function Ky(r){for(;pe!==null;){var s=pe;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:tn||qu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!tn)if(l===null)h.componentDidMount();else{var m=s.elementType===s.type?l.memoizedProps:hr(s.type,l.memoizedProps);h.componentDidUpdate(m,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=s.updateQueue;v!==null&&Gg(s,v,h);break;case 3:var T=s.updateQueue;if(T!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Gg(s,T,l)}break;case 5:var R=s.stateNode;if(l===null&&s.flags&4){l=R;var M=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&l.focus();break;case"img":M.src&&(l.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var q=s.alternate;if(q!==null){var Z=q.memoizedState;if(Z!==null){var te=Z.dehydrated;te!==null&&Mi(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}tn||s.flags&512&&Cd(s)}catch(J){mt(s,s.return,J)}}if(s===r){pe=null;break}if(l=s.sibling,l!==null){l.return=s.return,pe=l;break}pe=s.return}}function Gy(r){for(;pe!==null;){var s=pe;if(s===r){pe=null;break}var l=s.sibling;if(l!==null){l.return=s.return,pe=l;break}pe=s.return}}function Qy(r){for(;pe!==null;){var s=pe;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{qu(4,s)}catch(M){mt(s,l,M)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var m=s.return;try{h.componentDidMount()}catch(M){mt(s,m,M)}}var v=s.return;try{Cd(s)}catch(M){mt(s,v,M)}break;case 5:var T=s.return;try{Cd(s)}catch(M){mt(s,T,M)}}}catch(M){mt(s,s.return,M)}if(s===r){pe=null;break}var R=s.sibling;if(R!==null){R.return=s.return,pe=R;break}pe=s.return}}var fS=Math.ceil,Ku=re.ReactCurrentDispatcher,kd=re.ReactCurrentOwner,Gn=re.ReactCurrentBatchConfig,$e=0,Ft=null,It=null,Wt=0,Ln=0,Uo=Bi(0),Vt=0,il=null,Ls=0,Gu=0,bd=0,sl=null,wn=null,Vd=0,zo=1/0,mi=null,Qu=!1,Nd=null,qi=null,Yu=!1,Ki=null,Xu=0,ol=0,Dd=null,Ju=-1,Zu=0;function hn(){return($e&6)!==0?nt():Ju!==-1?Ju:Ju=nt()}function Gi(r){return(r.mode&1)===0?1:($e&2)!==0&&Wt!==0?Wt&-Wt:Yx.transition!==null?(Zu===0&&(Zu=Ca()),Zu):(r=je,r!==0||(r=window.event,r=r===void 0?16:yo(r.type)),r)}function pr(r,s,l,h){if(50<ol)throw ol=0,Dd=null,Error(n(185));Ss(r,l,h),(($e&2)===0||r!==Ft)&&(r===Ft&&(($e&2)===0&&(Gu|=l),Vt===4&&Qi(r,Wt)),_n(r,h),l===1&&$e===0&&(s.mode&1)===0&&(zo=nt()+500,Cu&&zi()))}function _n(r,s){var l=r.callbackNode;xs(r,s);var h=ni(r,r===Ft?Wt:0);if(h===0)l!==null&&uo(l),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(l!=null&&uo(l),s===1)r.tag===0?Qx(Xy.bind(null,r)):Lg(Xy.bind(null,r)),Wx(function(){($e&6)===0&&zi()}),l=null;else{switch(Rr(h)){case 1:l=co;break;case 4:l=Sa;break;case 16:l=ws;break;case 536870912:l=ho;break;default:l=ws}l=s0(l,Yy.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function Yy(r,s){if(Ju=-1,Zu=0,($e&6)!==0)throw Error(n(327));var l=r.callbackNode;if($o()&&r.callbackNode!==l)return null;var h=ni(r,r===Ft?Wt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=ec(r,h);else{s=h;var m=$e;$e|=2;var v=Zy();(Ft!==r||Wt!==s)&&(mi=null,zo=nt()+500,js(r,s));do try{gS();break}catch(R){Jy(r,R)}while(!0);Jh(),Ku.current=v,$e=m,It!==null?s=0:(Ft=null,Wt=0,s=Vt)}if(s!==0){if(s===2&&(m=Aa(r),m!==0&&(h=m,s=Md(r,m))),s===1)throw l=il,js(r,0),Qi(r,h),_n(r,nt()),l;if(s===6)Qi(r,h);else{if(m=r.current.alternate,(h&30)===0&&!pS(m)&&(s=ec(r,h),s===2&&(v=Aa(r),v!==0&&(h=v,s=Md(r,v))),s===1))throw l=il,js(r,0),Qi(r,h),_n(r,nt()),l;switch(r.finishedWork=m,r.finishedLanes=h,s){case 0:case 1:throw Error(n(345));case 2:Fs(r,wn,mi);break;case 3:if(Qi(r,h),(h&130023424)===h&&(s=Vd+500-nt(),10<s)){if(ni(r,0)!==0)break;if(m=r.suspendedLanes,(m&h)!==h){hn(),r.pingedLanes|=r.suspendedLanes&m;break}r.timeoutHandle=Uh(Fs.bind(null,r,wn,mi),s);break}Fs(r,wn,mi);break;case 4:if(Qi(r,h),(h&4194240)===h)break;for(s=r.eventTimes,m=-1;0<h;){var T=31-Pn(h);v=1<<T,T=s[T],T>m&&(m=T),h&=~v}if(h=m,h=nt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*fS(h/1960))-h,10<h){r.timeoutHandle=Uh(Fs.bind(null,r,wn,mi),h);break}Fs(r,wn,mi);break;case 5:Fs(r,wn,mi);break;default:throw Error(n(329))}}}return _n(r,nt()),r.callbackNode===l?Yy.bind(null,r):null}function Md(r,s){var l=sl;return r.current.memoizedState.isDehydrated&&(js(r,s).flags|=256),r=ec(r,s),r!==2&&(s=wn,wn=l,s!==null&&Ld(s)),r}function Ld(r){wn===null?wn=r:wn.push.apply(wn,r)}function pS(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var m=l[h],v=m.getSnapshot;m=m.value;try{if(!ur(v(),m))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Qi(r,s){for(s&=~bd,s&=~Gu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-Pn(s),h=1<<l;r[l]=-1,s&=~h}}function Xy(r){if(($e&6)!==0)throw Error(n(327));$o();var s=ni(r,0);if((s&1)===0)return _n(r,nt()),null;var l=ec(r,s);if(r.tag!==0&&l===2){var h=Aa(r);h!==0&&(s=h,l=Md(r,h))}if(l===1)throw l=il,js(r,0),Qi(r,s),_n(r,nt()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Fs(r,wn,mi),_n(r,nt()),null}function Od(r,s){var l=$e;$e|=1;try{return r(s)}finally{$e=l,$e===0&&(zo=nt()+500,Cu&&zi())}}function Os(r){Ki!==null&&Ki.tag===0&&($e&6)===0&&$o();var s=$e;$e|=1;var l=Gn.transition,h=je;try{if(Gn.transition=null,je=1,r)return r()}finally{je=h,Gn.transition=l,$e=s,($e&6)===0&&zi()}}function jd(){Ln=Uo.current,it(Uo)}function js(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,Hx(l)),It!==null)for(l=It.return;l!==null;){var h=l;switch(Kh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Iu();break;case 3:jo(),it(gn),it(Jt),od();break;case 5:id(h);break;case 4:jo();break;case 13:it(ut);break;case 19:it(ut);break;case 10:Zh(h.type._context);break;case 22:case 23:jd()}l=l.return}if(Ft=r,It=r=Yi(r.current,null),Wt=Ln=s,Vt=0,il=null,bd=Gu=Ls=0,wn=sl=null,Ns!==null){for(s=0;s<Ns.length;s++)if(l=Ns[s],h=l.interleaved,h!==null){l.interleaved=null;var m=h.next,v=l.pending;if(v!==null){var T=v.next;v.next=m,h.next=T}l.pending=h}Ns=null}return r}function Jy(r,s){do{var l=It;try{if(Jh(),Ou.current=Uu,ju){for(var h=ct.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}ju=!1}if(Ms=0,jt=bt=ct=null,Ja=!1,Za=0,kd.current=null,l===null||l.return===null){Vt=1,il=s,It=null;break}e:{var v=r,T=l.return,R=l,M=s;if(s=Wt,R.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var q=M,Z=R,te=Z.tag;if((Z.mode&1)===0&&(te===0||te===11||te===15)){var J=Z.alternate;J?(Z.updateQueue=J.updateQueue,Z.memoizedState=J.memoizedState,Z.lanes=J.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var he=xy(T);if(he!==null){he.flags&=-257,Sy(he,T,R,v,s),he.mode&1&&Ty(v,q,s),s=he,M=q;var ge=s.updateQueue;if(ge===null){var ye=new Set;ye.add(M),s.updateQueue=ye}else ge.add(M);break e}else{if((s&1)===0){Ty(v,q,s),Fd();break e}M=Error(n(426))}}else if(ot&&R.mode&1){var wt=xy(T);if(wt!==null){(wt.flags&65536)===0&&(wt.flags|=256),Sy(wt,T,R,v,s),Yh(Fo(M,R));break e}}v=M=Fo(M,R),Vt!==4&&(Vt=2),sl===null?sl=[v]:sl.push(v),v=T;do{switch(v.tag){case 3:v.flags|=65536,s&=-s,v.lanes|=s;var z=_y(v,M,s);Kg(v,z);break e;case 1:R=M;var O=v.type,H=v.stateNode;if((v.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(qi===null||!qi.has(H)))){v.flags|=65536,s&=-s,v.lanes|=s;var se=Ey(v,R,s);Kg(v,se);break e}}v=v.return}while(v!==null)}t0(l)}catch(we){s=we,It===l&&l!==null&&(It=l=l.return);continue}break}while(!0)}function Zy(){var r=Ku.current;return Ku.current=Uu,r===null?Uu:r}function Fd(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Ft===null||(Ls&268435455)===0&&(Gu&268435455)===0||Qi(Ft,Wt)}function ec(r,s){var l=$e;$e|=2;var h=Zy();(Ft!==r||Wt!==s)&&(mi=null,js(r,s));do try{mS();break}catch(m){Jy(r,m)}while(!0);if(Jh(),$e=l,Ku.current=h,It!==null)throw Error(n(261));return Ft=null,Wt=0,Vt}function mS(){for(;It!==null;)e0(It)}function gS(){for(;It!==null&&!vs();)e0(It)}function e0(r){var s=i0(r.alternate,r,Ln);r.memoizedProps=r.pendingProps,s===null?t0(r):It=s,kd.current=null}function t0(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=lS(l,s,Ln),l!==null){It=l;return}}else{if(l=uS(l,s),l!==null){l.flags&=32767,It=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Vt=6,It=null;return}}if(s=s.sibling,s!==null){It=s;return}It=s=r}while(s!==null);Vt===0&&(Vt=5)}function Fs(r,s,l){var h=je,m=Gn.transition;try{Gn.transition=null,je=1,yS(r,s,l,h)}finally{Gn.transition=m,je=h}return null}function yS(r,s,l,h){do $o();while(Ki!==null);if(($e&6)!==0)throw Error(n(327));l=r.finishedWork;var m=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var v=l.lanes|l.childLanes;if(Ih(r,v),r===Ft&&(It=Ft=null,Wt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Yu||(Yu=!0,s0(ws,function(){return $o(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=Gn.transition,Gn.transition=null;var T=je;je=1;var R=$e;$e|=4,kd.current=null,hS(r,l),Wy(l,r),Ox(Fh),si=!!jh,Fh=jh=null,r.current=l,dS(l),ti(),$e=R,je=T,Gn.transition=v}else r.current=l;if(Yu&&(Yu=!1,Ki=r,Xu=m),v=r.pendingLanes,v===0&&(qi=null),au(l.stateNode),_n(r,nt()),s!==null)for(h=r.onRecoverableError,l=0;l<s.length;l++)m=s[l],h(m.value,{componentStack:m.stack,digest:m.digest});if(Qu)throw Qu=!1,r=Nd,Nd=null,r;return(Xu&1)!==0&&r.tag!==0&&$o(),v=r.pendingLanes,(v&1)!==0?r===Dd?ol++:(ol=0,Dd=r):ol=0,zi(),null}function $o(){if(Ki!==null){var r=Rr(Xu),s=Gn.transition,l=je;try{if(Gn.transition=null,je=16>r?16:r,Ki===null)var h=!1;else{if(r=Ki,Ki=null,Xu=0,($e&6)!==0)throw Error(n(331));var m=$e;for($e|=4,pe=r.current;pe!==null;){var v=pe,T=v.child;if((pe.flags&16)!==0){var R=v.deletions;if(R!==null){for(var M=0;M<R.length;M++){var q=R[M];for(pe=q;pe!==null;){var Z=pe;switch(Z.tag){case 0:case 11:case 15:rl(8,Z,v)}var te=Z.child;if(te!==null)te.return=Z,pe=te;else for(;pe!==null;){Z=pe;var J=Z.sibling,he=Z.return;if(By(Z),Z===q){pe=null;break}if(J!==null){J.return=he,pe=J;break}pe=he}}}var ge=v.alternate;if(ge!==null){var ye=ge.child;if(ye!==null){ge.child=null;do{var wt=ye.sibling;ye.sibling=null,ye=wt}while(ye!==null)}}pe=v}}if((v.subtreeFlags&2064)!==0&&T!==null)T.return=v,pe=T;else e:for(;pe!==null;){if(v=pe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:rl(9,v,v.return)}var z=v.sibling;if(z!==null){z.return=v.return,pe=z;break e}pe=v.return}}var O=r.current;for(pe=O;pe!==null;){T=pe;var H=T.child;if((T.subtreeFlags&2064)!==0&&H!==null)H.return=T,pe=H;else e:for(T=O;pe!==null;){if(R=pe,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:qu(9,R)}}catch(we){mt(R,R.return,we)}if(R===T){pe=null;break e}var se=R.sibling;if(se!==null){se.return=R.return,pe=se;break e}pe=R.return}}if($e=m,zi(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(_s,r)}catch{}h=!0}return h}finally{je=l,Gn.transition=s}}return!1}function n0(r,s,l){s=Fo(l,s),s=_y(r,s,1),r=Hi(r,s,1),s=hn(),r!==null&&(Ss(r,1,s),_n(r,s))}function mt(r,s,l){if(r.tag===3)n0(r,r,l);else for(;s!==null;){if(s.tag===3){n0(s,r,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(qi===null||!qi.has(h))){r=Fo(l,r),r=Ey(s,r,1),s=Hi(s,r,1),r=hn(),s!==null&&(Ss(s,1,r),_n(s,r));break}}s=s.return}}function vS(r,s,l){var h=r.pingCache;h!==null&&h.delete(s),s=hn(),r.pingedLanes|=r.suspendedLanes&l,Ft===r&&(Wt&l)===l&&(Vt===4||Vt===3&&(Wt&130023424)===Wt&&500>nt()-Vd?js(r,0):bd|=l),_n(r,s)}function r0(r,s){s===0&&((r.mode&1)===0?s=1:(s=Vi,Vi<<=1,(Vi&130023424)===0&&(Vi=4194304)));var l=hn();r=di(r,s),r!==null&&(Ss(r,s,l),_n(r,l))}function wS(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),r0(r,l)}function _S(r,s){var l=0;switch(r.tag){case 13:var h=r.stateNode,m=r.memoizedState;m!==null&&(l=m.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(s),r0(r,l)}var i0;i0=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||gn.current)vn=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return vn=!1,aS(r,s,l);vn=(r.flags&131072)!==0}else vn=!1,ot&&(s.flags&1048576)!==0&&Og(s,Pu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Hu(r,s),r=s.pendingProps;var m=bo(s,Jt.current);Oo(s,l),m=ud(null,s,h,r,m,l);var v=cd();return s.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,yn(h)?(v=!0,Au(s)):v=!1,s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,nd(s),m.updater=zu,s.stateNode=m,m._reactInternals=s,gd(s,h,r,l),s=_d(null,s,h,!0,v,l)):(s.tag=0,ot&&v&&qh(s),cn(null,s,m,l),s=s.child),s;case 16:h=s.elementType;e:{switch(Hu(r,s),r=s.pendingProps,m=h._init,h=m(h._payload),s.type=h,m=s.tag=TS(h),r=hr(h,r),m){case 0:s=wd(null,s,h,r,l);break e;case 1:s=ky(null,s,h,r,l);break e;case 11:s=Iy(null,s,h,r,l);break e;case 14:s=Ay(null,s,h,hr(h.type,r),l);break e}throw Error(n(306,h,""))}return s;case 0:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:hr(h,m),wd(r,s,h,m,l);case 1:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:hr(h,m),ky(r,s,h,m,l);case 3:e:{if(by(s),r===null)throw Error(n(387));h=s.pendingProps,v=s.memoizedState,m=v.element,qg(r,s),Mu(s,h,null,l);var T=s.memoizedState;if(h=T.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){m=Fo(Error(n(423)),s),s=Vy(r,s,h,l,m);break e}else if(h!==m){m=Fo(Error(n(424)),s),s=Vy(r,s,h,l,m);break e}else for(Mn=Fi(s.stateNode.containerInfo.firstChild),Dn=s,ot=!0,cr=null,l=Hg(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Do(),h===m){s=pi(r,s,l);break e}cn(r,s,h,l)}s=s.child}return s;case 5:return Qg(s),r===null&&Qh(s),h=s.type,m=s.pendingProps,v=r!==null?r.memoizedProps:null,T=m.children,Bh(h,m)?T=null:v!==null&&Bh(h,v)&&(s.flags|=32),Py(r,s),cn(r,s,T,l),s.child;case 6:return r===null&&Qh(s),null;case 13:return Ny(r,s,l);case 4:return rd(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=Mo(s,null,h,l):cn(r,s,h,l),s.child;case 11:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:hr(h,m),Iy(r,s,h,m,l);case 7:return cn(r,s,s.pendingProps,l),s.child;case 8:return cn(r,s,s.pendingProps.children,l),s.child;case 12:return cn(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,m=s.pendingProps,v=s.memoizedProps,T=m.value,Ze(Vu,h._currentValue),h._currentValue=T,v!==null)if(ur(v.value,T)){if(v.children===m.children&&!gn.current){s=pi(r,s,l);break e}}else for(v=s.child,v!==null&&(v.return=s);v!==null;){var R=v.dependencies;if(R!==null){T=v.child;for(var M=R.firstContext;M!==null;){if(M.context===h){if(v.tag===1){M=fi(-1,l&-l),M.tag=2;var q=v.updateQueue;if(q!==null){q=q.shared;var Z=q.pending;Z===null?M.next=M:(M.next=Z.next,Z.next=M),q.pending=M}}v.lanes|=l,M=v.alternate,M!==null&&(M.lanes|=l),ed(v.return,l,s),R.lanes|=l;break}M=M.next}}else if(v.tag===10)T=v.type===s.type?null:v.child;else if(v.tag===18){if(T=v.return,T===null)throw Error(n(341));T.lanes|=l,R=T.alternate,R!==null&&(R.lanes|=l),ed(T,l,s),T=v.sibling}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===s){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}cn(r,s,m.children,l),s=s.child}return s;case 9:return m=s.type,h=s.pendingProps.children,Oo(s,l),m=qn(m),h=h(m),s.flags|=1,cn(r,s,h,l),s.child;case 14:return h=s.type,m=hr(h,s.pendingProps),m=hr(h.type,m),Ay(r,s,h,m,l);case 15:return Cy(r,s,s.type,s.pendingProps,l);case 17:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:hr(h,m),Hu(r,s),s.tag=1,yn(h)?(r=!0,Au(s)):r=!1,Oo(s,l),vy(s,h,m),gd(s,h,m,l),_d(null,s,h,!0,r,l);case 19:return My(r,s,l);case 22:return Ry(r,s,l)}throw Error(n(156,s.tag))};function s0(r,s){return xa(r,s)}function ES(r,s,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(r,s,l,h){return new ES(r,s,l,h)}function Bd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function TS(r){if(typeof r=="function")return Bd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===U)return 11;if(r===Qe)return 14}return 2}function Yi(r,s){var l=r.alternate;return l===null?(l=Qn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function tc(r,s,l,h,m,v){var T=2;if(h=r,typeof r=="function")Bd(r)&&(T=1);else if(typeof r=="string")T=5;else e:switch(r){case k:return Bs(l.children,m,v,s);case S:T=8,m|=8;break;case C:return r=Qn(12,l,s,m|2),r.elementType=C,r.lanes=v,r;case P:return r=Qn(13,l,s,m),r.elementType=P,r.lanes=v,r;case Fe:return r=Qn(19,l,s,m),r.elementType=Fe,r.lanes=v,r;case ve:return nc(l,m,v,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case b:T=10;break e;case V:T=9;break e;case U:T=11;break e;case Qe:T=14;break e;case be:T=16,h=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=Qn(T,l,s,m),s.elementType=r,s.type=h,s.lanes=v,s}function Bs(r,s,l,h){return r=Qn(7,r,h,s),r.lanes=l,r}function nc(r,s,l,h){return r=Qn(22,r,h,s),r.elementType=ve,r.lanes=l,r.stateNode={isHidden:!1},r}function Ud(r,s,l){return r=Qn(6,r,null,s),r.lanes=l,r}function zd(r,s,l){return s=Qn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function xS(r,s,l,h,m){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ra(0),this.expirationTimes=Ra(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ra(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function $d(r,s,l,h,m,v,T,R,M){return r=new xS(r,s,l,R,M),s===1?(s=1,v===!0&&(s|=8)):s=0,v=Qn(3,null,null,s),r.current=v,v.stateNode=r,v.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},nd(v),r}function SS(r,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ie,key:h==null?null:""+h,children:r,containerInfo:s,implementation:l}}function o0(r){if(!r)return Ui;r=r._reactInternals;e:{if(ar(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(yn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(yn(l))return Dg(r,l,s)}return s}function a0(r,s,l,h,m,v,T,R,M){return r=$d(l,h,!0,r,m,v,T,R,M),r.context=o0(null),l=r.current,h=hn(),m=Gi(l),v=fi(h,m),v.callback=s??null,Hi(l,v,m),r.current.lanes=m,Ss(r,m,h),_n(r,h),r}function rc(r,s,l,h){var m=s.current,v=hn(),T=Gi(m);return l=o0(l),s.context===null?s.context=l:s.pendingContext=l,s=fi(v,T),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=Hi(m,s,T),r!==null&&(pr(r,m,T,v),Du(r,m,T)),T}function ic(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function l0(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function Hd(r,s){l0(r,s),(r=r.alternate)&&l0(r,s)}function IS(){return null}var u0=typeof reportError=="function"?reportError:function(r){console.error(r)};function Wd(r){this._internalRoot=r}sc.prototype.render=Wd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));rc(r,s,null,null)},sc.prototype.unmount=Wd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Os(function(){rc(null,r,null,null)}),s[li]=null}};function sc(r){this._internalRoot=r}sc.prototype.unstable_scheduleHydration=function(r){if(r){var s=Va();r={blockedOn:null,target:r,priority:s};for(var l=0;l<kn.length&&s!==0&&s<kn[l].priority;l++);kn.splice(l,0,r),l===0&&mo(r)}};function qd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function oc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function c0(){}function AS(r,s,l,h,m){if(m){if(typeof h=="function"){var v=h;h=function(){var q=ic(T);v.call(q)}}var T=a0(s,h,r,0,null,!1,!1,"",c0);return r._reactRootContainer=T,r[li]=T.current,Ha(r.nodeType===8?r.parentNode:r),Os(),T}for(;m=r.lastChild;)r.removeChild(m);if(typeof h=="function"){var R=h;h=function(){var q=ic(M);R.call(q)}}var M=$d(r,0,!1,null,null,!1,!1,"",c0);return r._reactRootContainer=M,r[li]=M.current,Ha(r.nodeType===8?r.parentNode:r),Os(function(){rc(s,M,l,h)}),M}function ac(r,s,l,h,m){var v=l._reactRootContainer;if(v){var T=v;if(typeof m=="function"){var R=m;m=function(){var M=ic(T);R.call(M)}}rc(s,T,r,m)}else T=AS(l,s,r,m,h);return ic(T)}ka=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=We(s.pendingLanes);l!==0&&(Pa(s,l|1),_n(s,nt()),($e&6)===0&&(zo=nt()+500,zi()))}break;case 13:Os(function(){var h=di(r,1);if(h!==null){var m=hn();pr(h,r,1,m)}}),Hd(r,1)}},fo=function(r){if(r.tag===13){var s=di(r,134217728);if(s!==null){var l=hn();pr(s,r,134217728,l)}Hd(r,134217728)}},ba=function(r){if(r.tag===13){var s=Gi(r),l=di(r,s);if(l!==null){var h=hn();pr(l,r,s,h)}Hd(r,s)}},Va=function(){return je},Na=function(r,s){var l=je;try{return je=r,s()}finally{je=l}},sr=function(r,s,l){switch(s){case"input":if(In(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==r&&h.form===r.form){var m=Su(h);if(!m)throw Error(n(90));jn(h),In(h,m)}}}break;case"textarea":lo(r,l);break;case"select":s=l.value,s!=null&&An(r,!!l.multiple,s,!1)}},yt=Od,Lt=Os;var CS={usingClientEntryPoint:!1,Events:[Ka,Po,Su,Ie,Ye,Od]},al={findFiberByHostInstance:Ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RS={bundleType:al.bundleType,version:al.version,rendererPackageName:al.rendererPackageName,rendererConfig:al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:re.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ou(r),r===null?null:r.stateNode},findFiberByHostInstance:al.findFiberByHostInstance||IS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{_s=lc.inject(RS),Rn=lc}catch{}}return En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CS,En.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qd(s))throw Error(n(200));return SS(r,s,null,l)},En.createRoot=function(r,s){if(!qd(r))throw Error(n(299));var l=!1,h="",m=u0;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),s=$d(r,1,!1,null,null,l,!1,h,m),r[li]=s.current,Ha(r.nodeType===8?r.parentNode:r),new Wd(s)},En.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=ou(s),r=r===null?null:r.stateNode,r},En.flushSync=function(r){return Os(r)},En.hydrate=function(r,s,l){if(!oc(s))throw Error(n(200));return ac(null,r,s,!0,l)},En.hydrateRoot=function(r,s,l){if(!qd(r))throw Error(n(405));var h=l!=null&&l.hydratedSources||null,m=!1,v="",T=u0;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),s=a0(s,null,r,1,l??null,m,!1,v,T),r[li]=s.current,Ha(r),h)for(r=0;r<h.length;r++)l=h[r],m=l._getVersion,m=m(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,m]:s.mutableSourceEagerHydrationData.push(l,m);return new sc(s)},En.render=function(r,s,l){if(!oc(s))throw Error(n(200));return ac(null,r,s,!1,l)},En.unmountComponentAtNode=function(r){if(!oc(r))throw Error(n(40));return r._reactRootContainer?(Os(function(){ac(null,null,r,!1,function(){r._reactRootContainer=null,r[li]=null})}),!0):!1},En.unstable_batchedUpdates=Od,En.unstable_renderSubtreeIntoContainer=function(r,s,l,h){if(!oc(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return ac(r,s,l,!1,h)},En.version="18.3.1-next-f1338f8080-20240426",En}var v0;function m_(){if(v0)return Qd.exports;v0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qd.exports=MS(),Qd.exports}var w0;function LS(){if(w0)return uc;w0=1;var t=m_();return uc.createRoot=t.createRoot,uc.hydrateRoot=t.hydrateRoot,uc}var OS=LS(),L=Tp();const le=p_(L);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _0="popstate";function jS(t={}){function e(i,o){let{pathname:a,search:u,hash:d}=i.location;return Pf("",{pathname:a,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:Al(o)}return BS(e,n,null,t)}function dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FS(){return Math.random().toString(36).substring(2,10)}function E0(t,e){return{usr:t.state,key:t.key,idx:e}}function Pf(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ha(e):e,state:n,key:e&&e.key||i||FS()}}function Al({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ha(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function BS(t,e,n,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,u=o.history,d="POP",f=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function g(){d="POP";let N=y(),F=N==null?null:N-p;p=N,f&&f({action:d,location:j.location,delta:F})}function E(N,F){d="PUSH";let W=Pf(j.location,N,F);p=y()+1;let K=E0(W,p),re=j.createHref(W);try{u.pushState(K,"",re)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;o.location.assign(re)}a&&f&&f({action:d,location:j.location,delta:1})}function A(N,F){d="REPLACE";let W=Pf(j.location,N,F);p=y();let K=E0(W,p),re=j.createHref(W);u.replaceState(K,"",re),a&&f&&f({action:d,location:j.location,delta:0})}function D(N){return US(N)}let j={get action(){return d},get location(){return t(o,u)},listen(N){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(_0,g),f=N,()=>{o.removeEventListener(_0,g),f=null}},createHref(N){return e(o,N)},createURL:D,encodeLocation(N){let F=D(N);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:E,replace:A,go(N){return u.go(N)}};return j}function US(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Al(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function g_(t,e,n="/"){return zS(t,e,n,!1)}function zS(t,e,n,i){let o=typeof e=="string"?ha(e):e,a=vi(o.pathname||"/",n);if(a==null)return null;let u=y_(t);$S(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let p=eI(a);d=JS(u[f],p,i)}return d}function y_(t,e=[],n=[],i="",o=!1){let a=(u,d,f=o,p)=>{let y={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&f)return;dt(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let g=gi([i,y.relativePath]),E=n.concat(y);u.children&&u.children.length>0&&(dt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),y_(u.children,e,E,g,f)),!(u.path==null&&!u.index)&&e.push({path:g,score:YS(g,u.index),routesMeta:E})};return t.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))a(u,d);else for(let f of v_(u.path))a(u,d,!0,f)}),e}function v_(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let u=v_(i.join("/")),d=[];return d.push(...u.map(f=>f===""?a:[a,f].join("/"))),o&&d.push(...u),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function $S(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:XS(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var HS=/^:[\w-]+$/,WS=3,qS=2,KS=1,GS=10,QS=-2,T0=t=>t==="*";function YS(t,e){let n=t.split("/"),i=n.length;return n.some(T0)&&(i+=QS),e&&(i+=qS),n.filter(o=>!T0(o)).reduce((o,a)=>o+(HS.test(a)?WS:a===""?KS:GS),i)}function XS(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function JS(t,e,n=!1){let{routesMeta:i}=t,o={},a="/",u=[];for(let d=0;d<i.length;++d){let f=i[d],p=d===i.length-1,y=a==="/"?e:e.slice(a.length)||"/",g=Nc({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},y),E=f.route;if(!g&&p&&n&&!i[i.length-1].route.index&&(g=Nc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!g)return null;Object.assign(o,g.params),u.push({params:o,pathname:gi([a,g.pathname]),pathnameBase:sI(gi([a,g.pathnameBase])),route:E}),g.pathnameBase!=="/"&&(a=gi([a,g.pathnameBase]))}return u}function Nc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=ZS(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((p,{paramName:y,isOptional:g},E)=>{if(y==="*"){let D=d[E]||"";u=a.slice(0,a.length-D.length).replace(/(.)\/+$/,"$1")}const A=d[E];return g&&!A?p[y]=void 0:p[y]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:t}}function ZS(t,e=!1,n=!0){vr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function eI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function vi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var tI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nI=t=>tI.test(t);function rI(t,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?ha(t):t,a;if(n)if(nI(n))a=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),vr(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?a=x0(n.substring(1),"/"):a=x0(n,e)}else a=e;return{pathname:a,search:oI(i),hash:aI(o)}}function x0(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Jd(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function w_(t){let e=iI(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function __(t,e,n,i=!1){let o;typeof t=="string"?o=ha(t):(o={...t},dt(!o.pathname||!o.pathname.includes("?"),Jd("?","pathname","search",o)),dt(!o.pathname||!o.pathname.includes("#"),Jd("#","pathname","hash",o)),dt(!o.search||!o.search.includes("#"),Jd("#","search","hash",o)));let a=t===""||o.pathname==="",u=a?"/":o.pathname,d;if(u==null)d=n;else{let g=e.length-1;if(!i&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),g-=1;o.pathname=E.join("/")}d=g>=0?e[g]:"/"}let f=rI(o,d),p=u&&u!=="/"&&u.endsWith("/"),y=(a||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||y)&&(f.pathname+="/"),f}var gi=t=>t.join("/").replace(/\/\/+/g,"/"),sI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),oI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,aI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function lI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function uI(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var E_=["POST","PUT","PATCH","DELETE"];new Set(E_);var cI=["GET",...E_];new Set(cI);var da=L.createContext(null);da.displayName="DataRouter";var nh=L.createContext(null);nh.displayName="DataRouterState";L.createContext(!1);var T_=L.createContext({isTransitioning:!1});T_.displayName="ViewTransition";var hI=L.createContext(new Map);hI.displayName="Fetchers";var dI=L.createContext(null);dI.displayName="Await";var _r=L.createContext(null);_r.displayName="Navigation";var $l=L.createContext(null);$l.displayName="Location";var Zr=L.createContext({outlet:null,matches:[],isDataRoute:!1});Zr.displayName="Route";var xp=L.createContext(null);xp.displayName="RouteError";function fI(t,{relative:e}={}){dt(Hl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=L.useContext(_r),{hash:o,pathname:a,search:u}=Wl(t,{relative:e}),d=a;return n!=="/"&&(d=a==="/"?n:gi([n,a])),i.createHref({pathname:d,search:u,hash:o})}function Hl(){return L.useContext($l)!=null}function no(){return dt(Hl(),"useLocation() may be used only in the context of a <Router> component."),L.useContext($l).location}var x_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function S_(t){L.useContext(_r).static||L.useLayoutEffect(t)}function pI(){let{isDataRoute:t}=L.useContext(Zr);return t?RI():mI()}function mI(){dt(Hl(),"useNavigate() may be used only in the context of a <Router> component.");let t=L.useContext(da),{basename:e,navigator:n}=L.useContext(_r),{matches:i}=L.useContext(Zr),{pathname:o}=no(),a=JSON.stringify(w_(i)),u=L.useRef(!1);return S_(()=>{u.current=!0}),L.useCallback((f,p={})=>{if(vr(u.current,x_),!u.current)return;if(typeof f=="number"){n.go(f);return}let y=__(f,JSON.parse(a),o,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:gi([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,a,o,t])}L.createContext(null);function gI(){let{matches:t}=L.useContext(Zr),e=t[t.length-1];return e?e.params:{}}function Wl(t,{relative:e}={}){let{matches:n}=L.useContext(Zr),{pathname:i}=no(),o=JSON.stringify(w_(n));return L.useMemo(()=>__(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function yI(t,e){return I_(t,e)}function I_(t,e,n,i,o){dt(Hl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=L.useContext(_r),{matches:u}=L.useContext(Zr),d=u[u.length-1],f=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",g=d&&d.route;{let W=g&&g.path||"";A_(p,!g||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let E=no(),A;if(e){let W=typeof e=="string"?ha(e):e;dt(y==="/"||W.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${W.pathname}" was given in the \`location\` prop.`),A=W}else A=E;let D=A.pathname||"/",j=D;if(y!=="/"){let W=y.replace(/^\//,"").split("/");j="/"+D.replace(/^\//,"").split("/").slice(W.length).join("/")}let N=g_(t,{pathname:j});vr(g||N!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),vr(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=TI(N&&N.map(W=>Object.assign({},W,{params:Object.assign({},f,W.params),pathname:gi([y,a.encodeLocation?a.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?y:gi([y,a.encodeLocation?a.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),u,n,i,o);return e&&F?L.createElement($l.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},F):F}function vI(){let t=CI(),e=lI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:a},"ErrorBoundary")," or"," ",L.createElement("code",{style:a},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:o},n):null,u)}var wI=L.createElement(vI,null),_I=class extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?L.createElement(Zr.Provider,{value:this.props.routeContext},L.createElement(xp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function EI({routeContext:t,match:e,children:n}){let i=L.useContext(da);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Zr.Provider,{value:t},n)}function TI(t,e=[],n=null,i=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,u=n?.errors;if(u!=null){let y=a.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);dt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,y+1))}let d=!1,f=-1;if(n)for(let y=0;y<a.length;y++){let g=a[y];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=y),g.route.id){let{loaderData:E,errors:A}=n,D=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||D){d=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}let p=n&&i?(y,g)=>{i(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:uI(n.matches),errorInfo:g})}:void 0;return a.reduceRight((y,g,E)=>{let A,D=!1,j=null,N=null;n&&(A=u&&g.route.id?u[g.route.id]:void 0,j=g.route.errorElement||wI,d&&(f<0&&E===0?(A_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,N=null):f===E&&(D=!0,N=g.route.hydrateFallbackElement||null)));let F=e.concat(a.slice(0,E+1)),W=()=>{let K;return A?K=j:D?K=N:g.route.Component?K=L.createElement(g.route.Component,null):g.route.element?K=g.route.element:K=y,L.createElement(EI,{match:g,routeContext:{outlet:y,matches:F,isDataRoute:n!=null},children:K})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?L.createElement(_I,{location:n.location,revalidation:n.revalidation,component:j,error:A,children:W(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:p}):W()},null)}function Sp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xI(t){let e=L.useContext(da);return dt(e,Sp(t)),e}function SI(t){let e=L.useContext(nh);return dt(e,Sp(t)),e}function II(t){let e=L.useContext(Zr);return dt(e,Sp(t)),e}function Ip(t){let e=II(t),n=e.matches[e.matches.length-1];return dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function AI(){return Ip("useRouteId")}function CI(){let t=L.useContext(xp),e=SI("useRouteError"),n=Ip("useRouteError");return t!==void 0?t:e.errors?.[n]}function RI(){let{router:t}=xI("useNavigate"),e=Ip("useNavigate"),n=L.useRef(!1);return S_(()=>{n.current=!0}),L.useCallback(async(o,a={})=>{vr(n.current,x_),n.current&&(typeof o=="number"?await t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var S0={};function A_(t,e,n){!e&&!S0[t]&&(S0[t]=!0,vr(!1,n))}L.memo(PI);function PI({routes:t,future:e,state:n,unstable_onError:i}){return I_(t,void 0,n,i,e)}function C_(t){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kI({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:a=!1,unstable_useTransitions:u}){dt(!Hl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),f=L.useMemo(()=>({basename:d,navigator:o,static:a,unstable_useTransitions:u,future:{}}),[d,o,a,u]);typeof n=="string"&&(n=ha(n));let{pathname:p="/",search:y="",hash:g="",state:E=null,key:A="default"}=n,D=L.useMemo(()=>{let j=vi(p,d);return j==null?null:{location:{pathname:j,search:y,hash:g,state:E,key:A},navigationType:i}},[d,p,y,g,E,A,i]);return vr(D!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${g}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:L.createElement(_r.Provider,{value:f},L.createElement($l.Provider,{children:e,value:D}))}function bI({children:t,location:e}){return yI(kf(t),e)}function kf(t,e=[]){let n=[];return L.Children.forEach(t,(i,o)=>{if(!L.isValidElement(i))return;let a=[...e,o];if(i.type===L.Fragment){n.push.apply(n,kf(i.props.children,a));return}dt(i.type===C_,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=kf(i.props.children,a)),n.push(u)}),n}var Ec="get",Tc="application/x-www-form-urlencoded";function rh(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function VI(t){return rh(t)&&t.tagName.toLowerCase()==="button"}function NI(t){return rh(t)&&t.tagName.toLowerCase()==="form"}function DI(t){return rh(t)&&t.tagName.toLowerCase()==="input"}function MI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function LI(t,e){return t.button===0&&(!e||e==="_self")&&!MI(t)}var cc=null;function OI(){if(cc===null)try{new FormData(document.createElement("form"),0),cc=!1}catch{cc=!0}return cc}var jI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zd(t){return t!=null&&!jI.has(t)?(vr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tc}"`),null):t}function FI(t,e){let n,i,o,a,u;if(NI(t)){let d=t.getAttribute("action");i=d?vi(d,e):null,n=t.getAttribute("method")||Ec,o=Zd(t.getAttribute("enctype"))||Tc,a=new FormData(t)}else if(VI(t)||DI(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(i=f?vi(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Ec,o=Zd(t.getAttribute("formenctype"))||Zd(d.getAttribute("enctype"))||Tc,a=new FormData(d,t),!OI()){let{name:p,type:y,value:g}=t;if(y==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,g)}}else{if(rh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ec,i=null,o=Tc,u=t}return a&&o==="text/plain"&&(u=a,a=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ap(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function BI(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&vi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function UI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function $I(t,e,n){let i=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await UI(a,n);return u.links?u.links():[]}return[]}));return KI(i.flat(1).filter(zI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function I0(t,e,n,i,o,a){let u=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,d=(f,p)=>n[p].pathname!==f.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,p)=>u(f,p)||d(f,p)):a==="data"?e.filter((f,p)=>{let y=i.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(u(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function HI(t,e,{includeHydrateFallback:n}={}){return WI(t.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function WI(t){return[...new Set(t)]}function qI(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function KI(t,e){let n=new Set;return new Set(e),t.reduce((i,o)=>{let a=JSON.stringify(qI(o));return n.has(a)||(n.add(a),i.push({key:a,link:o})),i},[])}function R_(){let t=L.useContext(da);return Ap(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function GI(){let t=L.useContext(nh);return Ap(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Cp=L.createContext(void 0);Cp.displayName="FrameworkContext";function P_(){let t=L.useContext(Cp);return Ap(t,"You must render this element inside a <HydratedRouter> element"),t}function QI(t,e){let n=L.useContext(Cp),[i,o]=L.useState(!1),[a,u]=L.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:y,onTouchStart:g}=e,E=L.useRef(null);L.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let j=F=>{F.forEach(W=>{u(W.isIntersecting)})},N=new IntersectionObserver(j,{threshold:.5});return E.current&&N.observe(E.current),()=>{N.disconnect()}}},[t]),L.useEffect(()=>{if(i){let j=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(j)}}},[i]);let A=()=>{o(!0)},D=()=>{o(!1),u(!1)};return n?t!=="intent"?[a,E,{}]:[a,E,{onFocus:ul(d,A),onBlur:ul(f,D),onMouseEnter:ul(p,A),onMouseLeave:ul(y,D),onTouchStart:ul(g,A)}]:[!1,E,{}]}function ul(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function YI({page:t,...e}){let{router:n}=R_(),i=L.useMemo(()=>g_(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?L.createElement(JI,{page:t,matches:i,...e}):null}function XI(t){let{manifest:e,routeModules:n}=P_(),[i,o]=L.useState([]);return L.useEffect(()=>{let a=!1;return $I(t,e,n).then(u=>{a||o(u)}),()=>{a=!0}},[t,e,n]),i}function JI({page:t,matches:e,...n}){let i=no(),{manifest:o,routeModules:a}=P_(),{basename:u}=R_(),{loaderData:d,matches:f}=GI(),p=L.useMemo(()=>I0(t,e,f,o,i,"data"),[t,e,f,o,i]),y=L.useMemo(()=>I0(t,e,f,o,i,"assets"),[t,e,f,o,i]),g=L.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let D=new Set,j=!1;if(e.forEach(F=>{let W=o.routes[F.route.id];!W||!W.hasLoader||(!p.some(K=>K.route.id===F.route.id)&&F.route.id in d&&a[F.route.id]?.shouldRevalidate||W.hasClientLoader?j=!0:D.add(F.route.id))}),D.size===0)return[];let N=BI(t,u,"data");return j&&D.size>0&&N.searchParams.set("_routes",e.filter(F=>D.has(F.route.id)).map(F=>F.route.id).join(",")),[N.pathname+N.search]},[u,d,i,o,p,e,t,a]),E=L.useMemo(()=>HI(y,o),[y,o]),A=XI(y);return L.createElement(L.Fragment,null,g.map(D=>L.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),E.map(D=>L.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),A.map(({key:D,link:j})=>L.createElement("link",{key:D,nonce:n.nonce,...j})))}function ZI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var k_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{k_&&(window.__reactRouterVersion="7.10.1")}catch{}function eA({basename:t,children:e,unstable_useTransitions:n,window:i}){let o=L.useRef();o.current==null&&(o.current=jS({window:i,v5Compat:!0}));let a=o.current,[u,d]=L.useState({action:a.action,location:a.location}),f=L.useCallback(p=>{n===!1?d(p):L.startTransition(()=>d(p))},[n]);return L.useLayoutEffect(()=>a.listen(f),[a,f]),L.createElement(kI,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:a,unstable_useTransitions:n===!0})}var b_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,V_=L.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:a,replace:u,state:d,target:f,to:p,preventScrollReset:y,viewTransition:g,...E},A){let{basename:D,unstable_useTransitions:j}=L.useContext(_r),N=typeof p=="string"&&b_.test(p),F,W=!1;if(typeof p=="string"&&N&&(F=p,k_))try{let b=new URL(window.location.href),V=p.startsWith("//")?new URL(b.protocol+p):new URL(p),U=vi(V.pathname,D);V.origin===b.origin&&U!=null?p=U+V.search+V.hash:W=!0}catch{vr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=fI(p,{relative:o}),[re,ne,ie]=QI(i,E),k=iA(p,{replace:u,state:d,target:f,preventScrollReset:y,relative:o,viewTransition:g,unstable_useTransitions:j});function S(b){e&&e(b),b.defaultPrevented||k(b)}let C=L.createElement("a",{...E,...ie,href:F||K,onClick:W||a?e:S,ref:ZI(A,ne),target:f,"data-discover":!N&&n==="render"?"true":void 0});return re&&!N?L.createElement(L.Fragment,null,C,L.createElement(YI,{page:K})):C});V_.displayName="Link";var tA=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:a,to:u,viewTransition:d,children:f,...p},y){let g=Wl(u,{relative:p.relative}),E=no(),A=L.useContext(nh),{navigator:D,basename:j}=L.useContext(_r),N=A!=null&&uA(g)&&d===!0,F=D.encodeLocation?D.encodeLocation(g).pathname:g.pathname,W=E.pathname,K=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(W=W.toLowerCase(),K=K?K.toLowerCase():null,F=F.toLowerCase()),K&&j&&(K=vi(K,j)||K);const re=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let ne=W===F||!o&&W.startsWith(F)&&W.charAt(re)==="/",ie=K!=null&&(K===F||!o&&K.startsWith(F)&&K.charAt(F.length)==="/"),k={isActive:ne,isPending:ie,isTransitioning:N},S=ne?e:void 0,C;typeof i=="function"?C=i(k):C=[i,ne?"active":null,ie?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let b=typeof a=="function"?a(k):a;return L.createElement(V_,{...p,"aria-current":S,className:C,ref:y,style:b,to:u,viewTransition:d},typeof f=="function"?f(k):f)});tA.displayName="NavLink";var nA=L.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:a,method:u=Ec,action:d,onSubmit:f,relative:p,preventScrollReset:y,viewTransition:g,...E},A)=>{let{unstable_useTransitions:D}=L.useContext(_r),j=aA(),N=lA(d,{relative:p}),F=u.toLowerCase()==="get"?"get":"post",W=typeof d=="string"&&b_.test(d),K=re=>{if(f&&f(re),re.defaultPrevented)return;re.preventDefault();let ne=re.nativeEvent.submitter,ie=ne?.getAttribute("formmethod")||u,k=()=>j(ne||re.currentTarget,{fetcherKey:e,method:ie,navigate:n,replace:o,state:a,relative:p,preventScrollReset:y,viewTransition:g});D&&n!==!1?L.startTransition(()=>k()):k()};return L.createElement("form",{ref:A,method:F,action:N,onSubmit:i?f:K,...E,"data-discover":!W&&t==="render"?"true":void 0})});nA.displayName="Form";function rA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function N_(t){let e=L.useContext(da);return dt(e,rA(t)),e}function iA(t,{target:e,replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:u,unstable_useTransitions:d}={}){let f=pI(),p=no(),y=Wl(t,{relative:a});return L.useCallback(g=>{if(LI(g,e)){g.preventDefault();let E=n!==void 0?n:Al(p)===Al(y),A=()=>f(t,{replace:E,state:i,preventScrollReset:o,relative:a,viewTransition:u});d?L.startTransition(()=>A()):A()}},[p,f,y,n,i,e,t,o,a,u,d])}var sA=0,oA=()=>`__${String(++sA)}__`;function aA(){let{router:t}=N_("useSubmit"),{basename:e}=L.useContext(_r),n=AI(),i=t.fetch,o=t.navigate;return L.useCallback(async(a,u={})=>{let{action:d,method:f,encType:p,formData:y,body:g}=FI(a,e);if(u.navigate===!1){let E=u.fetcherKey||oA();await i(E,n,u.action||d,{preventScrollReset:u.preventScrollReset,formData:y,body:g,formMethod:u.method||f,formEncType:u.encType||p,flushSync:u.flushSync})}else await o(u.action||d,{preventScrollReset:u.preventScrollReset,formData:y,body:g,formMethod:u.method||f,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,o,e,n])}function lA(t,{relative:e}={}){let{basename:n}=L.useContext(_r),i=L.useContext(Zr);dt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...Wl(t||".",{relative:e})},u=no();if(t==null){a.search=u.search;let d=new URLSearchParams(a.search),f=d.getAll("index");if(f.some(y=>y==="")){d.delete("index"),f.filter(g=>g).forEach(g=>d.append("index",g));let y=d.toString();a.search=y?`?${y}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:gi([n,a.pathname])),Al(a)}function uA(t,{relative:e}={}){let n=L.useContext(T_);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=N_("useViewTransitionState"),o=Wl(t,{relative:e});if(!n.isTransitioning)return!1;let a=vi(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=vi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Nc(o.pathname,u)!=null||Nc(o.pathname,a)!=null}var cA=m_();const hA=p_(cA),Rp=L.createContext({});function Pp(t){const e=L.useRef(null);return e.current===null&&(e.current=t()),e.current}const kp=typeof window<"u",D_=kp?L.useLayoutEffect:L.useEffect,ih=L.createContext(null);function bp(t,e){t.indexOf(e)===-1&&t.push(e)}function Vp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const wi=(t,e,n)=>n>e?e:n<t?t:n;let Np=()=>{};const _i={},M_=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function L_(t){return typeof t=="object"&&t!==null}const O_=t=>/^0[^.\s]+$/u.test(t);function Dp(t){let e;return()=>(e===void 0&&(e=t()),e)}const er=t=>t,dA=(t,e)=>n=>e(t(n)),ql=(...t)=>t.reduce(dA),Cl=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Mp{constructor(){this.subscriptions=[]}add(e){return bp(this.subscriptions,e),()=>Vp(this.subscriptions,e)}notify(e,n,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,i);else for(let a=0;a<o;a++){const u=this.subscriptions[a];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Hr=t=>t*1e3,Zn=t=>t/1e3;function j_(t,e){return e?t*(1e3/e):0}const F_=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,fA=1e-7,pA=12;function mA(t,e,n,i,o){let a,u,d=0;do u=e+(n-e)/2,a=F_(u,i,o)-t,a>0?n=u:e=u;while(Math.abs(a)>fA&&++d<pA);return u}function Kl(t,e,n,i){if(t===e&&n===i)return er;const o=a=>mA(a,0,1,t,n);return a=>a===0||a===1?a:F_(o(a),e,i)}const B_=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,U_=t=>e=>1-t(1-e),z_=Kl(.33,1.53,.69,.99),Lp=U_(z_),$_=B_(Lp),H_=t=>(t*=2)<1?.5*Lp(t):.5*(2-Math.pow(2,-10*(t-1))),Op=t=>1-Math.sin(Math.acos(t)),W_=U_(Op),q_=B_(Op),gA=Kl(.42,0,1,1),yA=Kl(0,0,.58,1),K_=Kl(.42,0,.58,1),vA=t=>Array.isArray(t)&&typeof t[0]!="number",G_=t=>Array.isArray(t)&&typeof t[0]=="number",wA={linear:er,easeIn:gA,easeInOut:K_,easeOut:yA,circIn:Op,circInOut:q_,circOut:W_,backIn:Lp,backInOut:$_,backOut:z_,anticipate:H_},_A=t=>typeof t=="string",A0=t=>{if(G_(t)){Np(t.length===4);const[e,n,i,o]=t;return Kl(e,n,i,o)}else if(_A(t))return wA[t];return t},hc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function EA(t,e){let n=new Set,i=new Set,o=!1,a=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(y){u.has(y)&&(p.schedule(y),t()),y(d)}const p={schedule:(y,g=!1,E=!1)=>{const D=E&&o?n:i;return g&&u.add(y),D.has(y)||D.add(y),y},cancel:y=>{i.delete(y),u.delete(y)},process:y=>{if(d=y,o){a=!0;return}o=!0,[n,i]=[i,n],n.forEach(f),n.clear(),o=!1,a&&(a=!1,p.process(y))}};return p}const TA=40;function Q_(t,e){let n=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,u=hc.reduce((K,re)=>(K[re]=EA(a),K),{}),{setup:d,read:f,resolveKeyframes:p,preUpdate:y,update:g,preRender:E,render:A,postRender:D}=u,j=()=>{const K=_i.useManualTiming?o.timestamp:performance.now();n=!1,_i.useManualTiming||(o.delta=i?1e3/60:Math.max(Math.min(K-o.timestamp,TA),1)),o.timestamp=K,o.isProcessing=!0,d.process(o),f.process(o),p.process(o),y.process(o),g.process(o),E.process(o),A.process(o),D.process(o),o.isProcessing=!1,n&&e&&(i=!1,t(j))},N=()=>{n=!0,i=!0,o.isProcessing||t(j)};return{schedule:hc.reduce((K,re)=>{const ne=u[re];return K[re]=(ie,k=!1,S=!1)=>(n||N(),ne.schedule(ie,k,S)),K},{}),cancel:K=>{for(let re=0;re<hc.length;re++)u[hc[re]].cancel(K)},state:o,steps:u}}const{schedule:at,cancel:is,state:qt,steps:ef}=Q_(typeof requestAnimationFrame<"u"?requestAnimationFrame:er,!0);let xc;function xA(){xc=void 0}const Sn={now:()=>(xc===void 0&&Sn.set(qt.isProcessing||_i.useManualTiming?qt.timestamp:performance.now()),xc),set:t=>{xc=t,queueMicrotask(xA)}},Y_=t=>e=>typeof e=="string"&&e.startsWith(t),jp=Y_("--"),SA=Y_("var(--"),Fp=t=>SA(t)?IA.test(t.split("/*")[0].trim()):!1,IA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,fa={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Rl={...fa,transform:t=>wi(0,1,t)},dc={...fa,default:1},gl=t=>Math.round(t*1e5)/1e5,Bp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function AA(t){return t==null}const CA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Up=(t,e)=>n=>!!(typeof n=="string"&&CA.test(n)&&n.startsWith(t)||e&&!AA(n)&&Object.prototype.hasOwnProperty.call(n,e)),X_=(t,e,n)=>i=>{if(typeof i!="string")return i;const[o,a,u,d]=i.match(Bp);return{[t]:parseFloat(o),[e]:parseFloat(a),[n]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},RA=t=>wi(0,255,t),tf={...fa,transform:t=>Math.round(RA(t))},Hs={test:Up("rgb","red"),parse:X_("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+tf.transform(t)+", "+tf.transform(e)+", "+tf.transform(n)+", "+gl(Rl.transform(i))+")"};function PA(t){let e="",n="",i="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const bf={test:Up("#"),parse:PA,transform:Hs.transform},Gl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ji=Gl("deg"),Wr=Gl("%"),Re=Gl("px"),kA=Gl("vh"),bA=Gl("vw"),C0={...Wr,parse:t=>Wr.parse(t)/100,transform:t=>Wr.transform(t*100)},Go={test:Up("hsl","hue"),parse:X_("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Wr.transform(gl(e))+", "+Wr.transform(gl(n))+", "+gl(Rl.transform(i))+")"},Ct={test:t=>Hs.test(t)||bf.test(t)||Go.test(t),parse:t=>Hs.test(t)?Hs.parse(t):Go.test(t)?Go.parse(t):bf.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Hs.transform(t):Go.transform(t),getAnimatableNone:t=>{const e=Ct.parse(t);return e.alpha=0,Ct.transform(e)}},VA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function NA(t){return isNaN(t)&&typeof t=="string"&&(t.match(Bp)?.length||0)+(t.match(VA)?.length||0)>0}const J_="number",Z_="color",DA="var",MA="var(",R0="${}",LA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pl(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},o=[];let a=0;const d=e.replace(LA,f=>(Ct.test(f)?(i.color.push(a),o.push(Z_),n.push(Ct.parse(f))):f.startsWith(MA)?(i.var.push(a),o.push(DA),n.push(f)):(i.number.push(a),o.push(J_),n.push(parseFloat(f))),++a,R0)).split(R0);return{values:n,split:d,indexes:i,types:o}}function e1(t){return Pl(t).values}function t1(t){const{split:e,types:n}=Pl(t),i=e.length;return o=>{let a="";for(let u=0;u<i;u++)if(a+=e[u],o[u]!==void 0){const d=n[u];d===J_?a+=gl(o[u]):d===Z_?a+=Ct.transform(o[u]):a+=o[u]}return a}}const OA=t=>typeof t=="number"?0:Ct.test(t)?Ct.getAnimatableNone(t):t;function jA(t){const e=e1(t);return t1(t)(e.map(OA))}const ss={test:NA,parse:e1,createTransformer:t1,getAnimatableNone:jA};function nf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function FA({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let o=0,a=0,u=0;if(!e)o=a=u=n;else{const d=n<.5?n*(1+e):n+e-n*e,f=2*n-d;o=nf(f,d,t+1/3),a=nf(f,d,t),u=nf(f,d,t-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:i}}function Dc(t,e){return n=>n>0?e:t}const ht=(t,e,n)=>t+(e-t)*n,rf=(t,e,n)=>{const i=t*t,o=n*(e*e-i)+i;return o<0?0:Math.sqrt(o)},BA=[bf,Hs,Go],UA=t=>BA.find(e=>e.test(t));function P0(t){const e=UA(t);if(!e)return!1;let n=e.parse(t);return e===Go&&(n=FA(n)),n}const k0=(t,e)=>{const n=P0(t),i=P0(e);if(!n||!i)return Dc(t,e);const o={...n};return a=>(o.red=rf(n.red,i.red,a),o.green=rf(n.green,i.green,a),o.blue=rf(n.blue,i.blue,a),o.alpha=ht(n.alpha,i.alpha,a),Hs.transform(o))},Vf=new Set(["none","hidden"]);function zA(t,e){return Vf.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function $A(t,e){return n=>ht(t,e,n)}function zp(t){return typeof t=="number"?$A:typeof t=="string"?Fp(t)?Dc:Ct.test(t)?k0:qA:Array.isArray(t)?n1:typeof t=="object"?Ct.test(t)?k0:HA:Dc}function n1(t,e){const n=[...t],i=n.length,o=t.map((a,u)=>zp(a)(a,e[u]));return a=>{for(let u=0;u<i;u++)n[u]=o[u](a);return n}}function HA(t,e){const n={...t,...e},i={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(i[o]=zp(t[o])(t[o],e[o]));return o=>{for(const a in i)n[a]=i[a](o);return n}}function WA(t,e){const n=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const a=e.types[o],u=t.indexes[a][i[a]],d=t.values[u]??0;n[o]=d,i[a]++}return n}const qA=(t,e)=>{const n=ss.createTransformer(e),i=Pl(t),o=Pl(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?Vf.has(t)&&!o.values.length||Vf.has(e)&&!i.values.length?zA(t,e):ql(n1(WA(i,o),o.values),n):Dc(t,e)};function r1(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ht(t,e,n):zp(t)(t,e)}const KA=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>at.update(e,n),stop:()=>is(e),now:()=>qt.isProcessing?qt.timestamp:Sn.now()}},i1=(t,e,n=10)=>{let i="";const o=Math.max(Math.round(e/n),2);for(let a=0;a<o;a++)i+=Math.round(t(a/(o-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Mc=2e4;function $p(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Mc;)e+=n,i=t.next(e);return e>=Mc?1/0:e}function GA(t,e=100,n){const i=n({...t,keyframes:[0,e]}),o=Math.min($p(i),Mc);return{type:"keyframes",ease:a=>i.next(o*a).value/e,duration:Zn(o)}}const QA=5;function s1(t,e,n){const i=Math.max(e-QA,0);return j_(n-t(i),e-i)}const gt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sf=.001;function YA({duration:t=gt.duration,bounce:e=gt.bounce,velocity:n=gt.velocity,mass:i=gt.mass}){let o,a,u=1-e;u=wi(gt.minDamping,gt.maxDamping,u),t=wi(gt.minDuration,gt.maxDuration,Zn(t)),u<1?(o=p=>{const y=p*u,g=y*t,E=y-n,A=Nf(p,u),D=Math.exp(-g);return sf-E/A*D},a=p=>{const g=p*u*t,E=g*n+n,A=Math.pow(u,2)*Math.pow(p,2)*t,D=Math.exp(-g),j=Nf(Math.pow(p,2),u);return(-o(p)+sf>0?-1:1)*((E-A)*D)/j}):(o=p=>{const y=Math.exp(-p*t),g=(p-n)*t+1;return-sf+y*g},a=p=>{const y=Math.exp(-p*t),g=(n-p)*(t*t);return y*g});const d=5/t,f=JA(o,a,d);if(t=Hr(t),isNaN(f))return{stiffness:gt.stiffness,damping:gt.damping,duration:t};{const p=Math.pow(f,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:t}}}const XA=12;function JA(t,e,n){let i=n;for(let o=1;o<XA;o++)i=i-t(i)/e(i);return i}function Nf(t,e){return t*Math.sqrt(1-e*e)}const ZA=["duration","bounce"],eC=["stiffness","damping","mass"];function b0(t,e){return e.some(n=>t[n]!==void 0)}function tC(t){let e={velocity:gt.velocity,stiffness:gt.stiffness,damping:gt.damping,mass:gt.mass,isResolvedFromDuration:!1,...t};if(!b0(t,eC)&&b0(t,ZA))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),o=i*i,a=2*wi(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:gt.mass,stiffness:o,damping:a}}else{const n=YA(t);e={...e,...n,mass:gt.mass},e.isResolvedFromDuration=!0}return e}function Lc(t=gt.visualDuration,e=gt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:o}=n;const a=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],d={done:!1,value:a},{stiffness:f,damping:p,mass:y,duration:g,velocity:E,isResolvedFromDuration:A}=tC({...n,velocity:-Zn(n.velocity||0)}),D=E||0,j=p/(2*Math.sqrt(f*y)),N=u-a,F=Zn(Math.sqrt(f/y)),W=Math.abs(N)<5;i||(i=W?gt.restSpeed.granular:gt.restSpeed.default),o||(o=W?gt.restDelta.granular:gt.restDelta.default);let K;if(j<1){const ne=Nf(F,j);K=ie=>{const k=Math.exp(-j*F*ie);return u-k*((D+j*F*N)/ne*Math.sin(ne*ie)+N*Math.cos(ne*ie))}}else if(j===1)K=ne=>u-Math.exp(-F*ne)*(N+(D+F*N)*ne);else{const ne=F*Math.sqrt(j*j-1);K=ie=>{const k=Math.exp(-j*F*ie),S=Math.min(ne*ie,300);return u-k*((D+j*F*N)*Math.sinh(S)+ne*N*Math.cosh(S))/ne}}const re={calculatedDuration:A&&g||null,next:ne=>{const ie=K(ne);if(A)d.done=ne>=g;else{let k=ne===0?D:0;j<1&&(k=ne===0?Hr(D):s1(K,ne,ie));const S=Math.abs(k)<=i,C=Math.abs(u-ie)<=o;d.done=S&&C}return d.value=d.done?u:ie,d},toString:()=>{const ne=Math.min($p(re),Mc),ie=i1(k=>re.next(ne*k).value,ne,30);return ne+"ms "+ie},toTransition:()=>{}};return re}Lc.applyToOptions=t=>{const e=GA(t,100,Lc);return t.ease=e.ease,t.duration=Hr(e.duration),t.type="keyframes",t};function Df({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:u,min:d,max:f,restDelta:p=.5,restSpeed:y}){const g=t[0],E={done:!1,value:g},A=S=>d!==void 0&&S<d||f!==void 0&&S>f,D=S=>d===void 0?f:f===void 0||Math.abs(d-S)<Math.abs(f-S)?d:f;let j=n*e;const N=g+j,F=u===void 0?N:u(N);F!==N&&(j=F-g);const W=S=>-j*Math.exp(-S/i),K=S=>F+W(S),re=S=>{const C=W(S),b=K(S);E.done=Math.abs(C)<=p,E.value=E.done?F:b};let ne,ie;const k=S=>{A(E.value)&&(ne=S,ie=Lc({keyframes:[E.value,D(E.value)],velocity:s1(K,S,E.value),damping:o,stiffness:a,restDelta:p,restSpeed:y}))};return k(0),{calculatedDuration:null,next:S=>{let C=!1;return!ie&&ne===void 0&&(C=!0,re(S),k(S)),ne!==void 0&&S>=ne?ie.next(S-ne):(!C&&re(S),E)}}}function nC(t,e,n){const i=[],o=n||_i.mix||r1,a=t.length-1;for(let u=0;u<a;u++){let d=o(t[u],t[u+1]);if(e){const f=Array.isArray(e)?e[u]||er:e;d=ql(f,d)}i.push(d)}return i}function rC(t,e,{clamp:n=!0,ease:i,mixer:o}={}){const a=t.length;if(Np(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=nC(e,i,o),f=d.length,p=y=>{if(u&&y<t[0])return e[0];let g=0;if(f>1)for(;g<t.length-2&&!(y<t[g+1]);g++);const E=Cl(t[g],t[g+1],y);return d[g](E)};return n?y=>p(wi(t[0],t[a-1],y)):p}function iC(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const o=Cl(0,e,i);t.push(ht(n,1,o))}}function sC(t){const e=[0];return iC(e,t.length-1),e}function oC(t,e){return t.map(n=>n*e)}function aC(t,e){return t.map(()=>e||K_).splice(0,t.length-1)}function yl({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const o=vA(i)?i.map(A0):A0(i),a={done:!1,value:e[0]},u=oC(n&&n.length===e.length?n:sC(e),t),d=rC(u,e,{ease:Array.isArray(o)?o:aC(e,o)});return{calculatedDuration:t,next:f=>(a.value=d(f),a.done=f>=t,a)}}const lC=t=>t!==null;function Hp(t,{repeat:e,repeatType:n="loop"},i,o=1){const a=t.filter(lC),d=o<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!d||i===void 0?a[d]:i}const uC={decay:Df,inertia:Df,tween:yl,keyframes:yl,spring:Lc};function o1(t){typeof t.type=="string"&&(t.type=uC[t.type])}class Wp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const cC=t=>t/100;class qp extends Wp{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Sn.now()&&this.tick(Sn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;o1(e);const{type:n=yl,repeat:i=0,repeatDelay:o=0,repeatType:a,velocity:u=0}=e;let{keyframes:d}=e;const f=n||yl;f!==yl&&typeof d[0]!="number"&&(this.mixKeyframes=ql(cC,r1(d[0],d[1])),d=[0,100]);const p=f({...e,keyframes:d});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...d].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=$p(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+o,this.totalDuration=this.resolvedDuration*(i+1)-o,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:o,mixKeyframes:a,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:y,repeat:g,repeatType:E,repeatDelay:A,type:D,onUpdate:j,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const F=this.currentTime-p*(this.playbackSpeed>=0?1:-1),W=this.playbackSpeed>=0?F<0:F>o;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let K=this.currentTime,re=i;if(g){const S=Math.min(this.currentTime,o)/d;let C=Math.floor(S),b=S%1;!b&&S>=1&&(b=1),b===1&&C--,C=Math.min(C,g+1),!!(C%2)&&(E==="reverse"?(b=1-b,A&&(b-=A/d)):E==="mirror"&&(re=u)),K=wi(0,1,b)*d}const ne=W?{done:!1,value:y[0]}:re.next(K);a&&(ne.value=a(ne.value));let{done:ie}=ne;!W&&f!==null&&(ie=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ie);return k&&D!==Df&&(ne.value=Hp(y,this.options,N,this.speed)),j&&j(ne.value),k&&this.finish(),ne}then(e,n){return this.finished.then(e,n)}get duration(){return Zn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Zn(e)}get time(){return Zn(this.currentTime)}set time(e){e=Hr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Sn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Zn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=KA,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Sn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function hC(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ws=t=>t*180/Math.PI,Mf=t=>{const e=Ws(Math.atan2(t[1],t[0]));return Lf(e)},dC={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Mf,rotateZ:Mf,skewX:t=>Ws(Math.atan(t[1])),skewY:t=>Ws(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Lf=t=>(t=t%360,t<0&&(t+=360),t),V0=Mf,N0=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),D0=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),fC={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:N0,scaleY:D0,scale:t=>(N0(t)+D0(t))/2,rotateX:t=>Lf(Ws(Math.atan2(t[6],t[5]))),rotateY:t=>Lf(Ws(Math.atan2(-t[2],t[0]))),rotateZ:V0,rotate:V0,skewX:t=>Ws(Math.atan(t[4])),skewY:t=>Ws(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Of(t){return t.includes("scale")?1:0}function jf(t,e){if(!t||t==="none")return Of(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,o;if(n)i=fC,o=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=dC,o=d}if(!o)return Of(e);const a=i[e],u=o[1].split(",").map(mC);return typeof a=="function"?a(u):u[a]}const pC=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return jf(n,e)};function mC(t){return parseFloat(t.trim())}const pa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ma=new Set(pa),M0=t=>t===fa||t===Re,gC=new Set(["x","y","z"]),yC=pa.filter(t=>!gC.has(t));function vC(t){const e=[];return yC.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Gs={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>jf(e,"x"),y:(t,{transform:e})=>jf(e,"y")};Gs.translateX=Gs.x;Gs.translateY=Gs.y;const Qs=new Set;let Ff=!1,Bf=!1,Uf=!1;function a1(){if(Bf){const t=Array.from(Qs).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const o=vC(i);o.length&&(n.set(i,o),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=n.get(i);o&&o.forEach(([a,u])=>{i.getValue(a)?.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Bf=!1,Ff=!1,Qs.forEach(t=>t.complete(Uf)),Qs.clear()}function l1(){Qs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Bf=!0)})}function wC(){Uf=!0,l1(),a1(),Uf=!1}class Kp{constructor(e,n,i,o,a,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=o,this.element=a,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Qs.add(this),Ff||(Ff=!0,at.read(l1),at.resolveKeyframes(a1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:o}=this;if(e[0]===null){const a=o?.get(),u=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&n){const d=i.readValue(n,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),o&&a===void 0&&o.set(e[0])}hC(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Qs.delete(this)}cancel(){this.state==="scheduled"&&(Qs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const _C=t=>t.startsWith("--");function EC(t,e,n){_C(e)?t.style.setProperty(e,n):t.style[e]=n}const TC=Dp(()=>window.ScrollTimeline!==void 0),xC={};function SC(t,e){const n=Dp(t);return()=>xC[e]??n()}const u1=SC(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),hl=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,L0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hl([0,.65,.55,1]),circOut:hl([.55,0,1,.45]),backIn:hl([.31,.01,.66,-.59]),backOut:hl([.33,1.53,.69,.99])};function c1(t,e){if(t)return typeof t=="function"?u1()?i1(t,e):"ease-out":G_(t)?hl(t):Array.isArray(t)?t.map(n=>c1(n,e)||L0.easeOut):L0[t]}function IC(t,e,n,{delay:i=0,duration:o=300,repeat:a=0,repeatType:u="loop",ease:d="easeOut",times:f}={},p=void 0){const y={[e]:n};f&&(y.offset=f);const g=c1(d,o);Array.isArray(g)&&(y.easing=g);const E={delay:i,duration:o,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),t.animate(y,E)}function h1(t){return typeof t=="function"&&"applyToOptions"in t}function AC({type:t,...e}){return h1(t)&&u1()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class CC extends Wp{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:o,pseudoElement:a,allowFlatten:u=!1,finalKeyframe:d,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=u,this.options=e,Np(typeof e.type!="string");const p=AC(e);this.animation=IC(n,i,o,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const y=Hp(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):EC(n,i,y),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Zn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Zn(e)}get time(){return Zn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Hr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&TC()?(this.animation.timeline=e,er):n(this)}}const d1={anticipate:H_,backInOut:$_,circInOut:q_};function RC(t){return t in d1}function PC(t){typeof t.ease=="string"&&RC(t.ease)&&(t.ease=d1[t.ease])}const O0=10;class kC extends CC{constructor(e){PC(e),o1(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:o,element:a,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new qp({...u,autoplay:!1}),f=Hr(this.finishedTime??this.time);n.setWithVelocity(d.sample(f-O0).value,d.sample(f).value,O0),d.stop()}}const j0=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ss.test(t)||t==="0")&&!t.startsWith("url("));function bC(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function VC(t,e,n,i){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],u=j0(o,e),d=j0(a,e);return!u||!d?!1:bC(t)||(n==="spring"||h1(n))&&i}function zf(t){t.duration=0,t.type="keyframes"}const NC=new Set(["opacity","clipPath","filter","transform"]),DC=Dp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function MC(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:o,damping:a,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return DC()&&n&&NC.has(n)&&(n!=="transform"||!p)&&!f&&!i&&o!=="mirror"&&a!==0&&u!=="inertia"}const LC=40;class OC extends Wp{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:u="loop",keyframes:d,name:f,motionValue:p,element:y,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Sn.now();const E={autoplay:e,delay:n,type:i,repeat:o,repeatDelay:a,repeatType:u,name:f,motionValue:p,element:y,...g},A=y?.KeyframeResolver||Kp;this.keyframeResolver=new A(d,(D,j,N)=>this.onKeyframesResolved(D,j,E,!N),f,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,o){this.keyframeResolver=void 0;const{name:a,type:u,velocity:d,delay:f,isHandoff:p,onUpdate:y}=i;this.resolvedAt=Sn.now(),VC(e,a,u,d)||((_i.instantAnimations||!f)&&y?.(Hp(e,i,n)),e[0]=e[e.length-1],zf(i),i.repeat=0);const E={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>LC?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},A=!p&&MC(E)?new kC({...E,element:E.motionValue.owner.current}):new qp(E);A.finished.then(()=>this.notifyFinished()).catch(er),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),wC()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const jC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function FC(t){const e=jC.exec(t);if(!e)return[,];const[,n,i,o]=e;return[`--${n??i}`,o]}function f1(t,e,n=1){const[i,o]=FC(t);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const u=a.trim();return M_(u)?parseFloat(u):u}return Fp(o)?f1(o,e,n+1):o}function Gp(t,e){return t?.[e]??t?.default??t}const p1=new Set(["width","height","top","left","right","bottom",...pa]),BC={test:t=>t==="auto",parse:t=>t},m1=t=>e=>e.test(t),g1=[fa,Re,Wr,Ji,bA,kA,BC],F0=t=>g1.find(m1(t));function UC(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||O_(t):!0}const zC=new Set(["brightness","contrast","saturate","opacity"]);function $C(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Bp)||[];if(!i)return t;const o=n.replace(i,"");let a=zC.has(e)?1:0;return i!==n&&(a*=100),e+"("+a+o+")"}const HC=/\b([a-z-]*)\(.*?\)/gu,$f={...ss,getAnimatableNone:t=>{const e=t.match(HC);return e?e.map($C).join(" "):t}},B0={...fa,transform:Math.round},WC={rotate:Ji,rotateX:Ji,rotateY:Ji,rotateZ:Ji,scale:dc,scaleX:dc,scaleY:dc,scaleZ:dc,skew:Ji,skewX:Ji,skewY:Ji,distance:Re,translateX:Re,translateY:Re,translateZ:Re,x:Re,y:Re,z:Re,perspective:Re,transformPerspective:Re,opacity:Rl,originX:C0,originY:C0,originZ:Re},Qp={borderWidth:Re,borderTopWidth:Re,borderRightWidth:Re,borderBottomWidth:Re,borderLeftWidth:Re,borderRadius:Re,radius:Re,borderTopLeftRadius:Re,borderTopRightRadius:Re,borderBottomRightRadius:Re,borderBottomLeftRadius:Re,width:Re,maxWidth:Re,height:Re,maxHeight:Re,top:Re,right:Re,bottom:Re,left:Re,padding:Re,paddingTop:Re,paddingRight:Re,paddingBottom:Re,paddingLeft:Re,margin:Re,marginTop:Re,marginRight:Re,marginBottom:Re,marginLeft:Re,backgroundPositionX:Re,backgroundPositionY:Re,...WC,zIndex:B0,fillOpacity:Rl,strokeOpacity:Rl,numOctaves:B0},qC={...Qp,color:Ct,backgroundColor:Ct,outlineColor:Ct,fill:Ct,stroke:Ct,borderColor:Ct,borderTopColor:Ct,borderRightColor:Ct,borderBottomColor:Ct,borderLeftColor:Ct,filter:$f,WebkitFilter:$f},y1=t=>qC[t];function v1(t,e){let n=y1(t);return n!==$f&&(n=ss),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const KC=new Set(["auto","none","0"]);function GC(t,e,n){let i=0,o;for(;i<t.length&&!o;){const a=t[i];typeof a=="string"&&!KC.has(a)&&Pl(a).values.length&&(o=t[i]),i++}if(o&&n)for(const a of e)t[a]=v1(n,o)}class QC extends Kp{constructor(e,n,i,o,a){super(e,n,i,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),Fp(p))){const y=f1(p,n.current);y!==void 0&&(e[f]=y),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!p1.has(i)||e.length!==2)return;const[o,a]=e,u=F0(o),d=F0(a);if(u!==d)if(M0(u)&&M0(d))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else Gs[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let o=0;o<e.length;o++)(e[o]===null||UC(e[o]))&&i.push(o);i.length&&GC(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Gs[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const a=i.length-1,u=i[a];i[a]=Gs[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,f])=>{e.getValue(d).set(f)}),this.resolveNoneKeyframes()}}function YC(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const o=n?.[t]??i.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const w1=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function _1(t){return L_(t)&&"offsetHeight"in t}const U0=30,XC=t=>!isNaN(parseFloat(t));class JC{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const o=Sn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Sn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=XC(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Mp);const i=this.events[e].add(n);return e==="change"?()=>{i(),at.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Sn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>U0)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,U0);return j_(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ra(t,e){return new JC(t,e)}const{schedule:Yp}=Q_(queueMicrotask,!1),gr={x:!1,y:!1};function E1(){return gr.x||gr.y}function ZC(t){return t==="x"||t==="y"?gr[t]?null:(gr[t]=!0,()=>{gr[t]=!1}):gr.x||gr.y?null:(gr.x=gr.y=!0,()=>{gr.x=gr.y=!1})}function T1(t,e){const n=YC(t),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[n,o,()=>i.abort()]}function z0(t){return!(t.pointerType==="touch"||E1())}function eR(t,e,n={}){const[i,o,a]=T1(t,n),u=d=>{if(!z0(d))return;const{target:f}=d,p=e(f,d);if(typeof p!="function"||!f)return;const y=g=>{z0(g)&&(p(g),f.removeEventListener("pointerleave",y))};f.addEventListener("pointerleave",y,o)};return i.forEach(d=>{d.addEventListener("pointerenter",u,o)}),a}const x1=(t,e)=>e?t===e?!0:x1(t,e.parentElement):!1,Xp=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,tR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function nR(t){return tR.has(t.tagName)||t.tabIndex!==-1}const Sc=new WeakSet;function $0(t){return e=>{e.key==="Enter"&&t(e)}}function of(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const rR=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=$0(()=>{if(Sc.has(n))return;of(n,"down");const o=$0(()=>{of(n,"up")}),a=()=>of(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function H0(t){return Xp(t)&&!E1()}function iR(t,e,n={}){const[i,o,a]=T1(t,n),u=d=>{const f=d.currentTarget;if(!H0(d))return;Sc.add(f);const p=e(f,d),y=(A,D)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",E),Sc.has(f)&&Sc.delete(f),H0(A)&&typeof p=="function"&&p(A,{success:D})},g=A=>{y(A,f===window||f===document||n.useGlobalTarget||x1(f,A.target))},E=A=>{y(A,!1)};window.addEventListener("pointerup",g,o),window.addEventListener("pointercancel",E,o)};return i.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",u,o),_1(d)&&(d.addEventListener("focus",p=>rR(p,o)),!nR(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),a}function S1(t){return L_(t)&&"ownerSVGElement"in t}function sR(t){return S1(t)&&t.tagName==="svg"}const on=t=>!!(t&&t.getVelocity),oR=[...g1,Ct,ss],aR=t=>oR.find(m1(t)),Jp=L.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function W0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function lR(...t){return e=>{let n=!1;const i=t.map(o=>{const a=W0(o,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let o=0;o<i.length;o++){const a=i[o];typeof a=="function"?a():W0(t[o],null)}}}}function uR(...t){return L.useCallback(lR(...t),t)}class cR extends L.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,o=_1(i)&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=o-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function hR({children:t,isPresent:e,anchorX:n,root:i}){const o=L.useId(),a=L.useRef(null),u=L.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=L.useContext(Jp),f=uR(a,t?.ref);return L.useInsertionEffect(()=>{const{width:p,height:y,top:g,left:E,right:A}=u.current;if(e||!a.current||!p||!y)return;const D=n==="left"?`left: ${E}`:`right: ${A}`;a.current.dataset.motionPopId=o;const j=document.createElement("style");d&&(j.nonce=d);const N=i??document.head;return N.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            ${D}px !important;
            top: ${g}px !important;
          }
        `),()=>{N.contains(j)&&N.removeChild(j)}},[e]),I.jsx(cR,{isPresent:e,childRef:a,sizeRef:u,children:L.cloneElement(t,{ref:f})})}const dR=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:o,presenceAffectsLayout:a,mode:u,anchorX:d,root:f})=>{const p=Pp(fR),y=L.useId();let g=!0,E=L.useMemo(()=>(g=!1,{id:y,initial:e,isPresent:n,custom:o,onExitComplete:A=>{p.set(A,!0);for(const D of p.values())if(!D)return;i&&i()},register:A=>(p.set(A,!1),()=>p.delete(A))}),[n,p,i]);return a&&g&&(E={...E}),L.useMemo(()=>{p.forEach((A,D)=>p.set(D,!1))},[n]),L.useEffect(()=>{!n&&!p.size&&i&&i()},[n]),u==="popLayout"&&(t=I.jsx(hR,{isPresent:n,anchorX:d,root:f,children:t})),I.jsx(ih.Provider,{value:E,children:t})};function fR(){return new Map}function I1(t=!0){const e=L.useContext(ih);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:o}=e,a=L.useId();L.useEffect(()=>{if(t)return o(a)},[t]);const u=L.useCallback(()=>t&&i&&i(a),[a,i,t]);return!n&&i?[!1,u]:[!0]}const fc=t=>t.key||"";function q0(t){const e=[];return L.Children.forEach(t,n=>{L.isValidElement(n)&&e.push(n)}),e}const pR=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:a="sync",propagate:u=!1,anchorX:d="left",root:f})=>{const[p,y]=I1(u),g=L.useMemo(()=>q0(t),[t]),E=u&&!p?[]:g.map(fc),A=L.useRef(!0),D=L.useRef(g),j=Pp(()=>new Map),[N,F]=L.useState(g),[W,K]=L.useState(g);D_(()=>{A.current=!1,D.current=g;for(let ie=0;ie<W.length;ie++){const k=fc(W[ie]);E.includes(k)?j.delete(k):j.get(k)!==!0&&j.set(k,!1)}},[W,E.length,E.join("-")]);const re=[];if(g!==N){let ie=[...g];for(let k=0;k<W.length;k++){const S=W[k],C=fc(S);E.includes(C)||(ie.splice(k,0,S),re.push(S))}return a==="wait"&&re.length&&(ie=re),K(q0(ie)),F(g),null}const{forceRender:ne}=L.useContext(Rp);return I.jsx(I.Fragment,{children:W.map(ie=>{const k=fc(ie),S=u&&!p?!1:g===W||E.includes(k),C=()=>{if(j.has(k))j.set(k,!0);else return;let b=!0;j.forEach(V=>{V||(b=!1)}),b&&(ne?.(),K(D.current),u&&y?.(),i&&i())};return I.jsx(dR,{isPresent:S,initial:!A.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:a,root:f,onExitComplete:S?void 0:C,anchorX:d,children:ie},k)})})},A1=L.createContext({strict:!1}),K0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ia={};for(const t in K0)ia[t]={isEnabled:e=>K0[t].some(n=>!!e[n])};function mR(t){for(const e in t)ia[e]={...ia[e],...t[e]}}const gR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Oc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||gR.has(t)}let C1=t=>!Oc(t);function yR(t){typeof t=="function"&&(C1=e=>e.startsWith("on")?!Oc(e):t(e))}try{yR(require("@emotion/is-prop-valid").default)}catch{}function vR(t,e,n){const i={};for(const o in t)o==="values"&&typeof t.values=="object"||(C1(o)||n===!0&&Oc(o)||!e&&!Oc(o)||t.draggable&&o.startsWith("onDrag"))&&(i[o]=t[o]);return i}const sh=L.createContext({});function oh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function kl(t){return typeof t=="string"||Array.isArray(t)}const Zp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],em=["initial",...Zp];function ah(t){return oh(t.animate)||em.some(e=>kl(t[e]))}function R1(t){return!!(ah(t)||t.variants)}function wR(t,e){if(ah(t)){const{initial:n,animate:i}=t;return{initial:n===!1||kl(n)?n:void 0,animate:kl(i)?i:void 0}}return t.inherit!==!1?e:{}}function _R(t){const{initial:e,animate:n}=wR(t,L.useContext(sh));return L.useMemo(()=>({initial:e,animate:n}),[G0(e),G0(n)])}function G0(t){return Array.isArray(t)?t.join(" "):t}const bl={};function ER(t){for(const e in t)bl[e]=t[e],jp(e)&&(bl[e].isCSSVariable=!0)}function P1(t,{layout:e,layoutId:n}){return ma.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!bl[t]||t==="opacity")}const TR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},xR=pa.length;function SR(t,e,n){let i="",o=!0;for(let a=0;a<xR;a++){const u=pa[a],d=t[u];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(u.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const p=w1(d,Qp[u]);if(!f){o=!1;const y=TR[u]||u;i+=`${y}(${p}) `}n&&(e[u]=p)}}return i=i.trim(),n?i=n(e,o?"":i):o&&(i="none"),i}function tm(t,e,n){const{style:i,vars:o,transformOrigin:a}=t;let u=!1,d=!1;for(const f in e){const p=e[f];if(ma.has(f)){u=!0;continue}else if(jp(f)){o[f]=p;continue}else{const y=w1(p,Qp[f]);f.startsWith("origin")?(d=!0,a[f]=y):i[f]=y}}if(e.transform||(u||n?i.transform=SR(e,t.transform,n):i.transform&&(i.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:y=0}=a;i.transformOrigin=`${f} ${p} ${y}`}}const nm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function k1(t,e,n){for(const i in e)!on(e[i])&&!P1(i,n)&&(t[i]=e[i])}function IR({transformTemplate:t},e){return L.useMemo(()=>{const n=nm();return tm(n,e,t),Object.assign({},n.vars,n.style)},[e])}function AR(t,e){const n=t.style||{},i={};return k1(i,n,t),Object.assign(i,IR(t,e)),i}function CR(t,e){const n={},i=AR(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const RR={offset:"stroke-dashoffset",array:"stroke-dasharray"},PR={offset:"strokeDashoffset",array:"strokeDasharray"};function kR(t,e,n=1,i=0,o=!0){t.pathLength=1;const a=o?RR:PR;t[a.offset]=Re.transform(-i);const u=Re.transform(e),d=Re.transform(n);t[a.array]=`${u} ${d}`}function b1(t,{attrX:e,attrY:n,attrScale:i,pathLength:o,pathSpacing:a=1,pathOffset:u=0,...d},f,p,y){if(tm(t,d,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:E}=t;g.transform&&(E.transform=g.transform,delete g.transform),(E.transform||g.transformOrigin)&&(E.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),E.transform&&(E.transformBox=y?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),i!==void 0&&(g.scale=i),o!==void 0&&kR(g,o,a,u,!1)}const V1=()=>({...nm(),attrs:{}}),N1=t=>typeof t=="string"&&t.toLowerCase()==="svg";function bR(t,e,n,i){const o=L.useMemo(()=>{const a=V1();return b1(a,e,N1(i),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};k1(a,t.style,t),o.style={...a,...o.style}}return o}const VR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rm(t){return typeof t!="string"||t.includes("-")?!1:!!(VR.indexOf(t)>-1||/[A-Z]/u.test(t))}function NR(t,e,n,{latestValues:i},o,a=!1){const d=(rm(t)?bR:CR)(e,i,o,t),f=vR(e,typeof t=="string",a),p=t!==L.Fragment?{...f,...d,ref:n}:{},{children:y}=e,g=L.useMemo(()=>on(y)?y.get():y,[y]);return L.createElement(t,{...p,children:g})}function Q0(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function im(t,e,n,i){if(typeof e=="function"){const[o,a]=Q0(i);e=e(n!==void 0?n:t.custom,o,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,a]=Q0(i);e=e(n!==void 0?n:t.custom,o,a)}return e}function Ic(t){return on(t)?t.get():t}function DR({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,o){return{latestValues:MR(n,i,o,t),renderState:e()}}function MR(t,e,n,i){const o={},a=i(t,{});for(const E in a)o[E]=Ic(a[E]);let{initial:u,animate:d}=t;const f=ah(t),p=R1(t);e&&p&&!f&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const g=y?d:u;if(g&&typeof g!="boolean"&&!oh(g)){const E=Array.isArray(g)?g:[g];for(let A=0;A<E.length;A++){const D=im(t,E[A]);if(D){const{transitionEnd:j,transition:N,...F}=D;for(const W in F){let K=F[W];if(Array.isArray(K)){const re=y?K.length-1:0;K=K[re]}K!==null&&(o[W]=K)}for(const W in j)o[W]=j[W]}}}return o}const D1=t=>(e,n)=>{const i=L.useContext(sh),o=L.useContext(ih),a=()=>DR(t,e,i,o);return n?a():Pp(a)};function sm(t,e,n){const{style:i}=t,o={};for(const a in i)(on(i[a])||e.style&&on(e.style[a])||P1(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(o[a]=i[a]);return o}const LR=D1({scrapeMotionValuesFromProps:sm,createRenderState:nm});function M1(t,e,n){const i=sm(t,e,n);for(const o in t)if(on(t[o])||on(e[o])){const a=pa.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[a]=t[o]}return i}const OR=D1({scrapeMotionValuesFromProps:M1,createRenderState:V1}),jR=Symbol.for("motionComponentSymbol");function Qo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function FR(t,e,n){return L.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Qo(n)&&(n.current=i))},[e])}const om=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),BR="framerAppearId",L1="data-"+om(BR),O1=L.createContext({});function UR(t,e,n,i,o){const{visualElement:a}=L.useContext(sh),u=L.useContext(A1),d=L.useContext(ih),f=L.useContext(Jp).reducedMotion,p=L.useRef(null);i=i||u.renderer,!p.current&&i&&(p.current=i(t,{visualState:e,parent:a,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const y=p.current,g=L.useContext(O1);y&&!y.projection&&o&&(y.type==="html"||y.type==="svg")&&zR(p.current,n,o,g);const E=L.useRef(!1);L.useInsertionEffect(()=>{y&&E.current&&y.update(n,d)});const A=n[L1],D=L.useRef(!!A&&!window.MotionHandoffIsComplete?.(A)&&window.MotionHasOptimisedAnimation?.(A));return D_(()=>{y&&(E.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),D.current&&y.animationState&&y.animationState.animateChanges())}),L.useEffect(()=>{y&&(!D.current&&y.animationState&&y.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(A)}),D.current=!1),y.enteringChildren=void 0)}),y}function zR(t,e,n,i){const{layoutId:o,layout:a,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:j1(t.parent)),t.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!u||d&&Qo(d),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:f,layoutRoot:p})}function j1(t){if(t)return t.options.allowProjection!==!1?t.projection:j1(t.parent)}function af(t,{forwardMotionProps:e=!1}={},n,i){n&&mR(n);const o=rm(t)?OR:LR;function a(d,f){let p;const y={...L.useContext(Jp),...d,layoutId:$R(d)},{isStatic:g}=y,E=_R(d),A=o(d,g);if(!g&&kp){HR();const D=WR(y);p=D.MeasureLayout,E.visualElement=UR(t,A,y,i,D.ProjectionNode)}return I.jsxs(sh.Provider,{value:E,children:[p&&E.visualElement?I.jsx(p,{visualElement:E.visualElement,...y}):null,NR(t,d,FR(A,E.visualElement,f),A,g,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=L.forwardRef(a);return u[jR]=t,u}function $R({layoutId:t}){const e=L.useContext(Rp).id;return e&&t!==void 0?e+"-"+t:t}function HR(t,e){L.useContext(A1).strict}function WR(t){const{drag:e,layout:n}=ia;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function qR(t,e){if(typeof Proxy>"u")return af;const n=new Map,i=(a,u)=>af(a,u,t,e),o=(a,u)=>i(a,u);return new Proxy(o,{get:(a,u)=>u==="create"?i:(n.has(u)||n.set(u,af(u,void 0,t,e)),n.get(u))})}function F1({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function KR({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function GR(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function lf(t){return t===void 0||t===1}function Hf({scale:t,scaleX:e,scaleY:n}){return!lf(t)||!lf(e)||!lf(n)}function zs(t){return Hf(t)||B1(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function B1(t){return Y0(t.x)||Y0(t.y)}function Y0(t){return t&&t!=="0%"}function jc(t,e,n){const i=t-n,o=e*i;return n+o}function X0(t,e,n,i,o){return o!==void 0&&(t=jc(t,o,i)),jc(t,n,i)+e}function Wf(t,e=0,n=1,i,o){t.min=X0(t.min,e,n,i,o),t.max=X0(t.max,e,n,i,o)}function U1(t,{x:e,y:n}){Wf(t.x,e.translate,e.scale,e.originPoint),Wf(t.y,n.translate,n.scale,n.originPoint)}const J0=.999999999999,Z0=1.0000000000001;function QR(t,e,n,i=!1){const o=n.length;if(!o)return;e.x=e.y=1;let a,u;for(let d=0;d<o;d++){a=n[d],u=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Xo(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,U1(t,u)),i&&zs(a.latestValues)&&Xo(t,a.latestValues))}e.x<Z0&&e.x>J0&&(e.x=1),e.y<Z0&&e.y>J0&&(e.y=1)}function Yo(t,e){t.min=t.min+e,t.max=t.max+e}function ev(t,e,n,i,o=.5){const a=ht(t.min,t.max,o);Wf(t,e,n,a,i)}function Xo(t,e){ev(t.x,e.x,e.scaleX,e.scale,e.originX),ev(t.y,e.y,e.scaleY,e.scale,e.originY)}function z1(t,e){return F1(GR(t.getBoundingClientRect(),e))}function YR(t,e,n){const i=z1(t,n),{scroll:o}=e;return o&&(Yo(i.x,o.offset.x),Yo(i.y,o.offset.y)),i}const tv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Jo=()=>({x:tv(),y:tv()}),nv=()=>({min:0,max:0}),Nt=()=>({x:nv(),y:nv()}),qf={current:null},$1={current:!1};function XR(){if($1.current=!0,!!kp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>qf.current=t.matches;t.addEventListener("change",e),e()}else qf.current=!1}const JR=new WeakMap;function ZR(t,e,n){for(const i in e){const o=e[i],a=n[i];if(on(o))t.addValue(i,o);else if(on(a))t.addValue(i,ra(o,{owner:t}));else if(a!==o)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(i);t.addValue(i,ra(u!==void 0?u:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const rv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class eP{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:a,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Kp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Sn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,at.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=ah(n),this.isVariantNode=R1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in g){const A=g[E];f[E]!==void 0&&on(A)&&A.set(f[E])}}mount(e){this.current=e,JR.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),$1.current||XR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:qf.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),is(this.notifyUpdate),is(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=ma.has(e);i&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&at.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ia){const n=ia[e];if(!n)continue;const{isEnabled:i,Feature:o}=n;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Nt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<rv.length;i++){const o=rv[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,u=e[a];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=ZR(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=ra(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(M_(i)||O_(i))?i=parseFloat(i):!aR(i)&&ss.test(n)&&(i=v1(e,n)),this.setBaseTarget(e,on(i)?i.get():i)),on(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const a=im(this.props,n,this.presenceContext?.custom);a&&(i=a[e])}if(n&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!on(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Mp),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Yp.render(this.render)}}class H1 extends eP{constructor(){super(...arguments),this.KeyframeResolver=QC}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;on(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function W1(t,{style:e,vars:n},i,o){const a=t.style;let u;for(u in e)a[u]=e[u];o?.applyProjectionStyles(a,i);for(u in n)a.setProperty(u,n[u])}function tP(t){return window.getComputedStyle(t)}class nP extends H1{constructor(){super(...arguments),this.type="html",this.renderInstance=W1}readValueFromInstance(e,n){if(ma.has(n))return this.projection?.isProjecting?Of(n):pC(e,n);{const i=tP(e),o=(jp(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return z1(e,n)}build(e,n,i){tm(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return sm(e,n,i)}}const q1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function rP(t,e,n,i){W1(t,e,void 0,i);for(const o in e.attrs)t.setAttribute(q1.has(o)?o:om(o),e.attrs[o])}class iP extends H1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Nt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ma.has(n)){const i=y1(n);return i&&i.default||0}return n=q1.has(n)?n:om(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return M1(e,n,i)}build(e,n,i){b1(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,o){rP(e,n,i,o)}mount(e){this.isSVGTag=N1(e.tagName),super.mount(e)}}const sP=(t,e)=>rm(t)?new iP(e):new nP(e,{allowProjection:t!==L.Fragment});function Zo(t,e,n){const i=t.getProps();return im(i,e,n!==void 0?n:i.custom,t)}const Kf=t=>Array.isArray(t);function oP(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ra(n))}function aP(t){return Kf(t)?t[t.length-1]||0:t}function lP(t,e){const n=Zo(t,e);let{transitionEnd:i={},transition:o={},...a}=n||{};a={...a,...i};for(const u in a){const d=aP(a[u]);oP(t,u,d)}}function uP(t){return!!(on(t)&&t.add)}function Gf(t,e){const n=t.getValue("willChange");if(uP(n))return n.add(e);if(!n&&_i.WillChange){const i=new _i.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function K1(t){return t.props[L1]}const cP=t=>t!==null;function hP(t,{repeat:e,repeatType:n="loop"},i){const o=t.filter(cP),a=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[a]}const dP={type:"spring",stiffness:500,damping:25,restSpeed:10},fP=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),pP={type:"keyframes",duration:.8},mP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},gP=(t,{keyframes:e})=>e.length>2?pP:ma.has(t)?t.startsWith("scale")?fP(e[1]):dP:mP;function yP({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:o,repeat:a,repeatType:u,repeatDelay:d,from:f,elapsed:p,...y}){return!!Object.keys(y).length}const am=(t,e,n,i={},o,a)=>u=>{const d=Gp(i,t)||{},f=d.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Hr(f);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:E=>{e.set(E),d.onUpdate&&d.onUpdate(E)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:a?void 0:o};yP(d)||Object.assign(y,gP(t,y)),y.duration&&(y.duration=Hr(y.duration)),y.repeatDelay&&(y.repeatDelay=Hr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let g=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(zf(y),y.delay===0&&(g=!0)),(_i.instantAnimations||_i.skipAnimations)&&(g=!0,zf(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,g&&!a&&e.get()!==void 0){const E=hP(y.keyframes,d);if(E!==void 0){at.update(()=>{y.onUpdate(E),y.onComplete()});return}}return d.isSync?new qp(y):new OC(y)};function vP({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function G1(t,e,{delay:n=0,transitionOverride:i,type:o}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:u,...d}=e;i&&(a=i);const f=[],p=o&&t.animationState&&t.animationState.getState()[o];for(const y in d){const g=t.getValue(y,t.latestValues[y]??null),E=d[y];if(E===void 0||p&&vP(p,y))continue;const A={delay:n,...Gp(a||{},y)},D=g.get();if(D!==void 0&&!g.isAnimating&&!Array.isArray(E)&&E===D&&!A.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const F=K1(t);if(F){const W=window.MotionHandoffAnimation(F,y,at);W!==null&&(A.startTime=W,j=!0)}}Gf(t,y),g.start(am(y,g,E,t.shouldReduceMotion&&p1.has(y)?{type:!1}:A,t,j));const N=g.animation;N&&f.push(N)}return u&&Promise.all(f).then(()=>{at.update(()=>{u&&lP(t,u)})}),f}function Q1(t,e,n,i=0,o=1){const a=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),u=t.size,d=(u-1)*i;return typeof n=="function"?n(a,u):o===1?a*i:d-a*i}function Qf(t,e,n={}){const i=Zo(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const a=i?()=>Promise.all(G1(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:g}=o;return wP(t,e,f,p,y,g,n)}:()=>Promise.resolve(),{when:d}=o;if(d){const[f,p]=d==="beforeChildren"?[a,u]:[u,a];return f().then(()=>p())}else return Promise.all([a(),u(n.delay)])}function wP(t,e,n=0,i=0,o=0,a=1,u){const d=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),d.push(Qf(f,e,{...u,delay:n+(typeof i=="function"?0:i)+Q1(t.variantChildren,f,i,o,a)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(d)}function _P(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(a=>Qf(t,a,n));i=Promise.all(o)}else if(typeof e=="string")i=Qf(t,e,n);else{const o=typeof e=="function"?Zo(t,e,n.custom):e;i=Promise.all(G1(t,o,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function Y1(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const EP=em.length;function X1(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?X1(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<EP;n++){const i=em[n],o=t.props[i];(kl(o)||o===!1)&&(e[i]=o)}return e}const TP=[...Zp].reverse(),xP=Zp.length;function SP(t){return e=>Promise.all(e.map(({animation:n,options:i})=>_P(t,n,i)))}function IP(t){let e=SP(t),n=iv(),i=!0;const o=f=>(p,y)=>{const g=Zo(t,y,f==="exit"?t.presenceContext?.custom:void 0);if(g){const{transition:E,transitionEnd:A,...D}=g;p={...p,...D,...A}}return p};function a(f){e=f(t)}function u(f){const{props:p}=t,y=X1(t.parent)||{},g=[],E=new Set;let A={},D=1/0;for(let N=0;N<xP;N++){const F=TP[N],W=n[F],K=p[F]!==void 0?p[F]:y[F],re=kl(K),ne=F===f?W.isActive:null;ne===!1&&(D=N);let ie=K===y[F]&&K!==p[F]&&re;if(ie&&i&&t.manuallyAnimateOnMount&&(ie=!1),W.protectedKeys={...A},!W.isActive&&ne===null||!K&&!W.prevProp||oh(K)||typeof K=="boolean")continue;const k=AP(W.prevProp,K);let S=k||F===f&&W.isActive&&!ie&&re||N>D&&re,C=!1;const b=Array.isArray(K)?K:[K];let V=b.reduce(o(F),{});ne===!1&&(V={});const{prevResolvedValues:U={}}=W,P={...U,...V},Fe=ve=>{S=!0,E.has(ve)&&(C=!0,E.delete(ve)),W.needsAnimating[ve]=!0;const ee=t.getValue(ve);ee&&(ee.liveStyle=!1)};for(const ve in P){const ee=V[ve],ce=U[ve];if(A.hasOwnProperty(ve))continue;let oe=!1;Kf(ee)&&Kf(ce)?oe=!Y1(ee,ce):oe=ee!==ce,oe?ee!=null?Fe(ve):E.add(ve):ee!==void 0&&E.has(ve)?Fe(ve):W.protectedKeys[ve]=!0}W.prevProp=K,W.prevResolvedValues=V,W.isActive&&(A={...A,...V}),i&&t.blockInitialAnimation&&(S=!1);const Qe=ie&&k;S&&(!Qe||C)&&g.push(...b.map(ve=>{const ee={type:F};if(typeof ve=="string"&&i&&!Qe&&t.manuallyAnimateOnMount&&t.parent){const{parent:ce}=t,oe=Zo(ce,ve);if(ce.enteringChildren&&oe){const{delayChildren:B}=oe.transition||{};ee.delay=Q1(ce.enteringChildren,t,B)}}return{animation:ve,options:ee}}))}if(E.size){const N={};if(typeof p.initial!="boolean"){const F=Zo(t,Array.isArray(p.initial)?p.initial[0]:p.initial);F&&F.transition&&(N.transition=F.transition)}E.forEach(F=>{const W=t.getBaseTarget(F),K=t.getValue(F);K&&(K.liveStyle=!0),N[F]=W??null}),g.push({animation:N})}let j=!!g.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(j=!1),i=!1,j?e(g):Promise.resolve()}function d(f,p){if(n[f].isActive===p)return Promise.resolve();t.variantChildren?.forEach(g=>g.animationState?.setActive(f,p)),n[f].isActive=p;const y=u(f);for(const g in n)n[g].protectedKeys={};return y}return{animateChanges:u,setActive:d,setAnimateFunction:a,getState:()=>n,reset:()=>{n=iv()}}}function AP(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Y1(e,t):!1}function Us(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function iv(){return{animate:Us(!0),whileInView:Us(),whileHover:Us(),whileTap:Us(),whileDrag:Us(),whileFocus:Us(),exit:Us()}}class fs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class CP extends fs{constructor(e){super(e),e.animationState||(e.animationState=IP(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();oh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let RP=0;class PP extends fs{constructor(){super(...arguments),this.id=RP++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const kP={animation:{Feature:CP},exit:{Feature:PP}};function Vl(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Ql(t){return{point:{x:t.pageX,y:t.pageY}}}const bP=t=>e=>Xp(e)&&t(e,Ql(e));function vl(t,e,n,i){return Vl(t,e,bP(n),i)}const J1=1e-4,VP=1-J1,NP=1+J1,Z1=.01,DP=0-Z1,MP=0+Z1;function dn(t){return t.max-t.min}function LP(t,e,n){return Math.abs(t-e)<=n}function sv(t,e,n,i=.5){t.origin=i,t.originPoint=ht(e.min,e.max,t.origin),t.scale=dn(n)/dn(e),t.translate=ht(n.min,n.max,t.origin)-t.originPoint,(t.scale>=VP&&t.scale<=NP||isNaN(t.scale))&&(t.scale=1),(t.translate>=DP&&t.translate<=MP||isNaN(t.translate))&&(t.translate=0)}function wl(t,e,n,i){sv(t.x,e.x,n.x,i?i.originX:void 0),sv(t.y,e.y,n.y,i?i.originY:void 0)}function ov(t,e,n){t.min=n.min+e.min,t.max=t.min+dn(e)}function OP(t,e,n){ov(t.x,e.x,n.x),ov(t.y,e.y,n.y)}function av(t,e,n){t.min=e.min-n.min,t.max=t.min+dn(e)}function Fc(t,e,n){av(t.x,e.x,n.x),av(t.y,e.y,n.y)}function Yn(t){return[t("x"),t("y")]}const eE=({current:t})=>t?t.ownerDocument.defaultView:null,lv=(t,e)=>Math.abs(t-e);function jP(t,e){const n=lv(t.x,e.x),i=lv(t.y,e.y);return Math.sqrt(n**2+i**2)}class tE{constructor(e,n,{transformPagePoint:i,contextWindow:o=window,dragSnapToOrigin:a=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=cf(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,D=jP(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!D)return;const{point:j}=E,{timestamp:N}=qt;this.history.push({...j,timestamp:N});const{onStart:F,onMove:W}=this.handlers;A||(F&&F(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),W&&W(this.lastMoveEvent,E)},this.handlePointerMove=(E,A)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=uf(A,this.transformPagePoint),at.update(this.updatePoint,!0)},this.handlePointerUp=(E,A)=>{this.end();const{onEnd:D,onSessionEnd:j,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=cf(E.type==="pointercancel"?this.lastMoveEventInfo:uf(A,this.transformPagePoint),this.history);this.startEvent&&D&&D(E,F),j&&j(E,F)},!Xp(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=o||window;const d=Ql(e),f=uf(d,this.transformPagePoint),{point:p}=f,{timestamp:y}=qt;this.history=[{...p,timestamp:y}];const{onSessionStart:g}=n;g&&g(e,cf(f,this.history)),this.removeListeners=ql(vl(this.contextWindow,"pointermove",this.handlePointerMove),vl(this.contextWindow,"pointerup",this.handlePointerUp),vl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),is(this.updatePoint)}}function uf(t,e){return e?{point:e(t.point)}:t}function uv(t,e){return{x:t.x-e.x,y:t.y-e.y}}function cf({point:t},e){return{point:t,delta:uv(t,nE(e)),offset:uv(t,FP(e)),velocity:BP(e,.1)}}function FP(t){return t[0]}function nE(t){return t[t.length-1]}function BP(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const o=nE(t);for(;n>=0&&(i=t[n],!(o.timestamp-i.timestamp>Hr(e)));)n--;if(!i)return{x:0,y:0};const a=Zn(o.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const u={x:(o.x-i.x)/a,y:(o.y-i.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function UP(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?ht(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?ht(n,t,i.max):Math.min(t,n)),t}function cv(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function zP(t,{top:e,left:n,bottom:i,right:o}){return{x:cv(t.x,n,o),y:cv(t.y,e,i)}}function hv(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function $P(t,e){return{x:hv(t.x,e.x),y:hv(t.y,e.y)}}function HP(t,e){let n=.5;const i=dn(t),o=dn(e);return o>i?n=Cl(e.min,e.max-i,t.min):i>o&&(n=Cl(t.min,t.max-o,e.min)),wi(0,1,n)}function WP(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Yf=.35;function qP(t=Yf){return t===!1?t=0:t===!0&&(t=Yf),{x:dv(t,"left","right"),y:dv(t,"top","bottom")}}function dv(t,e,n){return{min:fv(t,e),max:fv(t,n)}}function fv(t,e){return typeof t=="number"?t:t[e]||0}const KP=new WeakMap;class GP{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Nt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ql(g).point)},u=(g,E)=>{const{drag:A,dragPropagation:D,onDragStart:j}=this.getProps();if(A&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ZC(A),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Yn(F=>{let W=this.getAxisMotionValue(F).get()||0;if(Wr.test(W)){const{projection:K}=this.visualElement;if(K&&K.layout){const re=K.layout.layoutBox[F];re&&(W=dn(re)*(parseFloat(W)/100))}}this.originPoint[F]=W}),j&&at.postRender(()=>j(g,E)),Gf(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},d=(g,E)=>{this.latestPointerEvent=g,this.latestPanInfo=E;const{dragPropagation:A,dragDirectionLock:D,onDirectionLock:j,onDrag:N}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:F}=E;if(D&&this.currentDirection===null){this.currentDirection=QP(F),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",E.point,F),this.updateAxis("y",E.point,F),this.visualElement.render(),N&&N(g,E)},f=(g,E)=>{this.latestPointerEvent=g,this.latestPanInfo=E,this.stop(g,E),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Yn(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new tE(e,{onSessionStart:a,onStart:u,onMove:d,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:eE(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,o=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!o||!i)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&at.postRender(()=>d(i,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:o}=this.getProps();if(!i||!pc(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=UP(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&Qo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=zP(i.layoutBox,e):this.constraints=!1,this.elastic=qP(n),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Yn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=WP(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Qo(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=YR(i,o.root,this.visualElement.getTransformPagePoint());let u=$P(o.layout.layoutBox,a);if(n){const d=n(KR(u));this.hasMutatedConstraints=!!d,d&&(u=F1(d))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:o,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},p=Yn(y=>{if(!pc(y,n,this.currentDirection))return;let g=f&&f[y]||{};u&&(g={min:0,max:0});const E=o?200:1e6,A=o?40:1e7,D={type:"inertia",velocity:i?e[y]:0,bounceStiffness:E,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(y,D)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Gf(this.visualElement,e),i.start(am(e,i,0,n,this.visualElement,!1))}stopAnimation(){Yn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Yn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[n];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Yn(n=>{const{drag:i}=this.getProps();if(!pc(n,i,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:d}=o.layout.layoutBox[n];a.set(e[n]-ht(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Qo(n)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Yn(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const f=d.get();o[u]=HP({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Yn(u=>{if(!pc(u,e,null))return;const d=this.getAxisMotionValue(u),{min:f,max:p}=this.constraints[u];d.set(ht(f,p,o[u]))})}addListeners(){if(!this.visualElement.current)return;KP.set(this.visualElement,this);const e=this.visualElement.current,n=vl(e,"pointerdown",f=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();Qo(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),at.read(i);const u=Vl(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Yn(y=>{const g=this.getAxisMotionValue(y);g&&(this.originPoint[y]+=f[y].translate,g.set(g.get()+f[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),a(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:u=Yf,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:a,dragElastic:u,dragMomentum:d}}}function pc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function QP(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class YP extends fs{constructor(e){super(e),this.removeGroupControls=er,this.removeListeners=er,this.controls=new GP(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||er}unmount(){this.removeGroupControls(),this.removeListeners()}}const pv=t=>(e,n)=>{t&&at.postRender(()=>t(e,n))};class XP extends fs{constructor(){super(...arguments),this.removePointerDownListener=er}onPointerDown(e){this.session=new tE(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:eE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:pv(e),onStart:pv(n),onMove:i,onEnd:(a,u)=>{delete this.session,o&&at.postRender(()=>o(a,u))}}}mount(){this.removePointerDownListener=vl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ac={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function mv(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const cl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Re.test(t))t=parseFloat(t);else return t;const n=mv(t,e.target.x),i=mv(t,e.target.y);return`${n}% ${i}%`}},JP={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,o=ss.parse(t);if(o.length>5)return i;const a=ss.createTransformer(t),u=typeof o[0]!="number"?1:0,d=n.x.scale*e.x,f=n.y.scale*e.y;o[0+u]/=d,o[1+u]/=f;const p=ht(d,f,.5);return typeof o[2+u]=="number"&&(o[2+u]/=p),typeof o[3+u]=="number"&&(o[3+u]/=p),a(o)}};let hf=!1;class ZP extends L.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:o}=this.props,{projection:a}=e;ER(e2),a&&(n.group&&n.group.add(a),i&&i.register&&o&&i.register(a),hf&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Ac.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:o,isPresent:a}=this.props,{projection:u}=i;return u&&(u.isPresent=a,hf=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==a?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||at.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Yp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:o}=e;hf=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function rE(t){const[e,n]=I1(),i=L.useContext(Rp);return I.jsx(ZP,{...t,layoutGroup:i,switchLayoutGroup:L.useContext(O1),isPresent:e,safeToRemove:n})}const e2={borderRadius:{...cl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cl,borderTopRightRadius:cl,borderBottomLeftRadius:cl,borderBottomRightRadius:cl,boxShadow:JP};function t2(t,e,n){const i=on(t)?t:ra(t);return i.start(am("",i,e,n)),i.animation}const n2=(t,e)=>t.depth-e.depth;class r2{constructor(){this.children=[],this.isDirty=!1}add(e){bp(this.children,e),this.isDirty=!0}remove(e){Vp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(n2),this.isDirty=!1,this.children.forEach(e)}}function i2(t,e){const n=Sn.now(),i=({timestamp:o})=>{const a=o-n;a>=e&&(is(i),t(a-e))};return at.setup(i,!0),()=>is(i)}const iE=["TopLeft","TopRight","BottomLeft","BottomRight"],s2=iE.length,gv=t=>typeof t=="string"?parseFloat(t):t,yv=t=>typeof t=="number"||Re.test(t);function o2(t,e,n,i,o,a){o?(t.opacity=ht(0,n.opacity??1,a2(i)),t.opacityExit=ht(e.opacity??1,0,l2(i))):a&&(t.opacity=ht(e.opacity??1,n.opacity??1,i));for(let u=0;u<s2;u++){const d=`border${iE[u]}Radius`;let f=vv(e,d),p=vv(n,d);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||yv(f)===yv(p)?(t[d]=Math.max(ht(gv(f),gv(p),i),0),(Wr.test(p)||Wr.test(f))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=ht(e.rotate||0,n.rotate||0,i))}function vv(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const a2=sE(0,.5,W_),l2=sE(.5,.95,er);function sE(t,e,n){return i=>i<t?0:i>e?1:n(Cl(t,e,i))}function wv(t,e){t.min=e.min,t.max=e.max}function mr(t,e){wv(t.x,e.x),wv(t.y,e.y)}function _v(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Ev(t,e,n,i,o){return t-=e,t=jc(t,1/n,i),o!==void 0&&(t=jc(t,1/o,i)),t}function u2(t,e=0,n=1,i=.5,o,a=t,u=t){if(Wr.test(e)&&(e=parseFloat(e),e=ht(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=ht(a.min,a.max,i);t===a&&(d-=e),t.min=Ev(t.min,e,n,d,o),t.max=Ev(t.max,e,n,d,o)}function Tv(t,e,[n,i,o],a,u){u2(t,e[n],e[i],e[o],e.scale,a,u)}const c2=["x","scaleX","originX"],h2=["y","scaleY","originY"];function xv(t,e,n,i){Tv(t.x,e,c2,n?n.x:void 0,i?i.x:void 0),Tv(t.y,e,h2,n?n.y:void 0,i?i.y:void 0)}function Sv(t){return t.translate===0&&t.scale===1}function oE(t){return Sv(t.x)&&Sv(t.y)}function Iv(t,e){return t.min===e.min&&t.max===e.max}function d2(t,e){return Iv(t.x,e.x)&&Iv(t.y,e.y)}function Av(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function aE(t,e){return Av(t.x,e.x)&&Av(t.y,e.y)}function Cv(t){return dn(t.x)/dn(t.y)}function Rv(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class f2{constructor(){this.members=[]}add(e){bp(this.members,e),e.scheduleRender()}remove(e){if(Vp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let i;for(let o=n;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function p2(t,e,n){let i="";const o=t.x.translate/e.x,a=t.y.translate/e.y,u=n?.z||0;if((o||a||u)&&(i=`translate3d(${o}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:g,rotateY:E,skewX:A,skewY:D}=n;p&&(i=`perspective(${p}px) ${i}`),y&&(i+=`rotate(${y}deg) `),g&&(i+=`rotateX(${g}deg) `),E&&(i+=`rotateY(${E}deg) `),A&&(i+=`skewX(${A}deg) `),D&&(i+=`skewY(${D}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(i+=`scale(${d}, ${f})`),i||"none"}const df=["","X","Y","Z"],m2=1e3;let g2=0;function ff(t,e,n,i){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),i&&(i[t]=0))}function lE(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=K1(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",at,!(o||a))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&lE(i)}function uE({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(u={},d=e?.()){this.id=g2++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(w2),this.nodes.forEach(x2),this.nodes.forEach(S2),this.nodes.forEach(_2)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new r2)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Mp),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const f=this.eventHandlers.get(u);f&&f.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=S1(u)&&!sR(u),this.instance=u;const{layoutId:d,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),t){let y,g=0;const E=()=>this.root.updateBlockedByResize=!1;at.read(()=>{g=window.innerWidth}),t(u,()=>{const A=window.innerWidth;A!==g&&(g=A,this.root.updateBlockedByResize=!0,y&&y(),y=i2(E,250),Ac.hasAnimatedSinceResize&&(Ac.hasAnimatedSinceResize=!1,this.nodes.forEach(bv)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:g,hasRelativeLayoutChanged:E,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||p.getDefaultTransition()||P2,{onLayoutAnimationStart:j,onLayoutAnimationComplete:N}=p.getProps(),F=!this.targetLayout||!aE(this.targetLayout,A),W=!g&&E;if(this.options.layoutRoot||this.resumeFrom||W||g&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const K={...Gp(D,"layout"),onPlay:j,onComplete:N};(p.shouldReduceMotion||this.options.layoutRoot)&&(K.delay=0,K.type=!1),this.startAnimation(K),this.setAnimationOrigin(y,W)}else g||bv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),is(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(I2),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&lE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const g=this.path[y];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Pv);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(kv);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(T2),this.nodes.forEach(y2),this.nodes.forEach(v2)):this.nodes.forEach(kv),this.clearAllSnapshots();const d=Sn.now();qt.delta=wi(0,1e3/60,d-qt.timestamp),qt.timestamp=d,qt.isProcessing=!0,ef.update.process(qt),ef.preRender.process(qt),ef.render.process(qt),qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Yp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(E2),this.sharedNodes.forEach(A2)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,at.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){at.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!dn(this.snapshot.measuredBox.x)&&!dn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!oE(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(d||zs(this.latestValues)||y)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return u&&(f=this.removeTransform(f)),k2(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Nt();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(b2))){const{scroll:p}=this.root;p&&(Yo(d.x,p.offset.x),Yo(d.y,p.offset.y))}return d}removeElementScroll(u){const d=Nt();if(mr(d,u),this.scroll?.wasRoot)return d;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:y,options:g}=p;p!==this.root&&y&&g.layoutScroll&&(y.wasRoot&&mr(d,u),Yo(d.x,y.offset.x),Yo(d.y,y.offset.y))}return d}applyTransform(u,d=!1){const f=Nt();mr(f,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Xo(f,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),zs(y.latestValues)&&Xo(f,y.latestValues)}return zs(this.latestValues)&&Xo(f,this.latestValues),f}removeTransform(u){const d=Nt();mr(d,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!zs(p.latestValues))continue;Hf(p.latestValues)&&p.updateSnapshot();const y=Nt(),g=p.measurePageBox();mr(y,g),xv(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return zs(this.latestValues)&&xv(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:g}=this.options;if(!this.layout||!(y||g))return;this.resolvedRelativeTargetAt=qt.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Nt(),this.targetWithTransforms=Nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),OP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mr(this.target,this.layout.layoutBox),U1(this.target,this.targetDelta)):mr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Hf(this.parent.latestValues)||B1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,d,f){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),Fc(this.relativeTargetOrigin,d,f),mr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===qt.timestamp&&(f=!1),f)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;mr(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,E=this.treeScale.y;QR(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Nt());const{target:A}=u;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_v(this.prevProjectionDelta.x,this.projectionDelta.x),_v(this.prevProjectionDelta.y,this.projectionDelta.y)),wl(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==E||!Rv(this.projectionDelta.x,this.prevProjectionDelta.x)||!Rv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Jo(),this.projectionDelta=Jo(),this.projectionDeltaWithTransform=Jo()}setAnimationOrigin(u,d=!1){const f=this.snapshot,p=f?f.latestValues:{},y={...this.latestValues},g=Jo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const E=Nt(),A=f?f.source:void 0,D=this.layout?this.layout.source:void 0,j=A!==D,N=this.getStack(),F=!N||N.members.length<=1,W=!!(j&&!F&&this.options.crossfade===!0&&!this.path.some(R2));this.animationProgress=0;let K;this.mixTargetDelta=re=>{const ne=re/1e3;Vv(g.x,u.x,ne),Vv(g.y,u.y,ne),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fc(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),C2(this.relativeTarget,this.relativeTargetOrigin,E,ne),K&&d2(this.relativeTarget,K)&&(this.isProjectionDirty=!1),K||(K=Nt()),mr(K,this.relativeTarget)),j&&(this.animationValues=y,o2(y,p,this.latestValues,ne,W,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ne},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(is(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=at.update(()=>{Ac.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ra(0)),this.currentAnimation=t2(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(m2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:f,layout:p,latestValues:y}=u;if(!(!d||!f||!p)){if(this!==u&&this.layout&&p&&cE(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||Nt();const g=dn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+g;const E=dn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+E}mr(d,f),Xo(d,y),wl(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new f2),this.sharedNodes.get(u).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const p={};f.z&&ff("z",u,p,this.animationValues);for(let y=0;y<df.length;y++)ff(`rotate${df[y]}`,u,p,this.animationValues),ff(`skew${df[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Ic(d?.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Ic(d?.pointerEvents)||""),this.hasProjected&&!zs(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let g=p2(this.projectionDeltaWithTransform,this.treeScale,y);f&&(g=f(y,g)),u.transform=g;const{x:E,y:A}=this.projectionDelta;u.transformOrigin=`${E.origin*100}% ${A.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const D in bl){if(y[D]===void 0)continue;const{correct:j,applyTo:N,isCSSVariable:F}=bl[D],W=g==="none"?y[D]:j(y[D],p);if(N){const K=N.length;for(let re=0;re<K;re++)u[N[re]]=W}else F?this.options.visualElement.renderState.vars[D]=W:u[D]=W}this.options.layoutId&&(u.pointerEvents=p===this?Ic(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(Pv),this.root.sharedNodes.clear()}}}function y2(t){t.updateLayout()}function v2(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:o}=t.options,a=e.source!==t.layout.source;o==="size"?Yn(y=>{const g=a?e.measuredBox[y]:e.layoutBox[y],E=dn(g);g.min=n[y].min,g.max=g.min+E}):cE(o,e.layoutBox,n)&&Yn(y=>{const g=a?e.measuredBox[y]:e.layoutBox[y],E=dn(n[y]);g.max=g.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+E)});const u=Jo();wl(u,n,e.layoutBox);const d=Jo();a?wl(d,t.applyTransform(i,!0),e.measuredBox):wl(d,n,e.layoutBox);const f=!oE(u);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:g,layout:E}=y;if(g&&E){const A=Nt();Fc(A,e.layoutBox,g.layoutBox);const D=Nt();Fc(D,n,E.layoutBox),aE(A,D)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=A,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function w2(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function _2(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function E2(t){t.clearSnapshot()}function Pv(t){t.clearMeasurements()}function kv(t){t.isLayoutDirty=!1}function T2(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function bv(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function x2(t){t.resolveTargetDelta()}function S2(t){t.calcProjection()}function I2(t){t.resetSkewAndRotation()}function A2(t){t.removeLeadSnapshot()}function Vv(t,e,n){t.translate=ht(e.translate,0,n),t.scale=ht(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Nv(t,e,n,i){t.min=ht(e.min,n.min,i),t.max=ht(e.max,n.max,i)}function C2(t,e,n,i){Nv(t.x,e.x,n.x,i),Nv(t.y,e.y,n.y,i)}function R2(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const P2={duration:.45,ease:[.4,0,.1,1]},Dv=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Mv=Dv("applewebkit/")&&!Dv("chrome/")?Math.round:er;function Lv(t){t.min=Mv(t.min),t.max=Mv(t.max)}function k2(t){Lv(t.x),Lv(t.y)}function cE(t,e,n){return t==="position"||t==="preserve-aspect"&&!LP(Cv(e),Cv(n),.2)}function b2(t){return t!==t.root&&t.scroll?.wasRoot}const V2=uE({attachResizeListener:(t,e)=>Vl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pf={current:void 0},hE=uE({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!pf.current){const t=new V2({});t.mount(window),t.setOptions({layoutScroll:!0}),pf.current=t}return pf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),N2={pan:{Feature:XP},drag:{Feature:YP,ProjectionNode:hE,MeasureLayout:rE}};function Ov(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,a=i[o];a&&at.postRender(()=>a(e,Ql(e)))}class D2 extends fs{mount(){const{current:e}=this.node;e&&(this.unmount=eR(e,(n,i)=>(Ov(this.node,i,"Start"),o=>Ov(this.node,o,"End"))))}unmount(){}}class M2 extends fs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ql(Vl(this.node.current,"focus",()=>this.onFocus()),Vl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function jv(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),a=i[o];a&&at.postRender(()=>a(e,Ql(e)))}class L2 extends fs{mount(){const{current:e}=this.node;e&&(this.unmount=iR(e,(n,i)=>(jv(this.node,i,"Start"),(o,{success:a})=>jv(this.node,o,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Xf=new WeakMap,mf=new WeakMap,O2=t=>{const e=Xf.get(t.target);e&&e(t)},j2=t=>{t.forEach(O2)};function F2({root:t,...e}){const n=t||document;mf.has(n)||mf.set(n,{});const i=mf.get(n),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(j2,{root:t,...e})),i[o]}function B2(t,e,n){const i=F2(e);return Xf.set(t,n),i.observe(t),()=>{Xf.delete(t),i.unobserve(t)}}const U2={some:0,all:1};class z2 extends fs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:o="some",once:a}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:U2[o]},d=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:g}=this.node.getProps(),E=p?y:g;E&&E(f)};return B2(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some($2(e,n))&&this.startObserver()}unmount(){}}function $2({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const H2={inView:{Feature:z2},tap:{Feature:L2},focus:{Feature:M2},hover:{Feature:D2}},W2={layout:{ProjectionNode:hE,MeasureLayout:rE}},q2={...kP,...H2,...N2,...W2},Je=qR(q2,sP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),G2=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),Fv=t=>{const e=G2(t);return e.charAt(0).toUpperCase()+e.slice(1)},dE=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Q2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=L.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:a,iconNode:u,...d},f)=>L.createElement("svg",{ref:f,...Q2,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:dE("lucide",o),...d},[...u.map(([p,y])=>L.createElement(p,y)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=(t,e)=>{const n=L.forwardRef(({className:i,...o},a)=>L.createElement(Y2,{ref:a,iconNode:e,className:dE(`lucide-${K2(Fv(t))}`,`lucide-${t}`,i),...o}));return n.displayName=Fv(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Jf=an("calendar",X2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Z2=an("chevron-down",J2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Bv=an("clock",ek);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Uv=an("copy",tk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],zv=an("credit-card",nk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5",key:"14wa3c"}],["path",{d:"M12 7.5V9",key:"1oy5b0"}],["path",{d:"M7.5 12H9",key:"eltsq1"}],["path",{d:"M16.5 12H15",key:"vk5kw4"}],["path",{d:"M12 16.5V15",key:"k7eayi"}],["path",{d:"m8 8 1.88 1.88",key:"nxy4qf"}],["path",{d:"M14.12 9.88 16 8",key:"1lst6k"}],["path",{d:"m8 16 1.88-1.88",key:"h2eex1"}],["path",{d:"M14.12 14.12 16 16",key:"uqkrx3"}]],ik=an("flower",rk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],ok=an("heart",sk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],$v=an("loader-circle",ak);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]],uk=an("mail-open",lk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Hv=an("map-pin",ck);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],dk=an("pause",hk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],pk=an("play",fk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],gk=an("send",mk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],vk=an("user",yk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],_k=an("volume-2",wk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],Tk=an("volume-x",Ek);function xk({guestName:t,onOpen:e,onStartOpening:n}){const[i,o]=L.useState(!1),a=()=>{o(!0),n(),setTimeout(()=>{e()},2500)};return I.jsxs(Je.div,{className:"fixed inset-0 z-50 flex items-center justify-center overflow-hidden pointer-events-auto",children:[I.jsxs(Je.div,{initial:{x:0},animate:i?{x:"-100%"}:{x:0},transition:{duration:2.5,ease:[.22,1,.36,1]},className:"absolute left-0 top-0 bottom-0 w-1/2 bg-[#fdfbf7] z-20 flex items-center justify-end shadow-[5px_0_30px_rgba(0,0,0,0.1)]",style:{transformOrigin:"left center"},children:[I.jsx("div",{className:"absolute inset-0 opacity-40 bg-[url('https://www.transparenttextures.com/patterns/cream-paper.png')]"}),I.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-12 bg-gradient-to-l from-stone-300/30 to-transparent pointer-events-none"}),I.jsx("div",{className:"absolute bottom-0 right-0 w-48 h-96 overflow-hidden opacity-10",children:I.jsx("svg",{viewBox:"0 0 100 200",preserveAspectRatio:"none",className:"w-full h-full fill-stone-800",children:I.jsx("path",{d:"M100 0 L100 200 L0 200 C20 150 60 100 100 0 Z"})})})]}),I.jsxs(Je.div,{initial:{x:0},animate:i?{x:"100%"}:{x:0},transition:{duration:2.5,ease:[.22,1,.36,1]},className:"absolute right-0 top-0 bottom-0 w-1/2 bg-[#fdfbf7] z-20 flex items-center justify-start shadow-[-5px_0_30px_rgba(0,0,0,0.1)]",children:[I.jsx("div",{className:"absolute inset-0 opacity-40 bg-[url('https://www.transparenttextures.com/patterns/cream-paper.png')]"}),I.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-12 bg-gradient-to-r from-stone-300/30 to-transparent pointer-events-none"}),I.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-96 overflow-hidden opacity-10",children:I.jsx("svg",{viewBox:"0 0 100 200",preserveAspectRatio:"none",className:"w-full h-full fill-stone-800",children:I.jsx("path",{d:"M0 0 L0 200 L100 200 C80 150 40 100 0 0 Z"})})})]}),I.jsx(Je.div,{className:"absolute z-30 flex flex-col items-center justify-center w-full h-full pointer-events-none",animate:i?{opacity:0,scale:.95}:{opacity:1,scale:1},transition:{duration:1},children:I.jsxs("div",{className:"pointer-events-auto bg-white p-8 md:p-12 rounded-lg shadow-2xl max-w-sm w-[90%] text-center border border-stone-100 relative overflow-hidden",children:[I.jsx("div",{className:"absolute inset-0 opacity-20 bg-[url('https://www.transparenttextures.com/patterns/cream-paper.png')]"}),I.jsx("div",{className:"absolute inset-3 border-2 border-stone-200 rounded-md pointer-events-none"}),I.jsx("div",{className:"flex justify-center mb-6",children:I.jsx("div",{className:"text-amber-600 opacity-60",children:I.jsx(ik,{size:32})})}),I.jsxs("div",{className:"relative z-10",children:[I.jsx("p",{className:"font-serif text-stone-500 italic mb-3 tracking-widest text-sm",children:"Pernikahan"}),I.jsx("h1",{className:"font-serif text-4xl text-stone-800 font-bold mb-2",children:"Isma"}),I.jsx("p",{className:"font-serif text-xl text-amber-600 mb-2",children:"dan"}),I.jsx("h1",{className:"font-serif text-4xl text-stone-800 font-bold mb-6",children:"Irwansyah"}),I.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-stone-300 to-transparent my-6"}),I.jsxs("div",{className:"mb-8",children:[I.jsx("p",{className:"text-stone-400 text-xs uppercase tracking-widest mb-3",children:"Kepada Yth."}),I.jsx("div",{className:"font-serif text-xl font-bold text-stone-800 bg-stone-50 py-2 px-4 rounded border border-stone-100 shadow-inner inline-block min-w-[200px]",children:t})]}),I.jsxs(Je.button,{onClick:a,whileHover:{scale:1.02},whileTap:{scale:.98},className:"group relative inline-flex items-center gap-3 bg-stone-800 text-amber-50 px-8 py-3 rounded shadow-lg transition-all hover:bg-stone-700 hover:shadow-xl",children:[I.jsx(uk,{size:18,className:"text-amber-200"}),I.jsx("span",{className:"tracking-wide uppercase text-xs font-bold",children:"Buka Undangan"})]})]})]})})]})}function Sk(){return I.jsxs("section",{className:"relative h-screen w-full overflow-hidden bg-stone-100 flex items-center justify-center",children:[I.jsxs(Je.div,{className:"absolute inset-0 z-0",initial:{scale:1.1},animate:{scale:1},transition:{duration:10,repeat:1/0,repeatType:"reverse"},children:[I.jsx("div",{className:"absolute inset-0 bg-stone-900/30 z-10 mix-blend-multiply"}),I.jsx("img",{src:"https://images.unsplash.com/photo-1722661671972-89e5e2fb532a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=1080",alt:"Javanese Scenery",className:"h-full w-full object-cover object-center"})]}),I.jsx("div",{className:"absolute inset-0 z-10 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/batik.png')]"}),I.jsxs("div",{className:"relative z-20 text-center text-white space-y-6 px-4",children:[I.jsx(Je.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:1},className:"w-16 h-16 mx-auto mb-4 opacity-80",children:I.jsx("svg",{viewBox:"0 0 100 100",fill:"currentColor",className:"text-amber-100 drop-shadow-md",children:I.jsx("path",{d:"M50 0 C20 40 10 60 10 100 L90 100 C90 60 80 40 50 0 Z"})})}),I.jsx(Je.p,{initial:{y:-20,opacity:0},whileInView:{y:0,opacity:1},transition:{duration:.8},className:"text-sm tracking-[0.3em] uppercase font-medium drop-shadow-md text-amber-50",children:"Pernikahan"}),I.jsxs(Je.h1,{initial:{scale:.9,opacity:0},whileInView:{scale:1,opacity:1},transition:{duration:.8,delay:.2},className:"font-serif text-5xl md:text-7xl lg:text-8xl drop-shadow-lg",children:["Isma ",I.jsx("br",{})," ",I.jsx("span",{className:"text-3xl md:text-5xl font-sans font-light",children:"dan"})," Irwansyah"]}),I.jsxs(Je.div,{initial:{y:20,opacity:0},whileInView:{y:0,opacity:1},transition:{duration:.8,delay:.4},className:"flex items-center justify-center gap-4 text-sm md:text-base font-light tracking-wide drop-shadow-md opacity-90",children:[I.jsx("span",{className:"w-12 h-px bg-white/60"}),I.jsx("span",{children:"Sabtu, 27 Desember 2025"}),I.jsx("span",{className:"w-12 h-px bg-white/60"})]}),I.jsx(Je.div,{initial:{opacity:0},animate:{opacity:1,y:[0,10,0]},transition:{duration:2,repeat:1/0,delay:1},className:"absolute bottom-10 left-1/2 -translate-x-1/2",children:I.jsx(Z2,{className:"text-white opacity-80"})})]})]})}function Ik(){const t=new Date("2025-12-27T13:00:00"),[e,n]=L.useState(i());function i(){const a=+t-+new Date;let u={hari:0,jam:0,menit:0,detik:0};return a>0&&(u={hari:Math.floor(a/(1e3*60*60*24)),jam:Math.floor(a/(1e3*60*60)%24),menit:Math.floor(a/1e3/60%60),detik:Math.floor(a/1e3%60)}),u}L.useEffect(()=>{const a=setInterval(()=>{n(i())},1e3);return()=>clearInterval(a)},[]);const o=()=>{const a={title:"Pernikahan Isma & Irwansyah",description:"Resepsi Pernikahan Isma & Irwansyah",startTime:"20251227T130000",endTime:"20251228T170000",location:"Banyuwangi"},u=`BEGIN:VCALENDAR
VERSION:2.0
BEGIN:VEVENT
SUMMARY:${a.title}
DTSTART:${a.startTime}
DTEND:${a.endTime}
LOCATION:${a.location}
DESCRIPTION:${a.description}
END:VEVENT
END:VCALENDAR`,d=new Blob([u],{type:"text/calendar;charset=utf-8"}),f=document.createElement("a");f.href=window.URL.createObjectURL(d),f.setAttribute("download","wedding-invitation.ics"),document.body.appendChild(f),f.click(),document.body.removeChild(f)};return I.jsx("section",{className:"py-20 px-6 bg-stone-50 text-center",children:I.jsxs(Je.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"max-w-2xl mx-auto space-y-8",children:[I.jsx("h2",{className:"font-serif text-3xl text-stone-800",children:"Menghitung Hari"}),I.jsx("p",{className:"text-stone-500 italic",children:"Menuju hari bahagia kami:"}),I.jsx("div",{className:"flex flex-wrap justify-center gap-4 md:gap-8",children:Object.entries(e).map(([a,u])=>I.jsxs("div",{className:"flex flex-col items-center",children:[I.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-white rounded-lg shadow-sm border border-stone-200 flex items-center justify-center mb-2",children:I.jsx("span",{className:"font-serif text-2xl md:text-3xl text-stone-800 font-bold",children:String(u).padStart(2,"0")})}),I.jsx("span",{className:"text-xs uppercase tracking-widest text-stone-500",children:a})]},a))}),I.jsxs("div",{className:"pt-8 relative",children:[I.jsx("div",{className:"absolute top-1/2 left-0 w-full h-px bg-stone-200 -z-10"}),I.jsxs(Je.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:o,className:"bg-stone-800 text-white px-6 py-2 rounded-full inline-flex items-center gap-2 text-sm font-medium shadow-md hover:bg-stone-700",children:[I.jsx(Jf,{size:16}),"Buat Reminder"]})]})]})})}function Ak(){return I.jsx("section",{className:"py-20 px-4 bg-white",children:I.jsxs("div",{className:"max-w-4xl mx-auto space-y-16",children:[I.jsxs("div",{className:"text-center space-y-8",children:[I.jsx("h2",{className:"font-serif text-3xl text-stone-800",children:"Akad Nikah"}),I.jsxs(Je.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},whileHover:{y:-5},className:"bg-stone-50 rounded-2xl p-8 border border-amber-100 shadow-sm hover:shadow-xl transition-all duration-300 relative overflow-hidden max-w-xl mx-auto",children:[I.jsx("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-amber-50 rounded-full opacity-50 blur-xl"}),I.jsxs("div",{className:"space-y-6 text-stone-600",children:[I.jsxs("div",{className:"flex flex-col items-center gap-2",children:[I.jsx(Jf,{className:"w-6 h-6 text-amber-600"}),I.jsx("span",{className:"font-bold text-lg text-stone-800",children:"Sabtu, 27 Desember 2025"})]}),I.jsxs("div",{className:"flex flex-col items-center gap-2",children:[I.jsx(Bv,{className:"w-6 h-6 text-amber-600"}),I.jsx("span",{children:"Pukul 13.00 WIB"})]}),I.jsxs("div",{className:"flex flex-col items-center gap-2",children:[I.jsx(Hv,{className:"w-6 h-6 text-amber-600"}),I.jsxs("div",{className:"text-center",children:[I.jsx("p",{className:"font-medium text-stone-800",children:"Bertempat di"}),I.jsx("p",{className:"text-sm",children:"Kediaman Mempelai Wanita"})]})]})]}),I.jsx("div",{className:"mt-8",children:I.jsx("a",{href:"https://goo.gl/maps/placeholder",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center py-2.5 px-6 bg-white border border-amber-200 text-amber-800 rounded-lg text-sm font-medium hover:bg-amber-50 transition-colors",children:"Lihat Lokasi"})})]})]}),I.jsxs("div",{className:"space-y-8",children:[I.jsxs("div",{className:"text-center max-w-2xl mx-auto space-y-4",children:[I.jsx("div",{className:"w-full h-px bg-stone-200 my-8"}),I.jsx("h3",{className:"font-serif text-xl font-bold text-stone-600",children:"Assalamualaikum Warahmatullahi Wabarakatuh"}),I.jsx("p",{className:"text-stone-600 leading-relaxed",children:"Dengan segala kerendahan hati dan dengan ungkapan syukur atas karunia Allah SWT, kami mengundang Bapak/Ibu/Saudara/i untuk menghadiri acara resepsi pernikahan putra putri kami yang akan diselenggarakan pada:"})]}),I.jsxs(Je.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},whileHover:{y:-5},className:"bg-stone-50 rounded-2xl p-8 border border-amber-100 shadow-sm hover:shadow-xl transition-all duration-300 relative overflow-hidden max-w-xl mx-auto text-center",children:[I.jsx("div",{className:"absolute top-0 left-0 -mt-4 -ml-4 w-24 h-24 bg-amber-50 rounded-full opacity-50 blur-xl"}),I.jsx("h3",{className:"font-serif text-3xl text-amber-800 mb-6 font-bold",children:"Resepsi"}),I.jsxs("div",{className:"space-y-6 text-stone-600",children:[I.jsxs("div",{className:"flex flex-col items-center gap-2",children:[I.jsx(Jf,{className:"w-6 h-6 text-amber-600"}),I.jsx("span",{className:"font-bold text-lg text-stone-800",children:"Minggu, 28 Desember 2025"})]}),I.jsxs("div",{className:"flex flex-col items-center gap-2",children:[I.jsx(Bv,{className:"w-6 h-6 text-amber-600"}),I.jsx("span",{children:"Pukul 14.00 - 17.00 WIB"})]}),I.jsxs("div",{className:"flex flex-col items-center gap-2",children:[I.jsx(Hv,{className:"w-6 h-6 text-amber-600"}),I.jsxs("div",{className:"text-center",children:[I.jsx("p",{className:"font-medium text-stone-800",children:"Bertempat di"}),I.jsx("p",{className:"text-sm font-semibold",children:"Kediaman Mempelai Wanita"}),I.jsx("p",{className:"text-sm mt-1",children:"Jln. Ikan Kembangwaru RT 004 RW 001"}),I.jsx("p",{className:"text-sm",children:"Lingk. Kaliasin. Kel. Karangrejo"}),I.jsx("p",{className:"text-sm",children:"Kec/Kab. Banyuwangi"})]})]})]}),I.jsx("div",{className:"mt-8",children:I.jsx("a",{href:"https://goo.gl/maps/placeholder",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center py-2.5 px-6 bg-white border border-amber-200 text-amber-800 rounded-lg text-sm font-medium hover:bg-amber-50 transition-colors",children:"Lihat Lokasi di Google Maps"})})]}),I.jsxs("div",{className:"text-center max-w-2xl mx-auto space-y-4 pt-8",children:[I.jsx("p",{className:"text-stone-600 leading-relaxed",children:"Merupakan suatu kebahagiaan bagi kami apabila Bapak/Ibu/Saudara/i berkenan hadir dalam acara tersebut untuk memberikan doa restu kepada kedua mempelai."}),I.jsx("p",{className:"text-stone-600 font-medium",children:"Atas kehadiran dan doa restunya kami ucapkan terimakasih."}),I.jsx("h3",{className:"font-serif text-xl font-bold text-stone-600 mt-4",children:"Wassalamualaikum Warahmatullahi Wabarakatuh"})]})]})]})})}function Ck(){return I.jsxs("section",{className:"py-24 px-4 bg-stone-50 overflow-hidden relative",children:[I.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 opacity-5 rotate-180 pointer-events-none",children:I.jsx("img",{src:"https://images.unsplash.com/photo-1577926438757-8dfef3e621ac?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=400",className:"w-full h-full object-cover mix-blend-multiply",alt:"Batik"})}),I.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 opacity-5 pointer-events-none",children:I.jsx("img",{src:"https://images.unsplash.com/photo-1577926438757-8dfef3e621ac?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=400",className:"w-full h-full object-cover mix-blend-multiply",alt:"Batik"})}),I.jsxs("div",{className:"max-w-4xl mx-auto relative z-10",children:[I.jsxs(Je.div,{initial:{opacity:0},whileInView:{opacity:1},className:"text-center mb-16 space-y-6",children:[I.jsx("div",{className:"font-serif text-2xl text-stone-600 mb-4",children:"Bismillahirrahmanirrahim"}),I.jsx("p",{className:"text-stone-500 max-w-lg mx-auto italic",children:'"Maha suci Allah yang telah menciptakan makhluk-Nya berpasang-pasangan."'}),I.jsx("p",{className:"text-stone-600 font-medium mt-4",children:"Ya Allah, perkenankan putra putri kami:"})]}),I.jsxs("div",{className:"grid md:grid-cols-2 gap-12 md:gap-8 items-center mb-16",children:[I.jsx(Je.div,{initial:{x:-30,opacity:0},whileInView:{x:0,opacity:1},transition:{duration:.8},className:"flex flex-col items-center text-center space-y-6",children:I.jsxs("div",{className:"p-8 border border-amber-200/50 rounded-full bg-white/50 shadow-sm relative",children:[I.jsx("div",{className:"absolute inset-0 border border-stone-100 rounded-full m-1"}),I.jsxs("div",{children:[I.jsx("h3",{className:"font-serif text-2xl md:text-3xl text-stone-800 font-bold mb-2",children:"Isma Harika Nurrohmah"}),I.jsx("div",{className:"w-12 h-1 bg-amber-200 mx-auto mb-3"}),I.jsx("p",{className:"text-stone-600",children:"Putri dari Bpk. Suwadi"}),I.jsx("p",{className:"text-stone-600",children:"& Ibu Sugiati"})]})]})}),I.jsx(Je.div,{initial:{x:30,opacity:0},whileInView:{x:0,opacity:1},transition:{duration:.8},className:"flex flex-col items-center text-center space-y-6",children:I.jsxs("div",{className:"p-8 border border-amber-200/50 rounded-full bg-white/50 shadow-sm relative",children:[I.jsx("div",{className:"absolute inset-0 border border-stone-100 rounded-full m-1"}),I.jsxs("div",{children:[I.jsx("h3",{className:"font-serif text-2xl md:text-3xl text-stone-800 font-bold mb-2",children:"Irwansyah"}),I.jsx("div",{className:"w-12 h-1 bg-amber-200 mx-auto mb-3"}),I.jsx("p",{className:"text-stone-600",children:"Putra dari Bpk. Ibrahim Z"}),I.jsx("p",{className:"text-stone-600",children:"& Ibu Siti Hajar"})]})]})})]}),I.jsx(Je.div,{initial:{y:20,opacity:0},whileInView:{y:0,opacity:1},className:"text-center max-w-2xl mx-auto px-4",children:I.jsx("p",{className:"text-stone-600 italic leading-relaxed",children:'"Untuk melaksanakan syariat agama-Mu, mengikuti sunnah Rasul-Mu dalam membentuk rumah tangga sakinah, mawadah, warahmah dalam ikatan pernikahan"'})})]})]})}function Rk(){const t=[{year:"2018",title:"Pertemuan Pertama",desc:"Kami bertemu di sebuah acara kampus. Sebuah tatapan singkat yang menjadi awal dari segalanya."},{year:"2020",title:"Menjalin Hubungan",desc:"Setelah 2 tahun berteman, kami memutuskan untuk melangkah lebih jauh dan saling berkomitmen."},{year:"2024",title:"Lamaran",desc:"Irwansyah memberanikan diri untuk meminta restu kepada orang tua Isma. Sebuah langkah besar menuju masa depan."},{year:"2025",title:"Pernikahan",desc:"Insya Allah, kami akan menyempurnakan separuh agama kami dalam ikatan suci pernikahan."}];return I.jsx("section",{className:"py-24 px-4 bg-white overflow-hidden",children:I.jsxs("div",{className:"max-w-2xl mx-auto",children:[I.jsxs(Je.div,{initial:{opacity:0},whileInView:{opacity:1},className:"text-center mb-16",children:[I.jsx("h2",{className:"font-serif text-3xl text-stone-800",children:"Cerita Kami"}),I.jsx("div",{className:"w-20 h-1 bg-amber-200 mx-auto rounded-full mt-4"})]}),I.jsxs("div",{className:"relative",children:[I.jsx("div",{className:"absolute left-[15px] top-0 bottom-0 w-px bg-stone-200 md:left-1/2 md:-ml-[0.5px]"}),I.jsx("div",{className:"space-y-12",children:t.map((e,n)=>I.jsxs(Je.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:n*.1},className:`relative flex flex-col md:flex-row gap-8 ${n%2===0?"md:flex-row-reverse":""}`,children:[I.jsx("div",{className:"absolute left-0 top-0 md:left-1/2 md:-ml-4 flex items-center justify-center w-8 h-8 rounded-full bg-white border-4 border-amber-200 z-10",children:I.jsx(ok,{size:12,className:"text-amber-500 fill-amber-500"})}),I.jsx("div",{className:"ml-12 md:ml-0 md:w-1/2 md:px-8",children:I.jsxs("div",{className:`bg-stone-50 p-6 rounded-2xl border border-stone-100 shadow-sm relative ${n%2===0?"md:text-right":"md:text-left"}`,children:[I.jsx("span",{className:"inline-block px-3 py-1 bg-amber-100 text-amber-800 text-xs font-bold rounded-full mb-3",children:e.year}),I.jsx("h3",{className:"font-serif text-xl font-bold text-stone-800 mb-2",children:e.title}),I.jsx("p",{className:"text-stone-600 text-sm leading-relaxed",children:e.desc})]})})]},n))})]})]})})}function Pk(){const t=e=>{navigator.clipboard.writeText(e),console.log("Copied:",e)};return I.jsx("section",{className:"py-24 px-4 bg-white",children:I.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[I.jsxs(Je.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},className:"mb-12 space-y-4",children:[I.jsx("h2",{className:"font-serif text-3xl text-stone-800",children:"Amplop Digital & Hadiah"}),I.jsx("p",{className:"text-stone-500 max-w-lg mx-auto",children:"Doa restu Anda merupakan karunia yang sangat berarti bagi kami. Dan jika memberi adalah ungkapan tanda kasih Anda, Anda dapat memberi kado secara cashless."})]}),I.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[I.jsxs(Je.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},className:"bg-stone-50 p-6 rounded-2xl border border-stone-100 shadow-sm flex flex-col items-center",children:[I.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center shadow-sm mb-4 text-amber-600",children:I.jsx(zv,{size:24})}),I.jsx("h3",{className:"font-bold text-stone-800 mb-1",children:"Bank BRI"}),I.jsx("p",{className:"text-sm text-stone-500 mb-4",children:"a.n Irwansyah"}),I.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 rounded-lg border border-stone-200",children:[I.jsx("span",{className:"font-mono text-lg font-medium text-stone-800",children:"009301007657536"}),I.jsx("button",{onClick:()=>t("009301007657536"),className:"text-stone-400 hover:text-amber-600",children:I.jsx(Uv,{size:16})})]})]}),I.jsxs(Je.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},className:"bg-stone-50 p-6 rounded-2xl border border-stone-100 shadow-sm flex flex-col items-center",children:[I.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center shadow-sm mb-4 text-amber-600",children:I.jsx(zv,{size:24})}),I.jsx("h3",{className:"font-bold text-stone-800 mb-1",children:"Bank Mandiri"}),I.jsx("p",{className:"text-sm text-stone-500 mb-4",children:"a.n Isma Harika"}),I.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 rounded-lg border border-stone-200",children:[I.jsx("span",{className:"font-mono text-lg font-medium text-stone-800",children:"9000041625212"}),I.jsx("button",{onClick:()=>t("9000041625212"),className:"text-stone-400 hover:text-amber-600",children:I.jsx(Uv,{size:16})})]})]})]})]})})}function kk(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const bk=t=>{switch(t){case"success":return Dk;case"info":return Lk;case"warning":return Mk;case"error":return Ok;default:return null}},Vk=Array(12).fill(0),Nk=({visible:t,className:e})=>le.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},le.createElement("div",{className:"sonner-spinner"},Vk.map((n,i)=>le.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),Dk=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Mk=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Lk=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Ok=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),jk=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},le.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),le.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Fk=()=>{const[t,e]=le.useState(document.hidden);return le.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let Zf=1;class Bk{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:i,...o}=e,a=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Zf++,u=this.toasts.find(f=>f.id===a),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),u?this.toasts=this.toasts.map(f=>f.id===a?(this.publish({...f,...e,id:a,title:i}),{...f,...e,id:a,dismissible:d,title:i}):f):this.addToast({title:i,...o,dismissible:d,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(i=>i({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let i;n.loading!==void 0&&(i=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let a=i!==void 0,u;const d=o.then(async p=>{if(u=["resolve",p],le.isValidElement(p))a=!1,this.create({id:i,type:"default",message:p});else if(zk(p)&&!p.ok){a=!1;const g=typeof n.error=="function"?await n.error(`HTTP error! status: ${p.status}`):n.error,E=typeof n.description=="function"?await n.description(`HTTP error! status: ${p.status}`):n.description,D=typeof g=="object"&&!le.isValidElement(g)?g:{message:g};this.create({id:i,type:"error",description:E,...D})}else if(p instanceof Error){a=!1;const g=typeof n.error=="function"?await n.error(p):n.error,E=typeof n.description=="function"?await n.description(p):n.description,D=typeof g=="object"&&!le.isValidElement(g)?g:{message:g};this.create({id:i,type:"error",description:E,...D})}else if(n.success!==void 0){a=!1;const g=typeof n.success=="function"?await n.success(p):n.success,E=typeof n.description=="function"?await n.description(p):n.description,D=typeof g=="object"&&!le.isValidElement(g)?g:{message:g};this.create({id:i,type:"success",description:E,...D})}}).catch(async p=>{if(u=["reject",p],n.error!==void 0){a=!1;const y=typeof n.error=="function"?await n.error(p):n.error,g=typeof n.description=="function"?await n.description(p):n.description,A=typeof y=="object"&&!le.isValidElement(y)?y:{message:y};this.create({id:i,type:"error",description:g,...A})}}).finally(()=>{a&&(this.dismiss(i),i=void 0),n.finally==null||n.finally.call(n)}),f=()=>new Promise((p,y)=>d.then(()=>u[0]==="reject"?y(u[1]):p(u[1])).catch(y));return typeof i!="string"&&typeof i!="number"?{unwrap:f}:Object.assign(i,{unwrap:f})},this.custom=(e,n)=>{const i=n?.id||Zf++;return this.create({jsx:e(i),id:i,...n}),i},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Tn=new Bk,Uk=(t,e)=>{const n=e?.id||Zf++;return Tn.addToast({title:t,...e,id:n}),n},zk=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",$k=Uk,Hk=()=>Tn.toasts,Wk=()=>Tn.getActiveToasts(),gf=Object.assign($k,{success:Tn.success,info:Tn.info,warning:Tn.warning,error:Tn.error,custom:Tn.custom,message:Tn.message,promise:Tn.promise,dismiss:Tn.dismiss,loading:Tn.loading},{getHistory:Hk,getToasts:Wk});kk("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function mc(t){return t.label!==void 0}const qk=3,Kk="24px",Gk="16px",Wv=4e3,Qk=356,Yk=14,Xk=45,Jk=200;function zr(...t){return t.filter(Boolean).join(" ")}function Zk(t){const[e,n]=t.split("-"),i=[];return e&&i.push(e),n&&i.push(n),i}const eb=t=>{var e,n,i,o,a,u,d,f,p;const{invert:y,toast:g,unstyled:E,interacting:A,setHeights:D,visibleToasts:j,heights:N,index:F,toasts:W,expanded:K,removeToast:re,defaultRichColors:ne,closeButton:ie,style:k,cancelButtonStyle:S,actionButtonStyle:C,className:b="",descriptionClassName:V="",duration:U,position:P,gap:Fe,expandByDefault:Qe,classNames:be,icons:ve,closeButtonAriaLabel:ee="Close toast"}=t,[ce,oe]=le.useState(null),[B,X]=le.useState(null),[ue,me]=le.useState(!1),[_e,Ae]=le.useState(!1),[Me,Ee]=le.useState(!1),[Be,Et]=le.useState(!1),[tr,jn]=le.useState(!1),[Er,Tr]=le.useState(0),[ao,ei]=le.useState(0),In=le.useRef(g.duration||U||Wv),Ii=le.useRef(null),qe=le.useRef(null),lt=F===0,An=F+1<=j,kt=g.type,Fn=g.dismissible!==!1,lo=g.className||"",xr=g.descriptionClassName||"",Sr=le.useMemo(()=>N.findIndex(Ie=>Ie.toastId===g.id)||0,[N,g.id]),Ai=le.useMemo(()=>{var Ie;return(Ie=g.closeButton)!=null?Ie:ie},[g.closeButton,ie]),nr=le.useMemo(()=>g.duration||U||Wv,[g.duration,U]),Ci=le.useRef(0),pn=le.useRef(0),rr=le.useRef(0),ir=le.useRef(null),[Ir,Ri]=P.split("-"),Pi=le.useMemo(()=>N.reduce((Ie,Ye,yt)=>yt>=Sr?Ie:Ie+Ye.height,0),[N,Sr]),mn=Fk(),ki=g.invert||y,Bn=kt==="loading";pn.current=le.useMemo(()=>Sr*Fe+Pi,[Sr,Pi]),le.useEffect(()=>{In.current=nr},[nr]),le.useEffect(()=>{me(!0)},[]),le.useEffect(()=>{const Ie=qe.current;if(Ie){const Ye=Ie.getBoundingClientRect().height;return ei(Ye),D(yt=>[{toastId:g.id,height:Ye,position:g.position},...yt]),()=>D(yt=>yt.filter(Lt=>Lt.toastId!==g.id))}},[D,g.id]),le.useLayoutEffect(()=>{if(!ue)return;const Ie=qe.current,Ye=Ie.style.height;Ie.style.height="auto";const yt=Ie.getBoundingClientRect().height;Ie.style.height=Ye,ei(yt),D(Lt=>Lt.find(pt=>pt.toastId===g.id)?Lt.map(pt=>pt.toastId===g.id?{...pt,height:yt}:pt):[{toastId:g.id,height:yt,position:g.position},...Lt])},[ue,g.title,g.description,D,g.id,g.jsx,g.action,g.cancel]);const ln=le.useCallback(()=>{Ae(!0),Tr(pn.current),D(Ie=>Ie.filter(Ye=>Ye.toastId!==g.id)),setTimeout(()=>{re(g)},Jk)},[g,re,D,pn]);le.useEffect(()=>{if(g.promise&&kt==="loading"||g.duration===1/0||g.type==="loading")return;let Ie;return K||A||mn?(()=>{if(rr.current<Ci.current){const Lt=new Date().getTime()-Ci.current;In.current=In.current-Lt}rr.current=new Date().getTime()})():(()=>{In.current!==1/0&&(Ci.current=new Date().getTime(),Ie=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),ln()},In.current))})(),()=>clearTimeout(Ie)},[K,A,g,kt,mn,ln]),le.useEffect(()=>{g.delete&&(ln(),g.onDismiss==null||g.onDismiss.call(g,g))},[ln,g.delete]);function sr(){var Ie;if(ve?.loading){var Ye;return le.createElement("div",{className:zr(be?.loader,g==null||(Ye=g.classNames)==null?void 0:Ye.loader,"sonner-loader"),"data-visible":kt==="loading"},ve.loading)}return le.createElement(Nk,{className:zr(be?.loader,g==null||(Ie=g.classNames)==null?void 0:Ie.loader),visible:kt==="loading"})}const or=g.icon||ve?.[kt]||bk(kt);var tt,bi;return le.createElement("li",{tabIndex:0,ref:qe,className:zr(b,lo,be?.toast,g==null||(e=g.classNames)==null?void 0:e.toast,be?.default,be?.[kt],g==null||(n=g.classNames)==null?void 0:n[kt]),"data-sonner-toast":"","data-rich-colors":(tt=g.richColors)!=null?tt:ne,"data-styled":!(g.jsx||g.unstyled||E),"data-mounted":ue,"data-promise":!!g.promise,"data-swiped":tr,"data-removed":_e,"data-visible":An,"data-y-position":Ir,"data-x-position":Ri,"data-index":F,"data-front":lt,"data-swiping":Me,"data-dismissible":Fn,"data-type":kt,"data-invert":ki,"data-swipe-out":Be,"data-swipe-direction":B,"data-expanded":!!(K||Qe&&ue),"data-testid":g.testId,style:{"--index":F,"--toasts-before":F,"--z-index":W.length-F,"--offset":`${_e?Er:pn.current}px`,"--initial-height":Qe?"auto":`${ao}px`,...k,...g.style},onDragEnd:()=>{Ee(!1),oe(null),ir.current=null},onPointerDown:Ie=>{Ie.button!==2&&(Bn||!Fn||(Ii.current=new Date,Tr(pn.current),Ie.target.setPointerCapture(Ie.pointerId),Ie.target.tagName!=="BUTTON"&&(Ee(!0),ir.current={x:Ie.clientX,y:Ie.clientY})))},onPointerUp:()=>{var Ie,Ye,yt;if(Be||!Fn)return;ir.current=null;const Lt=Number(((Ie=qe.current)==null?void 0:Ie.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),un=Number(((Ye=qe.current)==null?void 0:Ye.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),pt=new Date().getTime()-((yt=Ii.current)==null?void 0:yt.getTime()),Tt=ce==="x"?Lt:un,Cn=Math.abs(Tt)/pt;if(Math.abs(Tt)>=Xk||Cn>.11){Tr(pn.current),g.onDismiss==null||g.onDismiss.call(g,g),X(ce==="x"?Lt>0?"right":"left":un>0?"down":"up"),ln(),Et(!0);return}else{var xt,Yt;(xt=qe.current)==null||xt.style.setProperty("--swipe-amount-x","0px"),(Yt=qe.current)==null||Yt.style.setProperty("--swipe-amount-y","0px")}jn(!1),Ee(!1),oe(null)},onPointerMove:Ie=>{var Ye,yt,Lt;if(!ir.current||!Fn||((Ye=window.getSelection())==null?void 0:Ye.toString().length)>0)return;const pt=Ie.clientY-ir.current.y,Tt=Ie.clientX-ir.current.x;var Cn;const xt=(Cn=t.swipeDirections)!=null?Cn:Zk(P);!ce&&(Math.abs(Tt)>1||Math.abs(pt)>1)&&oe(Math.abs(Tt)>Math.abs(pt)?"x":"y");let Yt={x:0,y:0};const Un=Ot=>1/(1.5+Math.abs(Ot)/20);if(ce==="y"){if(xt.includes("top")||xt.includes("bottom"))if(xt.includes("top")&&pt<0||xt.includes("bottom")&&pt>0)Yt.y=pt;else{const Ot=pt*Un(pt);Yt.y=Math.abs(Ot)<Math.abs(pt)?Ot:pt}}else if(ce==="x"&&(xt.includes("left")||xt.includes("right")))if(xt.includes("left")&&Tt<0||xt.includes("right")&&Tt>0)Yt.x=Tt;else{const Ot=Tt*Un(Tt);Yt.x=Math.abs(Ot)<Math.abs(Tt)?Ot:Tt}(Math.abs(Yt.x)>0||Math.abs(Yt.y)>0)&&jn(!0),(yt=qe.current)==null||yt.style.setProperty("--swipe-amount-x",`${Yt.x}px`),(Lt=qe.current)==null||Lt.style.setProperty("--swipe-amount-y",`${Yt.y}px`)}},Ai&&!g.jsx&&kt!=="loading"?le.createElement("button",{"aria-label":ee,"data-disabled":Bn,"data-close-button":!0,onClick:Bn||!Fn?()=>{}:()=>{ln(),g.onDismiss==null||g.onDismiss.call(g,g)},className:zr(be?.closeButton,g==null||(i=g.classNames)==null?void 0:i.closeButton)},(bi=ve?.close)!=null?bi:jk):null,(kt||g.icon||g.promise)&&g.icon!==null&&(ve?.[kt]!==null||g.icon)?le.createElement("div",{"data-icon":"",className:zr(be?.icon,g==null||(o=g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||sr():null,g.type!=="loading"?or:null):null,le.createElement("div",{"data-content":"",className:zr(be?.content,g==null||(a=g.classNames)==null?void 0:a.content)},le.createElement("div",{"data-title":"",className:zr(be?.title,g==null||(u=g.classNames)==null?void 0:u.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?le.createElement("div",{"data-description":"",className:zr(V,xr,be?.description,g==null||(d=g.classNames)==null?void 0:d.description)},typeof g.description=="function"?g.description():g.description):null),le.isValidElement(g.cancel)?g.cancel:g.cancel&&mc(g.cancel)?le.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||S,onClick:Ie=>{mc(g.cancel)&&Fn&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,Ie),ln())},className:zr(be?.cancelButton,g==null||(f=g.classNames)==null?void 0:f.cancelButton)},g.cancel.label):null,le.isValidElement(g.action)?g.action:g.action&&mc(g.action)?le.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||C,onClick:Ie=>{mc(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,Ie),!Ie.defaultPrevented&&ln())},className:zr(be?.actionButton,g==null||(p=g.classNames)==null?void 0:p.actionButton)},g.action.label):null)};function qv(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function tb(t,e){const n={};return[t,e].forEach((i,o)=>{const a=o===1,u=a?"--mobile-offset":"--offset",d=a?Gk:Kk;function f(p){["top","right","bottom","left"].forEach(y=>{n[`${u}-${y}`]=typeof p=="number"?`${p}px`:p})}typeof i=="number"||typeof i=="string"?f(i):typeof i=="object"?["top","right","bottom","left"].forEach(p=>{i[p]===void 0?n[`${u}-${p}`]=d:n[`${u}-${p}`]=typeof i[p]=="number"?`${i[p]}px`:i[p]}):f(d)}),n}const nb=le.forwardRef(function(e,n){const{id:i,invert:o,position:a="bottom-right",hotkey:u=["altKey","KeyT"],expand:d,closeButton:f,className:p,offset:y,mobileOffset:g,theme:E="light",richColors:A,duration:D,style:j,visibleToasts:N=qk,toastOptions:F,dir:W=qv(),gap:K=Yk,icons:re,containerAriaLabel:ne="Notifications"}=e,[ie,k]=le.useState([]),S=le.useMemo(()=>i?ie.filter(ue=>ue.toasterId===i):ie.filter(ue=>!ue.toasterId),[ie,i]),C=le.useMemo(()=>Array.from(new Set([a].concat(S.filter(ue=>ue.position).map(ue=>ue.position)))),[S,a]),[b,V]=le.useState([]),[U,P]=le.useState(!1),[Fe,Qe]=le.useState(!1),[be,ve]=le.useState(E!=="system"?E:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ee=le.useRef(null),ce=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),oe=le.useRef(null),B=le.useRef(!1),X=le.useCallback(ue=>{k(me=>{var _e;return(_e=me.find(Ae=>Ae.id===ue.id))!=null&&_e.delete||Tn.dismiss(ue.id),me.filter(({id:Ae})=>Ae!==ue.id)})},[]);return le.useEffect(()=>Tn.subscribe(ue=>{if(ue.dismiss){requestAnimationFrame(()=>{k(me=>me.map(_e=>_e.id===ue.id?{..._e,delete:!0}:_e))});return}setTimeout(()=>{hA.flushSync(()=>{k(me=>{const _e=me.findIndex(Ae=>Ae.id===ue.id);return _e!==-1?[...me.slice(0,_e),{...me[_e],...ue},...me.slice(_e+1)]:[ue,...me]})})})}),[ie]),le.useEffect(()=>{if(E!=="system"){ve(E);return}if(E==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ve("dark"):ve("light")),typeof window>"u")return;const ue=window.matchMedia("(prefers-color-scheme: dark)");try{ue.addEventListener("change",({matches:me})=>{ve(me?"dark":"light")})}catch{ue.addListener(({matches:_e})=>{try{ve(_e?"dark":"light")}catch(Ae){console.error(Ae)}})}},[E]),le.useEffect(()=>{ie.length<=1&&P(!1)},[ie]),le.useEffect(()=>{const ue=me=>{var _e;if(u.every(Ee=>me[Ee]||me.code===Ee)){var Me;P(!0),(Me=ee.current)==null||Me.focus()}me.code==="Escape"&&(document.activeElement===ee.current||(_e=ee.current)!=null&&_e.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",ue),()=>document.removeEventListener("keydown",ue)},[u]),le.useEffect(()=>{if(ee.current)return()=>{oe.current&&(oe.current.focus({preventScroll:!0}),oe.current=null,B.current=!1)}},[ee.current]),le.createElement("section",{ref:n,"aria-label":`${ne} ${ce}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((ue,me)=>{var _e;const[Ae,Me]=ue.split("-");return S.length?le.createElement("ol",{key:ue,dir:W==="auto"?qv():W,tabIndex:-1,ref:ee,className:p,"data-sonner-toaster":!0,"data-sonner-theme":be,"data-y-position":Ae,"data-x-position":Me,style:{"--front-toast-height":`${((_e=b[0])==null?void 0:_e.height)||0}px`,"--width":`${Qk}px`,"--gap":`${K}px`,...j,...tb(y,g)},onBlur:Ee=>{B.current&&!Ee.currentTarget.contains(Ee.relatedTarget)&&(B.current=!1,oe.current&&(oe.current.focus({preventScroll:!0}),oe.current=null))},onFocus:Ee=>{Ee.target instanceof HTMLElement&&Ee.target.dataset.dismissible==="false"||B.current||(B.current=!0,oe.current=Ee.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{Fe||P(!1)},onDragEnd:()=>P(!1),onPointerDown:Ee=>{Ee.target instanceof HTMLElement&&Ee.target.dataset.dismissible==="false"||Qe(!0)},onPointerUp:()=>Qe(!1)},S.filter(Ee=>!Ee.position&&me===0||Ee.position===ue).map((Ee,Be)=>{var Et,tr;return le.createElement(eb,{key:Ee.id,icons:re,index:Be,toast:Ee,defaultRichColors:A,duration:(Et=F?.duration)!=null?Et:D,className:F?.className,descriptionClassName:F?.descriptionClassName,invert:o,visibleToasts:N,closeButton:(tr=F?.closeButton)!=null?tr:f,interacting:Fe,position:ue,style:F?.style,unstyled:F?.unstyled,classNames:F?.classNames,cancelButtonStyle:F?.cancelButtonStyle,actionButtonStyle:F?.actionButtonStyle,closeButtonAriaLabel:F?.closeButtonAriaLabel,removeToast:X,toasts:S.filter(jn=>jn.position==Ee.position),heights:b.filter(jn=>jn.position==Ee.position),setHeights:V,expandByDefault:d,gap:K,expanded:U,swipeDirections:e.swipeDirections})})):null}))}),rb=()=>{};var Kv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},ib=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],u=t[n++],d=t[n++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],u=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},pE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const a=t[o],u=o+1<t.length,d=u?t[o+1]:0,f=o+2<t.length,p=f?t[o+2]:0,y=a>>2,g=(a&3)<<4|d>>4;let E=(d&15)<<2|p>>6,A=p&63;f||(A=64,u||(E=64)),i.push(n[y],n[g],n[E],n[A])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ib(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],d=o<t.length?n[t.charAt(o)]:0;++o;const p=o<t.length?n[t.charAt(o)]:64;++o;const g=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||d==null||p==null||g==null)throw new sb;const E=a<<2|d>>4;if(i.push(E),p!==64){const A=d<<4&240|p>>2;if(i.push(A),g!==64){const D=p<<6&192|g;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ob=function(t){const e=fE(t);return pE.encodeByteArray(e,!0)},Bc=function(t){return ob(t).replace(/\./g,"")},ab=function(t){try{return pE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub=()=>lb().__FIREBASE_DEFAULTS__,cb=()=>{if(typeof process>"u"||typeof Kv>"u")return;const t=Kv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hb=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ab(t[1]);return e&&JSON.parse(e)},lm=()=>{try{return rb()||ub()||cb()||hb()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},db=t=>lm()?.emulatorHosts?.[t],fb=t=>{const e=db(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},mE=()=>lm()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Bc(JSON.stringify(n)),Bc(JSON.stringify(u)),""].join(".")}const _l={};function yb(){const t={prod:[],emulator:[]};for(const e of Object.keys(_l))_l[e]?t.emulator.push(e):t.prod.push(e);return t}function vb(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Gv=!1;function wb(t,e){if(typeof window>"u"||typeof document>"u"||!um(window.location.host)||_l[t]===e||_l[t]||Gv)return;_l[t]=e;function n(E){return`__firebase__banner__${E}`}const i="__firebase__banner",a=yb().prod.length>0;function u(){const E=document.getElementById(i);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,A){E.setAttribute("width","24"),E.setAttribute("id",A),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Gv=!0,u()},E}function y(E,A){E.setAttribute("id",A),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function g(){const E=vb(i),A=n("text"),D=document.getElementById(A)||document.createElement("span"),j=n("learnmore"),N=document.getElementById(j)||document.createElement("a"),F=n("preprendIcon"),W=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const K=E.element;d(K),y(N,j);const re=p();f(W,F),K.append(W,D,N,re),document.body.appendChild(K)}a?(D.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Eb(){const t=lm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Tb(){return!Eb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cm(){try{return typeof indexedDB=="object"}catch{return!1}}function hm(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function yE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="FirebaseError";class ps extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=xb,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lh.prototype.create)}}class lh{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?Sb(a,i):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new ps(o,d,i)}}function Sb(t,e){return t.replace(Ib,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const Ib=/\{\$([^}]+)}/g;function Nl(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const a=t[o],u=e[o];if(Qv(a)&&Qv(u)){if(!Nl(a,u))return!1}else if(a!==u)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function Qv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=1e3,Cb=2,Rb=14400*1e3,Pb=.5;function Yv(t,e=Ab,n=Cb){const i=e*Math.pow(n,t),o=Math.round(Pb*i*(Math.random()-.5)*2);return Math.min(Rb,i+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t){return t&&t._delegate?t._delegate:t}class Ei{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new pb;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Vb(e))try{this.getOrInitializeService({instanceIdentifier:$s})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=$s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$s){return this.instances.has(e)}getOptions(e=$s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);i===d&&u.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:bb(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=$s){return this.component?this.component.multipleInstances?e:$s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bb(t){return t===$s?void 0:t}function Vb(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kb(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ze||(ze={}));const Db={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},Mb=ze.INFO,Lb={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},Ob=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=Lb[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dm{constructor(e){this.name=e,this._logLevel=Mb,this._logHandler=Ob,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Db[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const jb=(t,e)=>e.some(n=>t instanceof n);let Xv,Jv;function Fb(){return Xv||(Xv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Bb(){return Jv||(Jv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vE=new WeakMap,ep=new WeakMap,wE=new WeakMap,yf=new WeakMap,fm=new WeakMap;function Ub(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(es(t.result)),o()},u=()=>{i(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&vE.set(n,t)}).catch(()=>{}),fm.set(e,t),e}function zb(t){if(ep.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),o()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});ep.set(t,e)}let tp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ep.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return es(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $b(t){tp=t(tp)}function Hb(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(vf(this),e,...n);return wE.set(i,e.sort?e.sort():[e]),es(i)}:Bb().includes(t)?function(...e){return t.apply(vf(this),e),es(vE.get(this))}:function(...e){return es(t.apply(vf(this),e))}}function Wb(t){return typeof t=="function"?Hb(t):(t instanceof IDBTransaction&&zb(t),jb(t,Fb())?new Proxy(t,tp):t)}function es(t){if(t instanceof IDBRequest)return Ub(t);if(yf.has(t))return yf.get(t);const e=Wb(t);return e!==t&&(yf.set(t,e),fm.set(e,t)),e}const vf=t=>fm.get(t);function _E(t,e,{blocked:n,upgrade:i,blocking:o,terminated:a}={}){const u=indexedDB.open(t,e),d=es(u);return i&&u.addEventListener("upgradeneeded",f=>{i(es(u.result),f.oldVersion,f.newVersion,es(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const qb=["get","getKey","getAll","getAllKeys","count"],Kb=["put","add","delete","clear"],wf=new Map;function Zv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wf.get(e))return wf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=Kb.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||qb.includes(n)))return;const a=async function(u,...d){const f=this.transaction(u,o?"readwrite":"readonly");let p=f.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),o&&f.done]))[0]};return wf.set(e,a),a}$b(t=>({...t,get:(e,n,i)=>Zv(e,n)||t.get(e,n,i),has:(e,n)=>!!Zv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Qb(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Qb(t){return t.getComponent()?.type==="VERSION"}const np="@firebase/app",ew="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new dm("@firebase/app"),Yb="@firebase/app-compat",Xb="@firebase/analytics-compat",Jb="@firebase/analytics",Zb="@firebase/app-check-compat",eV="@firebase/app-check",tV="@firebase/auth",nV="@firebase/auth-compat",rV="@firebase/database",iV="@firebase/data-connect",sV="@firebase/database-compat",oV="@firebase/functions",aV="@firebase/functions-compat",lV="@firebase/installations",uV="@firebase/installations-compat",cV="@firebase/messaging",hV="@firebase/messaging-compat",dV="@firebase/performance",fV="@firebase/performance-compat",pV="@firebase/remote-config",mV="@firebase/remote-config-compat",gV="@firebase/storage",yV="@firebase/storage-compat",vV="@firebase/firestore",wV="@firebase/ai",_V="@firebase/firestore-compat",EV="firebase",TV="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="[DEFAULT]",xV={[np]:"fire-core",[Yb]:"fire-core-compat",[Jb]:"fire-analytics",[Xb]:"fire-analytics-compat",[eV]:"fire-app-check",[Zb]:"fire-app-check-compat",[tV]:"fire-auth",[nV]:"fire-auth-compat",[rV]:"fire-rtdb",[iV]:"fire-data-connect",[sV]:"fire-rtdb-compat",[oV]:"fire-fn",[aV]:"fire-fn-compat",[lV]:"fire-iid",[uV]:"fire-iid-compat",[cV]:"fire-fcm",[hV]:"fire-fcm-compat",[dV]:"fire-perf",[fV]:"fire-perf-compat",[pV]:"fire-rc",[mV]:"fire-rc-compat",[gV]:"fire-gcs",[yV]:"fire-gcs-compat",[vV]:"fire-fst",[_V]:"fire-fst-compat",[wV]:"fire-vertex","fire-js":"fire-js",[EV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new Map,SV=new Map,ip=new Map;function tw(t,e){try{t.container.addComponent(e)}catch(n){Ti.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function os(t){const e=t.name;if(ip.has(e))return Ti.debug(`There were multiple attempts to register component ${e}.`),!1;ip.set(e,t);for(const n of Uc.values())tw(n,t);for(const n of SV.values())tw(n,t);return!0}function Yl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function IV(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new lh("app","Firebase",AV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV=TV;function EE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:rp,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw ts.create("bad-app-name",{appName:String(o)});if(n||(n=mE()),!n)throw ts.create("no-options");const a=Uc.get(o);if(a){if(Nl(n,a.options)&&Nl(i,a.config))return a;throw ts.create("duplicate-app",{appName:o})}const u=new Nb(o);for(const f of ip.values())u.addComponent(f);const d=new CV(n,i,u);return Uc.set(o,d),d}function TE(t=rp){const e=Uc.get(t);if(!e&&t===rp&&mE())return EE();if(!e)throw ts.create("no-app",{appName:t});return e}function qr(t,e,n){let i=xV[t]??t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ti.warn(u.join(" "));return}os(new Ei(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV="firebase-heartbeat-database",kV=1,Dl="firebase-heartbeat-store";let _f=null;function xE(){return _f||(_f=_E(PV,kV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Dl)}catch(n){console.warn(n)}}}}).catch(t=>{throw ts.create("idb-open",{originalErrorMessage:t.message})})),_f}async function bV(t){try{const n=(await xE()).transaction(Dl),i=await n.objectStore(Dl).get(SE(t));return await n.done,i}catch(e){if(e instanceof ps)Ti.warn(e.message);else{const n=ts.create("idb-get",{originalErrorMessage:e?.message});Ti.warn(n.message)}}}async function nw(t,e){try{const i=(await xE()).transaction(Dl,"readwrite");await i.objectStore(Dl).put(e,SE(t)),await i.done}catch(n){if(n instanceof ps)Ti.warn(n.message);else{const i=ts.create("idb-set",{originalErrorMessage:n?.message});Ti.warn(i.message)}}}function SE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV=1024,NV=30;class DV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LV(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=rw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>NV){const o=OV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ti.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=rw(),{heartbeatsToSend:n,unsentEntries:i}=MV(this._heartbeatsCache.heartbeats),o=Bc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ti.warn(e),""}}}function rw(){return new Date().toISOString().substring(0,10)}function MV(t,e=VV){const n=[];let i=t.slice();for(const o of t){const a=n.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),iw(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),iw(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class LV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cm()?hm().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return nw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return nw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function iw(t){return Bc(JSON.stringify({version:2,heartbeats:t})).length}function OV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jV(t){os(new Ei("platform-logger",e=>new Gb(e),"PRIVATE")),os(new Ei("heartbeat",e=>new DV(e),"PRIVATE")),qr(np,ew,t),qr(np,ew,"esm2020"),qr("fire-js","")}jV("");var sw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ns,IE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,S){function C(){}C.prototype=S.prototype,k.F=S.prototype,k.prototype=new C,k.prototype.constructor=k,k.D=function(b,V,U){for(var P=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)P[Fe-2]=arguments[Fe];return S.prototype[V].apply(b,P)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,S,C){C||(C=0);const b=Array(16);if(typeof S=="string")for(var V=0;V<16;++V)b[V]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(V=0;V<16;++V)b[V]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=k.g[0],C=k.g[1],V=k.g[2];let U=k.g[3],P;P=S+(U^C&(V^U))+b[0]+3614090360&4294967295,S=C+(P<<7&4294967295|P>>>25),P=U+(V^S&(C^V))+b[1]+3905402710&4294967295,U=S+(P<<12&4294967295|P>>>20),P=V+(C^U&(S^C))+b[2]+606105819&4294967295,V=U+(P<<17&4294967295|P>>>15),P=C+(S^V&(U^S))+b[3]+3250441966&4294967295,C=V+(P<<22&4294967295|P>>>10),P=S+(U^C&(V^U))+b[4]+4118548399&4294967295,S=C+(P<<7&4294967295|P>>>25),P=U+(V^S&(C^V))+b[5]+1200080426&4294967295,U=S+(P<<12&4294967295|P>>>20),P=V+(C^U&(S^C))+b[6]+2821735955&4294967295,V=U+(P<<17&4294967295|P>>>15),P=C+(S^V&(U^S))+b[7]+4249261313&4294967295,C=V+(P<<22&4294967295|P>>>10),P=S+(U^C&(V^U))+b[8]+1770035416&4294967295,S=C+(P<<7&4294967295|P>>>25),P=U+(V^S&(C^V))+b[9]+2336552879&4294967295,U=S+(P<<12&4294967295|P>>>20),P=V+(C^U&(S^C))+b[10]+4294925233&4294967295,V=U+(P<<17&4294967295|P>>>15),P=C+(S^V&(U^S))+b[11]+2304563134&4294967295,C=V+(P<<22&4294967295|P>>>10),P=S+(U^C&(V^U))+b[12]+1804603682&4294967295,S=C+(P<<7&4294967295|P>>>25),P=U+(V^S&(C^V))+b[13]+4254626195&4294967295,U=S+(P<<12&4294967295|P>>>20),P=V+(C^U&(S^C))+b[14]+2792965006&4294967295,V=U+(P<<17&4294967295|P>>>15),P=C+(S^V&(U^S))+b[15]+1236535329&4294967295,C=V+(P<<22&4294967295|P>>>10),P=S+(V^U&(C^V))+b[1]+4129170786&4294967295,S=C+(P<<5&4294967295|P>>>27),P=U+(C^V&(S^C))+b[6]+3225465664&4294967295,U=S+(P<<9&4294967295|P>>>23),P=V+(S^C&(U^S))+b[11]+643717713&4294967295,V=U+(P<<14&4294967295|P>>>18),P=C+(U^S&(V^U))+b[0]+3921069994&4294967295,C=V+(P<<20&4294967295|P>>>12),P=S+(V^U&(C^V))+b[5]+3593408605&4294967295,S=C+(P<<5&4294967295|P>>>27),P=U+(C^V&(S^C))+b[10]+38016083&4294967295,U=S+(P<<9&4294967295|P>>>23),P=V+(S^C&(U^S))+b[15]+3634488961&4294967295,V=U+(P<<14&4294967295|P>>>18),P=C+(U^S&(V^U))+b[4]+3889429448&4294967295,C=V+(P<<20&4294967295|P>>>12),P=S+(V^U&(C^V))+b[9]+568446438&4294967295,S=C+(P<<5&4294967295|P>>>27),P=U+(C^V&(S^C))+b[14]+3275163606&4294967295,U=S+(P<<9&4294967295|P>>>23),P=V+(S^C&(U^S))+b[3]+4107603335&4294967295,V=U+(P<<14&4294967295|P>>>18),P=C+(U^S&(V^U))+b[8]+1163531501&4294967295,C=V+(P<<20&4294967295|P>>>12),P=S+(V^U&(C^V))+b[13]+2850285829&4294967295,S=C+(P<<5&4294967295|P>>>27),P=U+(C^V&(S^C))+b[2]+4243563512&4294967295,U=S+(P<<9&4294967295|P>>>23),P=V+(S^C&(U^S))+b[7]+1735328473&4294967295,V=U+(P<<14&4294967295|P>>>18),P=C+(U^S&(V^U))+b[12]+2368359562&4294967295,C=V+(P<<20&4294967295|P>>>12),P=S+(C^V^U)+b[5]+4294588738&4294967295,S=C+(P<<4&4294967295|P>>>28),P=U+(S^C^V)+b[8]+2272392833&4294967295,U=S+(P<<11&4294967295|P>>>21),P=V+(U^S^C)+b[11]+1839030562&4294967295,V=U+(P<<16&4294967295|P>>>16),P=C+(V^U^S)+b[14]+4259657740&4294967295,C=V+(P<<23&4294967295|P>>>9),P=S+(C^V^U)+b[1]+2763975236&4294967295,S=C+(P<<4&4294967295|P>>>28),P=U+(S^C^V)+b[4]+1272893353&4294967295,U=S+(P<<11&4294967295|P>>>21),P=V+(U^S^C)+b[7]+4139469664&4294967295,V=U+(P<<16&4294967295|P>>>16),P=C+(V^U^S)+b[10]+3200236656&4294967295,C=V+(P<<23&4294967295|P>>>9),P=S+(C^V^U)+b[13]+681279174&4294967295,S=C+(P<<4&4294967295|P>>>28),P=U+(S^C^V)+b[0]+3936430074&4294967295,U=S+(P<<11&4294967295|P>>>21),P=V+(U^S^C)+b[3]+3572445317&4294967295,V=U+(P<<16&4294967295|P>>>16),P=C+(V^U^S)+b[6]+76029189&4294967295,C=V+(P<<23&4294967295|P>>>9),P=S+(C^V^U)+b[9]+3654602809&4294967295,S=C+(P<<4&4294967295|P>>>28),P=U+(S^C^V)+b[12]+3873151461&4294967295,U=S+(P<<11&4294967295|P>>>21),P=V+(U^S^C)+b[15]+530742520&4294967295,V=U+(P<<16&4294967295|P>>>16),P=C+(V^U^S)+b[2]+3299628645&4294967295,C=V+(P<<23&4294967295|P>>>9),P=S+(V^(C|~U))+b[0]+4096336452&4294967295,S=C+(P<<6&4294967295|P>>>26),P=U+(C^(S|~V))+b[7]+1126891415&4294967295,U=S+(P<<10&4294967295|P>>>22),P=V+(S^(U|~C))+b[14]+2878612391&4294967295,V=U+(P<<15&4294967295|P>>>17),P=C+(U^(V|~S))+b[5]+4237533241&4294967295,C=V+(P<<21&4294967295|P>>>11),P=S+(V^(C|~U))+b[12]+1700485571&4294967295,S=C+(P<<6&4294967295|P>>>26),P=U+(C^(S|~V))+b[3]+2399980690&4294967295,U=S+(P<<10&4294967295|P>>>22),P=V+(S^(U|~C))+b[10]+4293915773&4294967295,V=U+(P<<15&4294967295|P>>>17),P=C+(U^(V|~S))+b[1]+2240044497&4294967295,C=V+(P<<21&4294967295|P>>>11),P=S+(V^(C|~U))+b[8]+1873313359&4294967295,S=C+(P<<6&4294967295|P>>>26),P=U+(C^(S|~V))+b[15]+4264355552&4294967295,U=S+(P<<10&4294967295|P>>>22),P=V+(S^(U|~C))+b[6]+2734768916&4294967295,V=U+(P<<15&4294967295|P>>>17),P=C+(U^(V|~S))+b[13]+1309151649&4294967295,C=V+(P<<21&4294967295|P>>>11),P=S+(V^(C|~U))+b[4]+4149444226&4294967295,S=C+(P<<6&4294967295|P>>>26),P=U+(C^(S|~V))+b[11]+3174756917&4294967295,U=S+(P<<10&4294967295|P>>>22),P=V+(S^(U|~C))+b[2]+718787259&4294967295,V=U+(P<<15&4294967295|P>>>17),P=C+(U^(V|~S))+b[9]+3951481745&4294967295,k.g[0]=k.g[0]+S&4294967295,k.g[1]=k.g[1]+(V+(P<<21&4294967295|P>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+U&4294967295}i.prototype.v=function(k,S){S===void 0&&(S=k.length);const C=S-this.blockSize,b=this.C;let V=this.h,U=0;for(;U<S;){if(V==0)for(;U<=C;)o(this,k,U),U+=this.blockSize;if(typeof k=="string"){for(;U<S;)if(b[V++]=k.charCodeAt(U++),V==this.blockSize){o(this,b),V=0;break}}else for(;U<S;)if(b[V++]=k[U++],V==this.blockSize){o(this,b),V=0;break}}this.h=V,this.o+=S},i.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var S=1;S<k.length-8;++S)k[S]=0;S=this.o*8;for(var C=k.length-8;C<k.length;++C)k[C]=S&255,S/=256;for(this.v(k),k=Array(16),S=0,C=0;C<4;++C)for(let b=0;b<32;b+=8)k[S++]=this.g[C]>>>b&255;return k};function a(k,S){var C=d;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=S(k)}function u(k,S){this.h=S;const C=[];let b=!0;for(let V=k.length-1;V>=0;V--){const U=k[V]|0;b&&U==S||(C[V]=U,b=!1)}this.g=C}var d={};function f(k){return-128<=k&&k<128?a(k,function(S){return new u([S|0],S<0?-1:0)}):new u([k|0],k<0?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return g;if(k<0)return N(p(-k));const S=[];let C=1;for(let b=0;k>=C;b++)S[b]=k/C|0,C*=4294967296;return new u(S,0)}function y(k,S){if(k.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(k.charAt(0)=="-")return N(y(k.substring(1),S));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(S,8));let b=g;for(let U=0;U<k.length;U+=8){var V=Math.min(8,k.length-U);const P=parseInt(k.substring(U,U+V),S);V<8?(V=p(Math.pow(S,V)),b=b.j(V).add(p(P))):(b=b.j(C),b=b.add(p(P)))}return b}var g=f(0),E=f(1),A=f(16777216);t=u.prototype,t.m=function(){if(j(this))return-N(this).m();let k=0,S=1;for(let C=0;C<this.g.length;C++){const b=this.i(C);k+=(b>=0?b:4294967296+b)*S,S*=4294967296}return k},t.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(D(this))return"0";if(j(this))return"-"+N(this).toString(k);const S=p(Math.pow(k,6));var C=this;let b="";for(;;){const V=re(C,S).g;C=F(C,V.j(S));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(k);if(C=V,D(C))return U+b;for(;U.length<6;)U="0"+U;b=U+b}},t.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function D(k){if(k.h!=0)return!1;for(let S=0;S<k.g.length;S++)if(k.g[S]!=0)return!1;return!0}function j(k){return k.h==-1}t.l=function(k){return k=F(this,k),j(k)?-1:D(k)?0:1};function N(k){const S=k.g.length,C=[];for(let b=0;b<S;b++)C[b]=~k.g[b];return new u(C,~k.h).add(E)}t.abs=function(){return j(this)?N(this):this},t.add=function(k){const S=Math.max(this.g.length,k.g.length),C=[];let b=0;for(let V=0;V<=S;V++){let U=b+(this.i(V)&65535)+(k.i(V)&65535),P=(U>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);b=P>>>16,U&=65535,P&=65535,C[V]=P<<16|U}return new u(C,C[C.length-1]&-2147483648?-1:0)};function F(k,S){return k.add(N(S))}t.j=function(k){if(D(this)||D(k))return g;if(j(this))return j(k)?N(this).j(N(k)):N(N(this).j(k));if(j(k))return N(this.j(N(k)));if(this.l(A)<0&&k.l(A)<0)return p(this.m()*k.m());const S=this.g.length+k.g.length,C=[];for(var b=0;b<2*S;b++)C[b]=0;for(b=0;b<this.g.length;b++)for(let V=0;V<k.g.length;V++){const U=this.i(b)>>>16,P=this.i(b)&65535,Fe=k.i(V)>>>16,Qe=k.i(V)&65535;C[2*b+2*V]+=P*Qe,W(C,2*b+2*V),C[2*b+2*V+1]+=U*Qe,W(C,2*b+2*V+1),C[2*b+2*V+1]+=P*Fe,W(C,2*b+2*V+1),C[2*b+2*V+2]+=U*Fe,W(C,2*b+2*V+2)}for(k=0;k<S;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=S;k<2*S;k++)C[k]=0;return new u(C,0)};function W(k,S){for(;(k[S]&65535)!=k[S];)k[S+1]+=k[S]>>>16,k[S]&=65535,S++}function K(k,S){this.g=k,this.h=S}function re(k,S){if(D(S))throw Error("division by zero");if(D(k))return new K(g,g);if(j(k))return S=re(N(k),S),new K(N(S.g),N(S.h));if(j(S))return S=re(k,N(S)),new K(N(S.g),S.h);if(k.g.length>30){if(j(k)||j(S))throw Error("slowDivide_ only works with positive integers.");for(var C=E,b=S;b.l(k)<=0;)C=ne(C),b=ne(b);var V=ie(C,1),U=ie(b,1);for(b=ie(b,2),C=ie(C,2);!D(b);){var P=U.add(b);P.l(k)<=0&&(V=V.add(C),U=P),b=ie(b,1),C=ie(C,1)}return S=F(k,V.j(S)),new K(V,S)}for(V=g;k.l(S)>=0;){for(C=Math.max(1,Math.floor(k.m()/S.m())),b=Math.ceil(Math.log(C)/Math.LN2),b=b<=48?1:Math.pow(2,b-48),U=p(C),P=U.j(S);j(P)||P.l(k)>0;)C-=b,U=p(C),P=U.j(S);D(U)&&(U=E),V=V.add(U),k=F(k,P)}return new K(V,k)}t.B=function(k){return re(this,k).h},t.and=function(k){const S=Math.max(this.g.length,k.g.length),C=[];for(let b=0;b<S;b++)C[b]=this.i(b)&k.i(b);return new u(C,this.h&k.h)},t.or=function(k){const S=Math.max(this.g.length,k.g.length),C=[];for(let b=0;b<S;b++)C[b]=this.i(b)|k.i(b);return new u(C,this.h|k.h)},t.xor=function(k){const S=Math.max(this.g.length,k.g.length),C=[];for(let b=0;b<S;b++)C[b]=this.i(b)^k.i(b);return new u(C,this.h^k.h)};function ne(k){const S=k.g.length+1,C=[];for(let b=0;b<S;b++)C[b]=k.i(b)<<1|k.i(b-1)>>>31;return new u(C,k.h)}function ie(k,S){const C=S>>5;S%=32;const b=k.g.length-C,V=[];for(let U=0;U<b;U++)V[U]=S>0?k.i(U+C)>>>S|k.i(U+C+1)<<32-S:k.i(U+C);return new u(V,k.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,IE=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,ns=u}).apply(typeof sw<"u"?sw:typeof self<"u"?self:typeof window<"u"?window:{});var gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var AE,dl,CE,Cc,sp,RE,PE,kE;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof gc=="object"&&gc];for(var w=0;w<c.length;++w){var _=c[w];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=n(this);function o(c,w){if(w)e:{var _=i;c=c.split(".");for(var x=0;x<c.length-1;x++){var $=c[x];if(!($ in _))break e;_=_[$]}c=c[c.length-1],x=_[c],w=w(x),w!=x&&w!=null&&e(_,c,{configurable:!0,writable:!0,value:w})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(w){var _=[],x;for(x in w)Object.prototype.hasOwnProperty.call(w,x)&&_.push([x,w[x]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function d(c){var w=typeof c;return w=="object"&&c!=null||w=="function"}function f(c,w,_){return c.call.apply(c.bind,arguments)}function p(c,w,_){return p=f,p.apply(null,arguments)}function y(c,w){var _=Array.prototype.slice.call(arguments,1);return function(){var x=_.slice();return x.push.apply(x,arguments),c.apply(this,x)}}function g(c,w){function _(){}_.prototype=w.prototype,c.Z=w.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(x,$,G){for(var ae=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)ae[Ve-2]=arguments[Ve];return w.prototype[$].apply(x,ae)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function A(c){const w=c.length;if(w>0){const _=Array(w);for(let x=0;x<w;x++)_[x]=c[x];return _}return[]}function D(c,w){for(let x=1;x<arguments.length;x++){const $=arguments[x];var _=typeof $;if(_=_!="object"?_:$?Array.isArray($)?"array":_:"null",_=="array"||_=="object"&&typeof $.length=="number"){_=c.length||0;const G=$.length||0;c.length=_+G;for(let ae=0;ae<G;ae++)c[_+ae]=$[ae]}else c.push($)}}class j{constructor(w,_){this.i=w,this.j=_,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function N(c){u.setTimeout(()=>{throw c},0)}function F(){var c=k;let w=null;return c.g&&(w=c.g,c.g=c.g.next,c.g||(c.h=null),w.next=null),w}class W{constructor(){this.h=this.g=null}add(w,_){const x=K.get();x.set(w,_),this.h?this.h.next=x:this.g=x,this.h=x}}var K=new j(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(w,_){this.h=w,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,ie=!1,k=new W,S=()=>{const c=Promise.resolve(void 0);ne=()=>{c.then(C)}};function C(){for(var c;c=F();){try{c.h.call(c.g)}catch(_){N(_)}var w=K;w.j(c),w.h<100&&(w.h++,c.next=w.g,w.g=c)}ie=!1}function b(){this.u=this.u,this.C=this.C}b.prototype.u=!1,b.prototype.dispose=function(){this.u||(this.u=!0,this.N())},b.prototype[Symbol.dispose]=function(){this.dispose()},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(c,w){this.type=c,this.g=this.target=w,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var c=!1,w=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};u.addEventListener("test",_,w),u.removeEventListener("test",_,w)}catch{}return c})();function P(c){return/^[\s\xa0]*$/.test(c)}function Fe(c,w){V.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,w)}g(Fe,V),Fe.prototype.init=function(c,w){const _=this.type=c.type,x=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=w,w=c.relatedTarget,w||(_=="mouseover"?w=c.fromElement:_=="mouseout"&&(w=c.toElement)),this.relatedTarget=w,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Fe.Z.h.call(this)},Fe.prototype.h=function(){Fe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Qe="closure_listenable_"+(Math.random()*1e6|0),be=0;function ve(c,w,_,x,$){this.listener=c,this.proxy=null,this.src=w,this.type=_,this.capture=!!x,this.ha=$,this.key=++be,this.da=this.fa=!1}function ee(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ce(c,w,_){for(const x in c)w.call(_,c[x],x,c)}function oe(c,w){for(const _ in c)w.call(void 0,c[_],_,c)}function B(c){const w={};for(const _ in c)w[_]=c[_];return w}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(c,w){let _,x;for(let $=1;$<arguments.length;$++){x=arguments[$];for(_ in x)c[_]=x[_];for(let G=0;G<X.length;G++)_=X[G],Object.prototype.hasOwnProperty.call(x,_)&&(c[_]=x[_])}}function me(c){this.src=c,this.g={},this.h=0}me.prototype.add=function(c,w,_,x,$){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const ae=Ae(c,w,x,$);return ae>-1?(w=c[ae],_||(w.fa=!1)):(w=new ve(w,this.src,G,!!x,$),w.fa=_,c.push(w)),w};function _e(c,w){const _=w.type;if(_ in c.g){var x=c.g[_],$=Array.prototype.indexOf.call(x,w,void 0),G;(G=$>=0)&&Array.prototype.splice.call(x,$,1),G&&(ee(w),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Ae(c,w,_,x){for(let $=0;$<c.length;++$){const G=c[$];if(!G.da&&G.listener==w&&G.capture==!!_&&G.ha==x)return $}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),Ee={};function Be(c,w,_,x,$){if(Array.isArray(w)){for(let G=0;G<w.length;G++)Be(c,w[G],_,x,$);return null}return _=Ii(_),c&&c[Qe]?c.J(w,_,d(x)?!!x.capture:!1,$):Et(c,w,_,!1,x,$)}function Et(c,w,_,x,$,G){if(!w)throw Error("Invalid event type");const ae=d($)?!!$.capture:!!$;let Ve=ei(c);if(Ve||(c[Me]=Ve=new me(c)),_=Ve.add(w,_,x,ae,G),_.proxy)return _;if(x=tr(),_.proxy=x,x.src=c,x.listener=_,c.addEventListener)U||($=ae),$===void 0&&($=!1),c.addEventListener(w.toString(),x,$);else if(c.attachEvent)c.attachEvent(Tr(w.toString()),x);else if(c.addListener&&c.removeListener)c.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return _}function tr(){function c(_){return w.call(c.src,c.listener,_)}const w=ao;return c}function jn(c,w,_,x,$){if(Array.isArray(w))for(var G=0;G<w.length;G++)jn(c,w[G],_,x,$);else x=d(x)?!!x.capture:!!x,_=Ii(_),c&&c[Qe]?(c=c.i,G=String(w).toString(),G in c.g&&(w=c.g[G],_=Ae(w,_,x,$),_>-1&&(ee(w[_]),Array.prototype.splice.call(w,_,1),w.length==0&&(delete c.g[G],c.h--)))):c&&(c=ei(c))&&(w=c.g[w.toString()],c=-1,w&&(c=Ae(w,_,x,$)),(_=c>-1?w[c]:null)&&Er(_))}function Er(c){if(typeof c!="number"&&c&&!c.da){var w=c.src;if(w&&w[Qe])_e(w.i,c);else{var _=c.type,x=c.proxy;w.removeEventListener?w.removeEventListener(_,x,c.capture):w.detachEvent?w.detachEvent(Tr(_),x):w.addListener&&w.removeListener&&w.removeListener(x),(_=ei(w))?(_e(_,c),_.h==0&&(_.src=null,w[Me]=null)):ee(c)}}}function Tr(c){return c in Ee?Ee[c]:Ee[c]="on"+c}function ao(c,w){if(c.da)c=!0;else{w=new Fe(w,this);const _=c.listener,x=c.ha||c.src;c.fa&&Er(c),c=_.call(x,w)}return c}function ei(c){return c=c[Me],c instanceof me?c:null}var In="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ii(c){return typeof c=="function"?c:(c[In]||(c[In]=function(w){return c.handleEvent(w)}),c[In])}function qe(){b.call(this),this.i=new me(this),this.M=this,this.G=null}g(qe,b),qe.prototype[Qe]=!0,qe.prototype.removeEventListener=function(c,w,_,x){jn(this,c,w,_,x)};function lt(c,w){var _,x=c.G;if(x)for(_=[];x;x=x.G)_.push(x);if(c=c.M,x=w.type||w,typeof w=="string")w=new V(w,c);else if(w instanceof V)w.target=w.target||c;else{var $=w;w=new V(x,c),ue(w,$)}$=!0;let G,ae;if(_)for(ae=_.length-1;ae>=0;ae--)G=w.g=_[ae],$=An(G,x,!0,w)&&$;if(G=w.g=c,$=An(G,x,!0,w)&&$,$=An(G,x,!1,w)&&$,_)for(ae=0;ae<_.length;ae++)G=w.g=_[ae],$=An(G,x,!1,w)&&$}qe.prototype.N=function(){if(qe.Z.N.call(this),this.i){var c=this.i;for(const w in c.g){const _=c.g[w];for(let x=0;x<_.length;x++)ee(_[x]);delete c.g[w],c.h--}}this.G=null},qe.prototype.J=function(c,w,_,x){return this.i.add(String(c),w,!1,_,x)},qe.prototype.K=function(c,w,_,x){return this.i.add(String(c),w,!0,_,x)};function An(c,w,_,x){if(w=c.i.g[String(w)],!w)return!0;w=w.concat();let $=!0;for(let G=0;G<w.length;++G){const ae=w[G];if(ae&&!ae.da&&ae.capture==_){const Ve=ae.listener,vt=ae.ha||ae.src;ae.fa&&_e(c.i,ae),$=Ve.call(vt,x)!==!1&&$}}return $&&!x.defaultPrevented}function kt(c,w){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:u.setTimeout(c,w||0)}function Fn(c){c.g=kt(()=>{c.g=null,c.i&&(c.i=!1,Fn(c))},c.l);const w=c.h;c.h=null,c.m.apply(null,w)}class lo extends b{constructor(w,_){super(),this.m=w,this.l=_,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Fn(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xr(c){b.call(this),this.h=c,this.g={}}g(xr,b);var Sr=[];function Ai(c){ce(c.g,function(w,_){this.g.hasOwnProperty(_)&&Er(w)},c),c.g={}}xr.prototype.N=function(){xr.Z.N.call(this),Ai(this)},xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nr=u.JSON.stringify,Ci=u.JSON.parse,pn=class{stringify(c){return u.JSON.stringify(c,void 0)}parse(c){return u.JSON.parse(c,void 0)}};function rr(){}function ir(){}var Ir={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ri(){V.call(this,"d")}g(Ri,V);function Pi(){V.call(this,"c")}g(Pi,V);var mn={},ki=null;function Bn(){return ki=ki||new qe}mn.Ia="serverreachability";function ln(c){V.call(this,mn.Ia,c)}g(ln,V);function sr(c){const w=Bn();lt(w,new ln(w))}mn.STAT_EVENT="statevent";function or(c,w){V.call(this,mn.STAT_EVENT,c),this.stat=w}g(or,V);function tt(c){const w=Bn();lt(w,new or(w,c))}mn.Ja="timingevent";function bi(c,w){V.call(this,mn.Ja,c),this.size=w}g(bi,V);function Ie(c,w){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){c()},w)}function Ye(){this.g=!0}Ye.prototype.ua=function(){this.g=!1};function yt(c,w,_,x,$,G){c.info(function(){if(c.g)if(G){var ae="",Ve=G.split("&");for(let Ge=0;Ge<Ve.length;Ge++){var vt=Ve[Ge].split("=");if(vt.length>1){const St=vt[0];vt=vt[1];const Nn=St.split("_");ae=Nn.length>=2&&Nn[1]=="type"?ae+(St+"="+vt+"&"):ae+(St+"=redacted&")}}}else ae=null;else ae=G;return"XMLHTTP REQ ("+x+") [attempt "+$+"]: "+w+`
`+_+`
`+ae})}function Lt(c,w,_,x,$,G,ae){c.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+$+"]: "+w+`
`+_+`
`+G+" "+ae})}function un(c,w,_,x){c.info(function(){return"XMLHTTP TEXT ("+w+"): "+Tt(c,_)+(x?" "+x:"")})}function pt(c,w){c.info(function(){return"TIMEOUT: "+w})}Ye.prototype.info=function(){};function Tt(c,w){if(!c.g)return w;if(!w)return null;try{const G=JSON.parse(w);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var _=G[c];if(!(_.length<2)){var x=_[1];if(Array.isArray(x)&&!(x.length<1)){var $=x[0];if($!="noop"&&$!="stop"&&$!="close")for(let ae=1;ae<x.length;ae++)x[ae]=""}}}}return nr(G)}catch{return w}}var Cn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Yt;function Un(){}g(Un,rr),Un.prototype.g=function(){return new XMLHttpRequest},Yt=new Un;function Ot(c){return encodeURIComponent(String(c))}function gs(c){var w=1;c=c.split(":");const _=[];for(;w>0&&c.length;)_.push(c.shift()),w--;return c.length&&_.push(c.join(":")),_}function zn(c,w,_,x){this.j=c,this.i=w,this.l=_,this.S=x||1,this.V=new xr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new nu}function nu(){this.i=null,this.g="",this.h=!1}var ru={},Ea={};function ar(c,w,_){c.M=1,c.A=ni($n(w)),c.u=_,c.R=!0,Ta(c,null)}function Ta(c,w){c.F=Date.now(),ys(c),c.B=$n(c.A);var _=c.B,x=c.S;Array.isArray(x)||(x=[String(x)]),Va(_.i,"t",x),c.C=0,_=c.j.L,c.h=new nu,c.g=fu(c.j,_?w:null,!c.u),c.P>0&&(c.O=new lo(p(c.Y,c,c.g),c.P)),w=c.V,_=c.g,x=c.ba;var $="readystatechange";Array.isArray($)||($&&(Sr[0]=$.toString()),$=Sr);for(let G=0;G<$.length;G++){const ae=Be(_,$[G],x||w.handleEvent,!1,w.h||w);if(!ae)break;w.g[ae.key]=ae}w=c.J?B(c.J):{},c.u?(c.v||(c.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,w)):(c.v="GET",c.g.ea(c.B,c.v,null,w)),sr(),yt(c.i,c.v,c.B,c.l,c.S,c.u)}zn.prototype.ba=function(c){c=c.target;const w=this.O;w&&Vr(c)==3?w.j():this.Y(c)},zn.prototype.Y=function(c){try{if(c==this.g)e:{const Ve=Vr(this.g),vt=this.g.ya(),Ge=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||hu(this.g)))){this.K||Ve!=4||vt==7||(vt==8||Ge<=0?sr(3):sr(2)),uo(this);var w=this.g.ca();this.X=w;var _=iu(this);if(this.o=w==200,Lt(this.i,this.v,this.B,this.l,this.S,Ve,w),this.o){if(this.U&&!this.L){t:{if(this.g){var x,$=this.g;if((x=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(x)){var G=x;break t}}G=null}if(c=G)un(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,nt(this,c);else{this.o=!1,this.m=3,tt(12),ti(this),vs(this);break e}}if(this.R){c=!0;let St;for(;!this.K&&this.C<_.length;)if(St=ou(this,_),St==Ea){Ve==4&&(this.m=4,tt(14),c=!1),un(this.i,this.l,null,"[Incomplete Response]");break}else if(St==ru){this.m=4,tt(15),un(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else un(this.i,this.l,St,null),nt(this,St);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||_.length!=0||this.h.h||(this.m=1,tt(16),c=!1),this.o=this.o&&c,!c)un(this.i,this.l,_,"[Invalid Chunked Response]"),ti(this),vs(this);else if(_.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Cs(ae),ae.P=!0,tt(11))}}else un(this.i,this.l,_,null),nt(this,_);Ve==4&&ti(this),this.o&&!this.K&&(Ve==4?_o(this.j,this):(this.o=!1,ys(this)))}else Da(this.g),w==400&&_.indexOf("Unknown SID")>0?(this.m=3,tt(12)):(this.m=0,tt(13)),ti(this),vs(this)}}}catch{}finally{}};function iu(c){if(!su(c))return c.g.la();const w=hu(c.g);if(w==="")return"";let _="";const x=w.length,$=Vr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return ti(c),vs(c),"";c.h.i=new u.TextDecoder}for(let G=0;G<x;G++)c.h.h=!0,_+=c.h.i.decode(w[G],{stream:!($&&G==x-1)});return w.length=0,c.h.g+=_,c.C=0,c.h.g}function su(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ou(c,w){var _=c.C,x=w.indexOf(`
`,_);return x==-1?Ea:(_=Number(w.substring(_,x)),isNaN(_)?ru:(x+=1,x+_>w.length?Ea:(w=w.slice(x,x+_),c.C=x+_,w)))}zn.prototype.cancel=function(){this.K=!0,ti(this)};function ys(c){c.T=Date.now()+c.H,xa(c,c.H)}function xa(c,w){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Ie(p(c.aa,c),w)}function uo(c){c.D&&(u.clearTimeout(c.D),c.D=null)}zn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(pt(this.i,this.B),this.M!=2&&(sr(),tt(17)),ti(this),this.m=2,vs(this)):xa(this,this.T-c)};function vs(c){c.j.I==0||c.K||_o(c.j,c)}function ti(c){uo(c);var w=c.O;w&&typeof w.dispose=="function"&&w.dispose(),c.O=null,Ai(c.V),c.g&&(w=c.g,c.g=null,w.abort(),w.dispose())}function nt(c,w){try{var _=c.j;if(_.I!=0&&(_.g==c||Ia(_.h,c))){if(!c.L&&Ia(_.h,c)&&_.I==3){try{var x=_.Ba.g.parse(w)}catch{x=null}if(Array.isArray(x)&&x.length==3){var $=x;if($[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)wo(_),bn(_);else break e;Mr(_),tt(18)}}else _.xa=$[1],0<_.xa-_.K&&$[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Ie(p(_.Va,_),6e3));ws(_.h)<=1&&_.ta&&(_.ta=void 0)}else Vn(_,11)}else if((c.L||_.g==c)&&wo(_),!P(w))for($=_.Ba.g.parse(w),w=0;w<$.length;w++){let Ge=$[w];const St=Ge[0];if(!(St<=_.K))if(_.K=St,Ge=Ge[1],_.I==2)if(Ge[0]=="c"){_.M=Ge[1],_.ba=Ge[2];const Nn=Ge[3];Nn!=null&&(_.ka=Nn,_.j.info("VER="+_.ka));const ai=Ge[4];ai!=null&&(_.za=ai,_.j.info("SVER="+_.za));const Lr=Ge[5];Lr!=null&&typeof Lr=="number"&&Lr>0&&(x=1.5*Lr,_.O=x,_.j.info("backChannelRequestTimeoutMs_="+x)),x=_;const Or=c.g;if(Or){const xo=Or.g?Or.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xo){var G=x.h;G.g||xo.indexOf("spdy")==-1&&xo.indexOf("quic")==-1&&xo.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(ho(G,G.h),G.h=null))}if(x.G){const Oa=Or.g?Or.g.getResponseHeader("X-HTTP-Session-Id"):null;Oa&&(x.wa=Oa,We(x.J,x.G,Oa))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),x=_;var ae=c;if(x.na=La(x,x.L?x.ba:null,x.W),ae.L){_s(x.h,ae);var Ve=ae,vt=x.O;vt&&(Ve.H=vt),Ve.D&&(uo(Ve),ys(Ve)),x.g=ae}else Xt(x);_.i.length>0&&oi(_)}else Ge[0]!="stop"&&Ge[0]!="close"||Vn(_,7);else _.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Vn(_,7):yo(_):Ge[0]!="noop"&&_.l&&_.l.qa(Ge),_.A=0)}}sr(4)}catch{}}var Sh=class{constructor(c,w){this.g=c,this.map=w}};function co(c){this.l=c||10,u.PerformanceNavigationTiming?(c=u.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Sa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ws(c){return c.h?1:c.g?c.g.size:0}function Ia(c,w){return c.h?c.h==w:c.g?c.g.has(w):!1}function ho(c,w){c.g?c.g.add(w):c.h=w}function _s(c,w){c.h&&c.h==w?c.h=null:c.g&&c.g.has(w)&&c.g.delete(w)}co.prototype.cancel=function(){if(this.i=Rn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Rn(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let w=c.i;for(const _ of c.g.values())w=w.concat(_.G);return w}return A(c.i)}var au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pn(c,w){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const x=c[_].indexOf("=");let $,G=null;x>=0?($=c[_].substring(0,x),G=c[_].substring(x+1)):$=c[_],w($,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Ar(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;c instanceof Ar?(this.l=c.l,Es(this,c.j),this.o=c.o,this.g=c.g,Cr(this,c.u),this.h=c.h,Vi(this,Na(c.i)),this.m=c.m):c&&(w=String(c).match(au))?(this.l=!1,Es(this,w[1]||"",!0),this.o=Ts(w[2]||""),this.g=Ts(w[3]||"",!0),Cr(this,w[4]),this.h=Ts(w[5]||"",!0),Vi(this,w[6]||"",!0),this.m=Ts(w[7]||"")):(this.l=!1,this.i=new je(null,this.l))}Ar.prototype.toString=function(){const c=[];var w=this.j;w&&c.push(xs(w,Ca,!0),":");var _=this.g;return(_||w=="file")&&(c.push("//"),(w=this.o)&&c.push(xs(w,Ca,!0),"@"),c.push(Ot(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(xs(_,_.charAt(0)=="/"?Ss:Ra,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",xs(_,Pa)),c.join("")},Ar.prototype.resolve=function(c){const w=$n(this);let _=!!c.j;_?Es(w,c.j):_=!!c.o,_?w.o=c.o:_=!!c.g,_?w.g=c.g:_=c.u!=null;var x=c.h;if(_)Cr(w,c.u);else if(_=!!c.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var $=w.h.lastIndexOf("/");$!=-1&&(x=w.h.slice(0,$+1)+x)}if($=x,$==".."||$==".")x="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){x=$.lastIndexOf("/",0)==0,$=$.split("/");const G=[];for(let ae=0;ae<$.length;){const Ve=$[ae++];Ve=="."?x&&ae==$.length&&G.push(""):Ve==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),x&&ae==$.length&&G.push("")):(G.push(Ve),x=!0)}x=G.join("/")}else x=$}return _?w.h=x:_=c.i.toString()!=="",_?Vi(w,Na(c.i)):_=!!c.m,_&&(w.m=c.m),w};function $n(c){return new Ar(c)}function Es(c,w,_){c.j=_?Ts(w,!0):w,c.j&&(c.j=c.j.replace(/:$/,""))}function Cr(c,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);c.u=w}else c.u=null}function Vi(c,w,_){w instanceof je?(c.i=w,po(c.i,c.l)):(_||(w=xs(w,Ih)),c.i=new je(w,c.l))}function We(c,w,_){c.i.set(w,_)}function ni(c){return We(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ts(c,w){return c?w?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function xs(c,w,_){return typeof c=="string"?(c=encodeURI(c).replace(w,Aa),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Aa(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ca=/[#\/\?@]/g,Ra=/[#\?:]/g,Ss=/[#\?]/g,Ih=/[#\?@]/g,Pa=/#/g;function je(c,w){this.h=this.g=null,this.i=c||null,this.j=!!w}function Rr(c){c.g||(c.g=new Map,c.h=0,c.i&&Pn(c.i,function(w,_){c.add(decodeURIComponent(w.replace(/\+/g," ")),_)}))}t=je.prototype,t.add=function(c,w){Rr(this),this.i=null,c=Pr(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(w),this.h+=1,this};function ka(c,w){Rr(c),w=Pr(c,w),c.g.has(w)&&(c.i=null,c.h-=c.g.get(w).length,c.g.delete(w))}function fo(c,w){return Rr(c),w=Pr(c,w),c.g.has(w)}t.forEach=function(c,w){Rr(this),this.g.forEach(function(_,x){_.forEach(function($){c.call(w,$,x,this)},this)},this)};function ba(c,w){Rr(c);let _=[];if(typeof w=="string")fo(c,w)&&(_=_.concat(c.g.get(Pr(c,w))));else for(c=Array.from(c.g.values()),w=0;w<c.length;w++)_=_.concat(c[w]);return _}t.set=function(c,w){return Rr(this),this.i=null,c=Pr(this,c),fo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[w]),this.h+=1,this},t.get=function(c,w){return c?(c=ba(this,c),c.length>0?String(c[0]):w):w};function Va(c,w,_){ka(c,w),_.length>0&&(c.i=null,c.g.set(Pr(c,w),A(_)),c.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],w=Array.from(this.g.keys());for(let x=0;x<w.length;x++){var _=w[x];const $=Ot(_);_=ba(this,_);for(let G=0;G<_.length;G++){let ae=$;_[G]!==""&&(ae+="="+Ot(_[G])),c.push(ae)}}return this.i=c.join("&")};function Na(c){const w=new je;return w.i=c.i,c.g&&(w.g=new Map(c.g),w.h=c.h),w}function Pr(c,w){return w=String(w),c.j&&(w=w.toLowerCase()),w}function po(c,w){w&&!c.j&&(Rr(c),c.i=null,c.g.forEach(function(_,x){const $=x.toLowerCase();x!=$&&(ka(this,x),Va(this,$,_))},c)),c.j=w}function kr(c,w){const _=new Ye;if(u.Image){const x=new Image;x.onload=y(zt,_,"TestLoadImage: loaded",!0,w,x),x.onerror=y(zt,_,"TestLoadImage: error",!1,w,x),x.onabort=y(zt,_,"TestLoadImage: abort",!1,w,x),x.ontimeout=y(zt,_,"TestLoadImage: timeout",!1,w,x),u.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=c}else w(!1)}function br(c,w){const _=new Ye,x=new AbortController,$=setTimeout(()=>{x.abort(),zt(_,"TestPingServer: timeout",!1,w)},1e4);fetch(c,{signal:x.signal}).then(G=>{clearTimeout($),G.ok?zt(_,"TestPingServer: ok",!0,w):zt(_,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout($),zt(_,"TestPingServer: error",!1,w)})}function zt(c,w,_,x,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),x(_)}catch{}}function Is(){this.g=new pn}function ri(c){this.i=c.Sb||null,this.h=c.ab||!1}g(ri,rr),ri.prototype.g=function(){return new kn(this.i,this.h)};function kn(c,w){qe.call(this),this.H=c,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(kn,qe),t=kn.prototype,t.open=function(c,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=w,this.readyState=1,lr(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(w.body=c),(this.H||u).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ni(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,lr(this)),this.g&&(this.readyState=3,lr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;lu(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function lu(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var w=c.value?c.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!c.done}))&&(this.response=this.responseText+=w)}c.done?Ni(this):lr(this),this.readyState==3&&lu(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,Ni(this))},t.Na=function(c){this.g&&(this.response=c,Ni(this))},t.ga=function(){this.g&&Ni(this)};function Ni(c){c.readyState=4,c.l=null,c.j=null,c.B=null,lr(c)}t.setRequestHeader=function(c,w){this.A.append(c,w)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],w=this.h.entries();for(var _=w.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=w.next();return c.join(`\r
`)};function lr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(kn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function uu(c){let w="";return ce(c,function(_,x){w+=x,w+=":",w+=_,w+=`\r
`}),w}function mo(c,w,_){e:{for(x in _){var x=!1;break e}x=!0}x||(_=uu(_),typeof c=="string"?_!=null&&Ot(_):We(c,w,_))}function Xe(c){qe.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Xe,qe);var cu=/^https?$/i,Ah=["POST","PUT"];t=Xe.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,w,_,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);w=w?w.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Yt.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(w,String(c),!0),this.B=!1}catch(G){Di(this,G);return}if(c=_||"",_=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var $ in x)_.set($,x[$]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const G of x.keys())_.set(G,x.get(G));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),$=u.FormData&&c instanceof u.FormData,!(Array.prototype.indexOf.call(Ah,w,void 0)>=0)||x||$||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ae]of _)this.g.setRequestHeader(G,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){Di(this,G)}};function Di(c,w){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=w,c.o=5,Mi(c),si(c)}function Mi(c){c.A||(c.A=!0,lt(c,"complete"),lt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,lt(this,"complete"),lt(this,"abort"),si(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),si(this,!0)),Xe.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ii(this):this.Xa())},t.Xa=function(){ii(this)};function ii(c){if(c.h&&typeof a<"u"){if(c.v&&Vr(c)==4)setTimeout(c.Ca.bind(c),0);else if(lt(c,"readystatechange"),Vr(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var _;if(!(_=w)){var x;if(x=G===0){let ae=String(c.D).match(au)[1]||null;!ae&&u.self&&u.self.location&&(ae=u.self.location.protocol.slice(0,-1)),x=!cu.test(ae?ae.toLowerCase():"")}_=x}if(_)lt(c,"complete"),lt(c,"success");else{c.o=6;try{var $=Vr(c)>2?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.ca()+"]",Mi(c)}}finally{si(c)}}}}function si(c,w){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,w||lt(c,"ready");try{_.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Vr(c){return c.g?c.g.readyState:0}t.ca=function(){try{return Vr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var w=this.g.responseText;return c&&w.indexOf(c)==0&&(w=w.substring(c.length)),Ci(w)}};function hu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Da(c){const w={};c=(c.g&&Vr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<c.length;x++){if(P(c[x]))continue;var _=gs(c[x]);const $=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=w[$]||[];w[$]=G,G.push(_)}oe(w,function(x){return x.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Nr(c,w,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||w}function go(c){this.za=0,this.i=[],this.j=new Ye,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Nr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Nr("baseRetryDelayMs",5e3,c),this.Za=Nr("retryDelaySeedMs",1e4,c),this.Ta=Nr("forwardChannelMaxRetries",2,c),this.va=Nr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new co(c&&c.concurrentRequestLimit),this.Ba=new Is,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=go.prototype,t.ka=8,t.I=1,t.connect=function(c,w,_,x){tt(0),this.W=c,this.H=w||{},_&&x!==void 0&&(this.H.OSID=_,this.H.OAID=x),this.F=this.X,this.J=La(this,null,this.W),oi(this)};function yo(c){if(vo(c),c.I==3){var w=c.V++,_=$n(c.J);if(We(_,"SID",c.M),We(_,"RID",w),We(_,"TYPE","terminate"),Dr(c,_),w=new zn(c,c.j,w),w.M=2,w.A=ni($n(_)),_=!1,u.navigator&&u.navigator.sendBeacon)try{_=u.navigator.sendBeacon(w.A.toString(),"")}catch{}!_&&u.Image&&(new Image().src=w.A,_=!0),_||(w.g=fu(w.j,null),w.g.ea(w.A)),w.F=Date.now(),ys(w)}Rs(c)}function bn(c){c.g&&(Cs(c),c.g.cancel(),c.g=null)}function vo(c){bn(c),c.v&&(u.clearTimeout(c.v),c.v=null),wo(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&u.clearTimeout(c.m),c.m=null)}function oi(c){if(!Sa(c.h)&&!c.m){c.m=!0;var w=c.Ea;ne||S(),ie||(ne(),ie=!0),k.add(w,c),c.D=0}}function du(c,w){return ws(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=w.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Ie(p(c.Ea,c,w),Eo(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const $=new zn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=B(G),ue(G,this.U)):G=this.U),this.u!==null||this.R||($.J=G,G=null),this.S)e:{for(var w=0,_=0;_<this.i.length;_++){t:{var x=this.i[_];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(w+=x,w>4096){w=_;break e}if(w===4096||_===this.i.length-1){w=_+1;break e}}w=1e3}else w=1e3;w=Ma(this,$,w),_=$n(this.J),We(_,"RID",c),We(_,"CVER",22),this.G&&We(_,"X-HTTP-Session-Id",this.G),Dr(this,_),G&&(this.R?w="headers="+Ot(uu(G))+"&"+w:this.u&&mo(_,this.u,G)),ho(this.h,$),this.Ra&&We(_,"TYPE","init"),this.S?(We(_,"$req",w),We(_,"SID","null"),$.U=!0,ar($,_,null)):ar($,_,w),this.I=2}}else this.I==3&&(c?As(this,c):this.i.length==0||Sa(this.h)||As(this))};function As(c,w){var _;w?_=w.l:_=c.V++;const x=$n(c.J);We(x,"SID",c.M),We(x,"RID",_),We(x,"AID",c.K),Dr(c,x),c.u&&c.o&&mo(x,c.u,c.o),_=new zn(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),w&&(c.i=w.G.concat(c.i)),w=Ma(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ho(c.h,_),ar(_,x,w)}function Dr(c,w){c.H&&ce(c.H,function(_,x){We(w,x,_)}),c.l&&ce({},function(_,x){We(w,x,_)})}function Ma(c,w,_){_=Math.min(c.i.length,_);const x=c.l?p(c.l.Ka,c.l,c):null;e:{var $=c.i;let Ve=-1;for(;;){const vt=["count="+_];Ve==-1?_>0?(Ve=$[0].g,vt.push("ofs="+Ve)):Ve=0:vt.push("ofs="+Ve);let Ge=!0;for(let St=0;St<_;St++){var G=$[St].g;const Nn=$[St].map;if(G-=Ve,G<0)Ve=Math.max(0,$[St].g-100),Ge=!1;else try{G="req"+G+"_"||"";try{var ae=Nn instanceof Map?Nn:Object.entries(Nn);for(const[ai,Lr]of ae){let Or=Lr;d(Lr)&&(Or=nr(Lr)),vt.push(G+ai+"="+encodeURIComponent(Or))}}catch(ai){throw vt.push(G+"type="+encodeURIComponent("_badmap")),ai}}catch{x&&x(Nn)}}if(Ge){ae=vt.join("&");break e}}ae=void 0}return c=c.i.splice(0,_),w.G=c,ae}function Xt(c){if(!c.g&&!c.v){c.Y=1;var w=c.Da;ne||S(),ie||(ne(),ie=!0),k.add(w,c),c.A=0}}function Mr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Ie(p(c.Da,c),Eo(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,Li(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Ie(p(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,tt(10),bn(this),Li(this))};function Cs(c){c.B!=null&&(u.clearTimeout(c.B),c.B=null)}function Li(c){c.g=new zn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var w=$n(c.na);We(w,"RID","rpc"),We(w,"SID",c.M),We(w,"AID",c.K),We(w,"CI",c.F?"0":"1"),!c.F&&c.ia&&We(w,"TO",c.ia),We(w,"TYPE","xmlhttp"),Dr(c,w),c.u&&c.o&&mo(w,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=ni($n(w)),_.u=null,_.R=!0,Ta(_,c)}t.Va=function(){this.C!=null&&(this.C=null,bn(this),Mr(this),tt(19))};function wo(c){c.C!=null&&(u.clearTimeout(c.C),c.C=null)}function _o(c,w){var _=null;if(c.g==w){wo(c),Cs(c),c.g=null;var x=2}else if(Ia(c.h,w))_=w.G,_s(c.h,w),x=1;else return;if(c.I!=0){if(w.o)if(x==1){_=w.u?w.u.length:0,w=Date.now()-w.F;var $=c.D;x=Bn(),lt(x,new bi(x,_)),oi(c)}else Xt(c);else if($=w.m,$==3||$==0&&w.X>0||!(x==1&&du(c,w)||x==2&&Mr(c)))switch(_&&_.length>0&&(w=c.h,w.i=w.i.concat(_)),$){case 1:Vn(c,5);break;case 4:Vn(c,10);break;case 3:Vn(c,6);break;default:Vn(c,2)}}}function Eo(c,w){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*w}function Vn(c,w){if(c.j.info("Error code "+w),w==2){var _=p(c.bb,c),x=c.Ua;const $=!x;x=new Ar(x||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Es(x,"https"),ni(x),$?kr(x.toString(),_):br(x.toString(),_)}else tt(2);c.I=0,c.l&&c.l.pa(w),Rs(c),vo(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function Rs(c){if(c.I=0,c.ja=[],c.l){const w=Rn(c.h);(w.length!=0||c.i.length!=0)&&(D(c.ja,w),D(c.ja,c.i),c.h.i.length=0,A(c.i),c.i.length=0),c.l.oa()}}function La(c,w,_){var x=_ instanceof Ar?$n(_):new Ar(_);if(x.g!="")w&&(x.g=w+"."+x.g),Cr(x,x.u);else{var $=u.location;x=$.protocol,w=w?w+"."+$.hostname:$.hostname,$=+$.port;const G=new Ar(null);x&&Es(G,x),w&&(G.g=w),$&&Cr(G,$),_&&(G.h=_),x=G}return _=c.G,w=c.wa,_&&w&&We(x,_,w),We(x,"VER",c.ka),Dr(c,x),x}function fu(c,w,_){if(w&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=c.Aa&&!c.ma?new Xe(new ri({ab:_})):new Xe(c.ma),w.Fa(c.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function pu(){}t=pu.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function To(){}To.prototype.g=function(c,w){return new $t(c,w)};function $t(c,w){qe.call(this),this.g=new go(w),this.l=c,this.h=w&&w.messageUrlParams||null,c=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(c?c["X-WebChannel-Content-Type"]=w.messageContentType:c={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(c?c["X-WebChannel-Client-Profile"]=w.sa:c={"X-WebChannel-Client-Profile":w.sa}),this.g.U=c,(c=w&&w.Qb)&&!P(c)&&(this.g.u=c),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!P(w)&&(this.g.G=w,c=this.h,c!==null&&w in c&&(c=this.h,w in c&&delete c[w])),this.j=new Oi(this)}g($t,qe),$t.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){yo(this.g)},$t.prototype.o=function(c){var w=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=nr(c),c=_);w.i.push(new Sh(w.Ya++,c)),w.I==3&&oi(w)},$t.prototype.N=function(){this.g.l=null,delete this.j,yo(this.g),delete this.g,$t.Z.N.call(this)};function mu(c){Ri.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var w=c.__sm__;if(w){e:{for(const _ in w){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,w=w!==null&&c in w?w[c]:void 0),this.data=w}else this.data=c}g(mu,Ri);function gu(){Pi.call(this),this.status=1}g(gu,Pi);function Oi(c){this.g=c}g(Oi,pu),Oi.prototype.ra=function(){lt(this.g,"a")},Oi.prototype.qa=function(c){lt(this.g,new mu(c))},Oi.prototype.pa=function(c){lt(this.g,new gu)},Oi.prototype.oa=function(){lt(this.g,"b")},To.prototype.createWebChannel=To.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,kE=function(){return new To},PE=function(){return Bn()},RE=mn,sp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Cn.NO_ERROR=0,Cn.TIMEOUT=8,Cn.HTTP_ERROR=6,Cc=Cn,xt.COMPLETE="complete",CE=xt,ir.EventType=Ir,Ir.OPEN="a",Ir.CLOSE="b",Ir.ERROR="c",Ir.MESSAGE="d",qe.prototype.listen=qe.prototype.J,dl=ir,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,AE=Xe}).apply(typeof gc<"u"?gc:typeof self<"u"?self:typeof window<"u"?window:{});const ow="@firebase/firestore",aw="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ga="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=new dm("@firebase/firestore");function Ho(){return Js.logLevel}function fe(t,...e){if(Js.logLevel<=ze.DEBUG){const n=e.map(pm);Js.debug(`Firestore (${ga}): ${t}`,...n)}}function xi(t,...e){if(Js.logLevel<=ze.ERROR){const n=e.map(pm);Js.error(`Firestore (${ga}): ${t}`,...n)}}function sa(t,...e){if(Js.logLevel<=ze.WARN){const n=e.map(pm);Js.warn(`Firestore (${ga}): ${t}`,...n)}}function pm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,bE(t,i,n)}function bE(t,e,n){let i=`FIRESTORE (${ga}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw xi(i),new Error(i)}function Ke(t,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,t||bE(e,o,i)}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends ps{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(rn.UNAUTHENTICATED)))}shutdown(){}}class BV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class UV{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let i=this.i;const o=f=>this.i!==i?(i=this.i,n(f)):Promise.resolve();let a=new Ys;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ys,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await o(this.currentUser)}))},d=f=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ys)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ke(typeof i.accessToken=="string",31837,{l:i}),new VE(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class zV{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $V{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new zV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class lw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,IV(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const i=a=>{a.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,fe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>i(a)))};const o=a=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new lw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new lw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=WV(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<n&&(i+=e.charAt(o[a]%62))}return i}}function Le(t,e){return t<e?-1:t>e?1:0}function op(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const o=t.charAt(i),a=e.charAt(i);if(o!==a)return Ef(o)===Ef(a)?Le(o,a):Ef(o)?1:-1}return Le(t.length,e.length)}const qV=55296,KV=57343;function Ef(t){const e=t.charCodeAt(0);return e>=qV&&e<=KV}function oa(t,e,n){return t.length===e.length&&t.every(((i,o)=>n(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="__name__";class $r{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ce(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return $r.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $r?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const a=$r.compareSegments(e.get(o),n.get(o));if(a!==0)return a}return Le(e.length,n.length)}static compareSegments(e,n){const i=$r.isNumericId(e),o=$r.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?$r.extractNumericId(e).compare($r.extractNumericId(n)):op(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ns.fromString(e.substring(4,e.length-2))}}class et extends $r{construct(e,n,i){return new et(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new de(Q.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((o=>o.length>0)))}return new et(n)}static emptyPath(){return new et([])}}const GV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends $r{construct(e,n,i){return new Gt(e,n,i)}static isValidIdentifier(e){return GV.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uw}static keyField(){return new Gt([uw])}static fromServerFormat(e){const n=[];let i="",o=0;const a=()=>{if(i.length===0)throw new de(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new de(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new de(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,o+=2}else d==="`"?(u=!u,o++):d!=="."||u?(i+=d,o++):(a(),o++)}if(a(),u)throw new de(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(n)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(et.fromString(e))}static fromName(e){return new Te(et.fromString(e).popFirst(5))}static empty(){return new Te(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(t,e,n){if(!n)throw new de(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QV(t,e,n,i){if(e===!0&&i===!0)throw new de(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function cw(t){if(!Te.isDocumentKey(t))throw new de(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hw(t){if(Te.isDocumentKey(t))throw new de(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function DE(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function uh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce(12329,{type:typeof t})}function El(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uh(t);throw new de(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function YV(t,e){if(e<=0)throw new de(Q.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Xl(t,e){if(!DE(t))throw new de(Q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,a="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(o&&typeof u!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(a!==void 0&&u!==a.value){n=`Expected '${i}' field to equal '${a.value}'`;break}}if(n)throw new de(Q.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=-62135596800,fw=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*fw);return new st(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<dw)throw new de(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fw}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xl(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-dw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Pt("string",st._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new st(0,0))}static max(){return new ke(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=-1;function XV(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,o=ke.fromTimestamp(i===1e9?new st(n+1,0):new st(n,i));return new as(o,Te.empty(),e)}function JV(t){return new as(t.readTime,t.key,Ml)}class as{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new as(ke.min(),Te.empty(),Ml)}static max(){return new as(ke.max(),Te.empty(),Ml)}}function ZV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ya(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==eN)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y(((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Y.reject(n)}static resolve(e){return new Y(((n,i)=>{n(e)}))}static reject(e){return new Y(((n,i)=>{i(e)}))}static waitFor(e){return new Y(((n,i)=>{let o=0,a=0,u=!1;e.forEach((d=>{++o,d.next((()=>{++a,u&&a===o&&n()}),(f=>i(f)))})),u=!0,a===o&&n()}))}static or(e){let n=Y.resolve(!1);for(const i of e)n=n.next((o=>o?Y.resolve(o):i()));return n}static forEach(e,n){const i=[];return e.forEach(((o,a)=>{i.push(n.call(this,o,a))})),this.waitFor(i)}static mapArray(e,n){return new Y(((i,o)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const p=f;n(e[p]).next((y=>{u[p]=y,++d,d===a&&i(u)}),(y=>o(y)))}}))}static doWhile(e,n){return new Y(((i,o)=>{const a=()=>{e()===!0?n().next((()=>{a()}),o):i()};a()}))}}function nN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function va(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ch.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm=-1;function hh(t){return t==null}function zc(t){return t===0&&1/t==-1/0}function rN(t){return typeof t=="number"&&Number.isInteger(t)&&!zc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="";function iN(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=pw(e)),e=sN(t.get(n),e);return pw(e)}function sN(t,e){let n=e;const i=t.length;for(let o=0;o<i;o++){const a=t.charAt(o);switch(a){case"\0":n+="";break;case ME:n+="";break;default:n+=a}}return n}function pw(t){return t+ME+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ro(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yc(this.root,e,this.comparator,!1)}getReverseIterator(){return new yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yc(this.root,e,this.comparator,!0)}}class yc{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?i(e.key,n):1,n&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,i,o,a){this.key=e,this.value=n,this.color=i??Kt.RED,this.left=o??Kt.EMPTY,this.right=a??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,a){return new Kt(e??this.key,n??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,n,i),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,i,o,a){return this}insert(e,n,i){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gw(this.data.getIterator())}getIteratorFrom(e){return new gw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class gw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new yr([])}unionWith(e){let n=new Mt(Gt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new yr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oa(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new OE("Invalid base64 string: "+a):a}})(e);return new Qt(n)}static fromUint8Array(e){const n=(function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a})(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const oN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(t){if(Ke(!!t,39018),typeof t=="string"){let e=0;const n=oN.exec(t);if(Ke(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:_t(t.seconds),nanos:_t(t.nanos)}}function _t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function us(t){return typeof t=="string"?Qt.fromBase64String(t):Qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="server_timestamp",FE="__type__",BE="__previous_value__",UE="__local_write_time__";function ym(t){return(t?.mapValue?.fields||{})[FE]?.stringValue===jE}function dh(t){const e=t.mapValue.fields[BE];return ym(e)?dh(e):e}function Ll(t){const e=ls(t.mapValue.fields[UE].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n,i,o,a,u,d,f,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=y}}const $c="(default)";class Ol{constructor(e,n){this.projectId=e,this.database=n||$c}static empty(){return new Ol("","")}get isDefaultDatabase(){return this.database===$c}isEqual(e){return e instanceof Ol&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="__type__",lN="__max__",vc={mapValue:{}},$E="__vector__",Hc="value";function cs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ym(t)?4:cN(t)?9007199254740991:uN(t)?10:11:Ce(28295,{value:t})}function Jr(t,e){if(t===e)return!0;const n=cs(t);if(n!==cs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ll(t).isEqual(Ll(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=ls(o.timestampValue),d=ls(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,a){return us(o.bytesValue).isEqual(us(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,a){return _t(o.geoPointValue.latitude)===_t(a.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(a.geoPointValue.longitude)})(t,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return _t(o.integerValue)===_t(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=_t(o.doubleValue),d=_t(a.doubleValue);return u===d?zc(u)===zc(d):isNaN(u)&&isNaN(d)}return!1})(t,e);case 9:return oa(t.arrayValue.values||[],e.arrayValue.values||[],Jr);case 10:case 11:return(function(o,a){const u=o.mapValue.fields||{},d=a.mapValue.fields||{};if(mw(u)!==mw(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Jr(u[f],d[f])))return!1;return!0})(t,e);default:return Ce(52216,{left:t})}}function jl(t,e){return(t.values||[]).find((n=>Jr(n,e)))!==void 0}function aa(t,e){if(t===e)return 0;const n=cs(t),i=cs(e);if(n!==i)return Le(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return(function(a,u){const d=_t(a.integerValue||a.doubleValue),f=_t(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return yw(t.timestampValue,e.timestampValue);case 4:return yw(Ll(t),Ll(e));case 5:return op(t.stringValue,e.stringValue);case 6:return(function(a,u){const d=us(a),f=us(u);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,u){const d=a.split("/"),f=u.split("/");for(let p=0;p<d.length&&p<f.length;p++){const y=Le(d[p],f[p]);if(y!==0)return y}return Le(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,u){const d=Le(_t(a.latitude),_t(u.latitude));return d!==0?d:Le(_t(a.longitude),_t(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return vw(t.arrayValue,e.arrayValue);case 10:return(function(a,u){const d=a.fields||{},f=u.fields||{},p=d[Hc]?.arrayValue,y=f[Hc]?.arrayValue,g=Le(p?.values?.length||0,y?.values?.length||0);return g!==0?g:vw(p,y)})(t.mapValue,e.mapValue);case 11:return(function(a,u){if(a===vc.mapValue&&u===vc.mapValue)return 0;if(a===vc.mapValue)return 1;if(u===vc.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),p=u.fields||{},y=Object.keys(p);f.sort(),y.sort();for(let g=0;g<f.length&&g<y.length;++g){const E=op(f[g],y[g]);if(E!==0)return E;const A=aa(d[f[g]],p[y[g]]);if(A!==0)return A}return Le(f.length,y.length)})(t.mapValue,e.mapValue);default:throw Ce(23264,{he:n})}}function yw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=ls(t),i=ls(e),o=Le(n.seconds,i.seconds);return o!==0?o:Le(n.nanos,i.nanos)}function vw(t,e){const n=t.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const a=aa(n[o],i[o]);if(a)return a}return Le(n.length,i.length)}function la(t){return ap(t)}function ap(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=ls(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return us(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Te.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",o=!0;for(const a of n.values||[])o?o=!1:i+=",",i+=ap(a);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const u of i)a?a=!1:o+=",",o+=`${u}:${ap(n.fields[u])}`;return o+"}"})(t.mapValue):Ce(61005,{value:t})}function Rc(t){switch(cs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dh(t);return e?16+Rc(e):16;case 5:return 2*t.stringValue.length;case 6:return us(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,a)=>o+Rc(a)),0)})(t.arrayValue);case 10:case 11:return(function(i){let o=0;return ro(i.fields,((a,u)=>{o+=a.length+Rc(u)})),o})(t.mapValue);default:throw Ce(13486,{value:t})}}function ww(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function lp(t){return!!t&&"integerValue"in t}function vm(t){return!!t&&"arrayValue"in t}function _w(t){return!!t&&"nullValue"in t}function Ew(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pc(t){return!!t&&"mapValue"in t}function uN(t){return(t?.mapValue?.fields||{})[zE]?.stringValue===$E}function Tl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ro(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Tl(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Tl(t.arrayValue.values[n]);return e}return{...t}}function cN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===lN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.value=e}static empty(){return new Xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Pc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tl(n)}setAll(e){let n=Gt.emptyPath(),i={},o=[];e.forEach(((u,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,i,o),i={},o=[],n=d.popLast()}u?i[d.lastSegment()]=Tl(u):o.push(d.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,i,o)}delete(e){const n=this.field(e.popLast());Pc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Jr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];Pc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){ro(n,((o,a)=>e[o]=a));for(const o of i)delete e[o]}clone(){return new Xn(Tl(this.value))}}function HE(t){const e=[];return ro(t.fields,((n,i)=>{const o=new Gt([n]);if(Pc(i)){const a=HE(i.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)})),new yr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n,i,o,a,u,d){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new sn(e,0,ke.min(),ke.min(),ke.min(),Xn.empty(),0)}static newFoundDocument(e,n,i,o){return new sn(e,1,n,ke.min(),i,o,0)}static newNoDocument(e,n){return new sn(e,2,n,ke.min(),ke.min(),Xn.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,ke.min(),ke.min(),Xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n){this.position=e,this.inclusive=n}}function Tw(t,e,n){let i=0;for(let o=0;o<t.position.length;o++){const a=e[o],u=t.position[o];if(a.field.isKeyField()?i=Te.comparator(Te.fromName(u.referenceValue),n.key):i=aa(u,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function xw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Jr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n="asc"){this.field=e,this.dir=n}}function hN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{}class Rt extends WE{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new fN(e,n,i):n==="array-contains"?new gN(e,i):n==="in"?new yN(e,i):n==="not-in"?new vN(e,i):n==="array-contains-any"?new wN(e,i):new Rt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new pN(e,i):new mN(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(aa(n,this.value)):n!==null&&cs(this.value)===cs(n)&&this.matchesComparison(aa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wr extends WE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new wr(e,n)}matches(e){return qE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qE(t){return t.op==="and"}function KE(t){return dN(t)&&qE(t)}function dN(t){for(const e of t.filters)if(e instanceof wr)return!1;return!0}function up(t){if(t instanceof Rt)return t.field.canonicalString()+t.op.toString()+la(t.value);if(KE(t))return t.filters.map((e=>up(e))).join(",");{const e=t.filters.map((n=>up(n))).join(",");return`${t.op}(${e})`}}function GE(t,e){return t instanceof Rt?(function(i,o){return o instanceof Rt&&i.op===o.op&&i.field.isEqual(o.field)&&Jr(i.value,o.value)})(t,e):t instanceof wr?(function(i,o){return o instanceof wr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((a,u,d)=>a&&GE(u,o.filters[d])),!0):!1})(t,e):void Ce(19439)}function QE(t){return t instanceof Rt?(function(n){return`${n.field.canonicalString()} ${n.op} ${la(n.value)}`})(t):t instanceof wr?(function(n){return n.op.toString()+" {"+n.getFilters().map(QE).join(" ,")+"}"})(t):"Filter"}class fN extends Rt{constructor(e,n,i){super(e,n,i),this.key=Te.fromName(i.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class pN extends Rt{constructor(e,n){super(e,"in",n),this.keys=YE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class mN extends Rt{constructor(e,n){super(e,"not-in",n),this.keys=YE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function YE(t,e){return(e.arrayValue?.values||[]).map((n=>Te.fromName(n.referenceValue)))}class gN extends Rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vm(n)&&jl(n.arrayValue,this.value)}}class yN extends Rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&jl(this.value.arrayValue,n)}}class vN extends Rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!jl(this.value.arrayValue,n)}}class wN extends Rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>jl(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,n=null,i=[],o=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=u,this.endAt=d,this.Te=null}}function Sw(t,e=null,n=[],i=[],o=null,a=null,u=null){return new _N(t,e,n,i,o,a,u)}function wm(t){const e=Ne(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>up(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(a){return a.field.canonicalString()+a.dir})(i))).join(","),hh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>la(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>la(i))).join(",")),e.Te=n}return e.Te}function _m(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!GE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xw(t.startAt,e.startAt)&&xw(t.endAt,e.endAt)}function cp(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,n=null,i=[],o=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function EN(t,e,n,i,o,a,u,d){return new wa(t,e,n,i,o,a,u,d)}function Em(t){return new wa(t)}function Iw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function XE(t){return t.collectionGroup!==null}function xl(t){const e=Ne(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Mt(Gt.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Fl(a,i))})),n.has(Gt.keyField().canonicalString())||e.Ie.push(new Fl(Gt.keyField(),i))}return e.Ie}function Kr(t){const e=Ne(t);return e.Ee||(e.Ee=TN(e,xl(t))),e.Ee}function TN(t,e){if(t.limitType==="F")return Sw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new Fl(o.field,a)}));const n=t.endAt?new Wc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Wc(t.startAt.position,t.startAt.inclusive):null;return Sw(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function hp(t,e){const n=t.filters.concat([e]);return new wa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function qc(t,e,n){return new wa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fh(t,e){return _m(Kr(t),Kr(e))&&t.limitType===e.limitType}function JE(t){return`${wm(Kr(t))}|lt:${t.limitType}`}function Wo(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((o=>QE(o))).join(", ")}]`),hh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((o=>la(o))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((o=>la(o))).join(",")),`Target(${i})`})(Kr(t))}; limitType=${t.limitType})`}function ph(t,e){return e.isFoundDocument()&&(function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Te.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)})(t,e)&&(function(i,o){for(const a of xl(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0})(t,e)&&(function(i,o){return!(i.startAt&&!(function(u,d,f){const p=Tw(u,d,f);return u.inclusive?p<=0:p<0})(i.startAt,xl(i),o)||i.endAt&&!(function(u,d,f){const p=Tw(u,d,f);return u.inclusive?p>=0:p>0})(i.endAt,xl(i),o))})(t,e)}function xN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ZE(t){return(e,n)=>{let i=!1;for(const o of xl(t)){const a=SN(o,e,n);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function SN(t,e,n){const i=t.field.isKeyField()?Te.comparator(e.key,n.key):(function(a,u,d){const f=u.data.field(a),p=d.data.field(a);return f!==null&&p!==null?aa(f,p):Ce(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ro(this.inner,((n,i)=>{for(const[o,a]of i)e(o,a)}))}isEmpty(){return LE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=new ft(Te.comparator);function Si(){return IN}const eT=new ft(Te.comparator);function fl(...t){let e=eT;for(const n of t)e=e.insert(n.key,n);return e}function tT(t){let e=eT;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function qs(){return Sl()}function nT(){return Sl()}function Sl(){return new io((t=>t.toString()),((t,e)=>t.isEqual(e)))}const AN=new ft(Te.comparator),CN=new Mt(Te.comparator);function Oe(...t){let e=CN;for(const n of t)e=e.add(n);return e}const RN=new Mt(Le);function PN(){return RN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zc(e)?"-0":e}}function rT(t){return{integerValue:""+t}}function kN(t,e){return rN(e)?rT(e):Tm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(){this._=void 0}}function bN(t,e,n){return t instanceof Bl?(function(o,a){const u={fields:{[FE]:{stringValue:jE},[UE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&ym(a)&&(a=dh(a)),a&&(u.fields[BE]=a),{mapValue:u}})(n,e):t instanceof Ul?sT(t,e):t instanceof zl?oT(t,e):(function(o,a){const u=iT(o,a),d=Aw(u)+Aw(o.Ae);return lp(u)&&lp(o.Ae)?rT(d):Tm(o.serializer,d)})(t,e)}function VN(t,e,n){return t instanceof Ul?sT(t,e):t instanceof zl?oT(t,e):n}function iT(t,e){return t instanceof Kc?(function(i){return lp(i)||(function(a){return!!a&&"doubleValue"in a})(i)})(e)?e:{integerValue:0}:null}class Bl extends mh{}class Ul extends mh{constructor(e){super(),this.elements=e}}function sT(t,e){const n=aT(e);for(const i of t.elements)n.some((o=>Jr(o,i)))||n.push(i);return{arrayValue:{values:n}}}class zl extends mh{constructor(e){super(),this.elements=e}}function oT(t,e){let n=aT(e);for(const i of t.elements)n=n.filter((o=>!Jr(o,i)));return{arrayValue:{values:n}}}class Kc extends mh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Aw(t){return _t(t.integerValue||t.doubleValue)}function aT(t){return vm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,n){this.field=e,this.transform=n}}function DN(t,e){return t.field.isEqual(e.field)&&(function(i,o){return i instanceof Ul&&o instanceof Ul||i instanceof zl&&o instanceof zl?oa(i.elements,o.elements,Jr):i instanceof Kc&&o instanceof Kc?Jr(i.Ae,o.Ae):i instanceof Bl&&o instanceof Bl})(t.transform,e.transform)}class MN{constructor(e,n){this.version=e,this.transformResults=n}}class yi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yi}static exists(e){return new yi(void 0,e)}static updateTime(e){return new yi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class gh{}function lT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new cT(t.key,yi.none()):new Jl(t.key,t.data,yi.none());{const n=t.data,i=Xn.empty();let o=new Mt(Gt.comparator);for(let a of e.fields)if(!o.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?i.delete(a):i.set(a,u),o=o.add(a)}return new so(t.key,i,new yr(o.toArray()),yi.none())}}function LN(t,e,n){t instanceof Jl?(function(o,a,u){const d=o.value.clone(),f=Rw(o.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):t instanceof so?(function(o,a,u){if(!kc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const d=Rw(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(uT(o)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):(function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Il(t,e,n,i){return t instanceof Jl?(function(a,u,d,f){if(!kc(a.precondition,u))return d;const p=a.value.clone(),y=Pw(a.fieldTransforms,f,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,i):t instanceof so?(function(a,u,d,f){if(!kc(a.precondition,u))return d;const p=Pw(a.fieldTransforms,f,u),y=u.data;return y.setAll(uT(a)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((g=>g.field)))})(t,e,n,i):(function(a,u,d){return kc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(t,e,n)}function ON(t,e){let n=null;for(const i of t.fieldTransforms){const o=e.data.field(i.field),a=iT(i.transform,o||null);a!=null&&(n===null&&(n=Xn.empty()),n.set(i.field,a))}return n||null}function Cw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&oa(i,o,((a,u)=>DN(a,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jl extends gh{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class so extends gh{constructor(e,n,i,o,a=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function uT(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function Rw(t,e,n){const i=new Map;Ke(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const a=t[o],u=a.transform,d=e.data.field(a.field);i.set(a.field,VN(u,d,n[o]))}return i}function Pw(t,e,n){const i=new Map;for(const o of t){const a=o.transform,u=n.data.field(o.field);i.set(o.field,bN(a,u,e))}return i}class cT extends gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jN extends gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&LN(a,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Il(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Il(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=nT();return this.mutations.forEach((o=>{const a=e.get(o.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=n.has(o.key)?null:d;const f=lT(u,d);f!==null&&i.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(ke.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Oe())}isEqual(e){return this.batchId===e.batchId&&oa(this.mutations,e.mutations,((n,i)=>Cw(n,i)))&&oa(this.baseMutations,e.baseMutations,((n,i)=>Cw(n,i)))}}class xm{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){Ke(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return AN})();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,i[u].version);return new xm(e,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,Ue;function zN(t){switch(t){case Q.OK:return Ce(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return Ce(15467,{code:t})}}function hT(t){if(t===void 0)return xi("GRPC error has no .code"),Q.UNKNOWN;switch(t){case At.OK:return Q.OK;case At.CANCELLED:return Q.CANCELLED;case At.UNKNOWN:return Q.UNKNOWN;case At.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case At.INTERNAL:return Q.INTERNAL;case At.UNAVAILABLE:return Q.UNAVAILABLE;case At.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case At.NOT_FOUND:return Q.NOT_FOUND;case At.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case At.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case At.ABORTED:return Q.ABORTED;case At.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case At.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case At.DATA_LOSS:return Q.DATA_LOSS;default:return Ce(39323,{code:t})}}(Ue=At||(At={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=new ns([4294967295,4294967295],0);function kw(t){const e=$N().encode(t),n=new IE;return n.update(e),new Uint8Array(n.digest())}function bw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ns([n,i],0),new ns([o,a],0)]}class Sm{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new pl(`Invalid padding: ${n}`);if(i<0)throw new pl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new pl(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new pl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ns.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(ns.fromNumber(i)));return o.compare(HN)===1&&(o=new ns([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=kw(e),[i,o]=bw(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(i,o,a);if(!this.we(u))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Sm(a,o,n);return i.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const n=kw(e),[i,o]=bw(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(i,o,a);this.Se(u)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n,i,o,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,Zl.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new yh(ke.min(),o,new ft(Le),Si(),Oe())}}class Zl{constructor(e,n,i,o,a){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Zl(i,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n,i,o){this.be=e,this.removedTargetIds=n,this.key=i,this.De=o}}class dT{constructor(e,n){this.targetId=e,this.Ce=n}}class fT{constructor(e,n,i=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class Vw{constructor(){this.ve=0,this.Fe=Nw(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Oe(),n=Oe(),i=Oe();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:Ce(38017,{changeType:a})}})),new Zl(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=Nw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class WN{constructor(e){this.Ge=e,this.ze=new Map,this.je=Si(),this.Je=wc(),this.He=wc(),this.Ye=new ft(Le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const a=o.target;if(cp(a))if(i===0){const u=new Te(a.path);this.et(n,u,sn.newNoDocument(u,ke.min()))}else Ke(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const d=this.ut(e),f=d?this.ct(d,e,u):1;if(f!==0){this.it(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=n;let u,d;try{u=us(i).toUint8Array()}catch(f){if(f instanceof OE)return sa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new Sm(u,o,a)}catch(f){return sa(f instanceof pl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach((a=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(n,a,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((a,u)=>{const d=this.ot(u);if(d){if(a.current&&cp(d.target)){const f=new Te(d.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,sn.newNoDocument(f,e))}a.Be&&(n.set(u,a.ke()),a.qe())}}));let i=Oe();this.He.forEach(((a,u)=>{let d=!0;u.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const o=new yh(e,n,this.Ye,this.je,i);return this.je=Si(),this.Je=wc(),this.He=wc(),this.Ye=new ft(Le),o}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Vw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Mt(Le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Mt(Le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Vw),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function wc(){return new ft(Te.comparator)}function Nw(){return new ft(Te.comparator)}const qN={asc:"ASCENDING",desc:"DESCENDING"},KN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GN={and:"AND",or:"OR"};class QN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dp(t,e){return t.useProto3Json||hh(e)?e:{value:e}}function Gc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function YN(t,e){return Gc(t,e.toTimestamp())}function Gr(t){return Ke(!!t,49232),ke.fromTimestamp((function(n){const i=ls(n);return new st(i.seconds,i.nanos)})(t))}function Im(t,e){return fp(t,e).canonicalString()}function fp(t,e){const n=(function(o){return new et(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function mT(t){const e=et.fromString(t);return Ke(_T(e),10190,{key:e.toString()}),e}function pp(t,e){return Im(t.databaseId,e.path)}function Tf(t,e){const n=mT(e);if(n.get(1)!==t.databaseId.projectId)throw new de(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(yT(n))}function gT(t,e){return Im(t.databaseId,e)}function XN(t){const e=mT(t);return e.length===4?et.emptyPath():yT(e)}function mp(t){return new et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yT(t){return Ke(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Dw(t,e,n){return{name:pp(t,e),fields:n.value.mapValue.fields}}function JN(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ce(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(p,y){return p.useProto3Json?(Ke(y===void 0||typeof y=="string",58123),Qt.fromBase64String(y||"")):(Ke(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Qt.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(p){const y=p.code===void 0?Q.UNKNOWN:hT(p.code);return new de(y,p.message||"")})(u);n=new fT(i,o,a,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Tf(t,i.document.name),a=Gr(i.document.updateTime),u=i.document.createTime?Gr(i.document.createTime):ke.min(),d=new Xn({mapValue:{fields:i.document.fields}}),f=sn.newFoundDocument(o,a,u,d),p=i.targetIds||[],y=i.removedTargetIds||[];n=new bc(p,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Tf(t,i.document),a=i.readTime?Gr(i.readTime):ke.min(),u=sn.newNoDocument(o,a),d=i.removedTargetIds||[];n=new bc([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Tf(t,i.document),a=i.removedTargetIds||[];n=new bc([],a,o,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,u=new UN(o,a),d=i.targetId;n=new dT(d,u)}}return n}function ZN(t,e){let n;if(e instanceof Jl)n={update:Dw(t,e.key,e.value)};else if(e instanceof cT)n={delete:pp(t,e.key)};else if(e instanceof so)n={update:Dw(t,e.key,e.data),updateMask:lD(e.fieldMask)};else{if(!(e instanceof jN))return Ce(16599,{Vt:e.type});n={verify:pp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(a,u){const d=u.transform;if(d instanceof Bl)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ul)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof zl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Kc)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Ce(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:YN(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ce(27497)})(t,e.precondition)),n}function eD(t,e){return t&&t.length>0?(Ke(e!==void 0,14353),t.map((n=>(function(o,a){let u=o.updateTime?Gr(o.updateTime):Gr(a);return u.isEqual(ke.min())&&(u=Gr(a)),new MN(u,o.transformResults||[])})(n,e)))):[]}function tD(t,e){return{documents:[gT(t,e.path)]}}function nD(t,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=gT(t,o);const a=(function(p){if(p.length!==0)return wT(wr.create(p,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const u=(function(p){if(p.length!==0)return p.map((y=>(function(E){return{field:qo(E.field),direction:sD(E.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const d=dp(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function rD(t){let e=XN(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){Ke(i===1,65062);const y=n.from[0];y.allDescendants?o=y.collectionId:e=e.child(y.collectionId)}let a=[];n.where&&(a=(function(g){const E=vT(g);return E instanceof wr&&KE(E)?E.getFilters():[E]})(n.where));let u=[];n.orderBy&&(u=(function(g){return g.map((E=>(function(D){return new Fl(Ko(D.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(E)))})(n.orderBy));let d=null;n.limit&&(d=(function(g){let E;return E=typeof g=="object"?g.value:g,hh(E)?null:E})(n.limit));let f=null;n.startAt&&(f=(function(g){const E=!!g.before,A=g.values||[];return new Wc(A,E)})(n.startAt));let p=null;return n.endAt&&(p=(function(g){const E=!g.before,A=g.values||[];return new Wc(A,E)})(n.endAt)),EN(e,o,u,a,d,"F",f,p)}function iD(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vT(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ko(n.unaryFilter.field);return Rt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Ko(n.unaryFilter.field);return Rt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ko(n.unaryFilter.field);return Rt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ko(n.unaryFilter.field);return Rt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Rt.create(Ko(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return wr.create(n.compositeFilter.filters.map((i=>vT(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(n.compositeFilter.op))})(t):Ce(30097,{filter:t})}function sD(t){return qN[t]}function oD(t){return KN[t]}function aD(t){return GN[t]}function qo(t){return{fieldPath:t.canonicalString()}}function Ko(t){return Gt.fromServerFormat(t.fieldPath)}function wT(t){return t instanceof Rt?(function(n){if(n.op==="=="){if(Ew(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NAN"}};if(_w(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ew(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NOT_NAN"}};if(_w(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(n.field),op:oD(n.op),value:n.value}}})(t):t instanceof wr?(function(n){const i=n.getFilters().map((o=>wT(o)));return i.length===1?i[0]:{compositeFilter:{op:aD(n.op),filters:i}}})(t):Ce(54877,{filter:t})}function lD(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function _T(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,i,o,a=ke.min(),u=ke.min(),d=Qt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.yt=e}}function cD(t){const e=rD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this.Cn=new dD}addToCollectionParentIndex(e,n){return this.Cn.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(as.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(as.min())}updateCollectionGroup(e,n,i){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class dD{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new Mt(et.comparator),a=!o.has(i);return this.index[n]=o.add(i),a}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Mt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ET=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(ET,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ua(0)}static cr(){return new ua(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="LruGarbageCollector",fD=1048576;function Ow([t,e],[n,i]){const o=Le(t,n);return o===0?Le(e,i):o}class pD{constructor(e){this.Ir=e,this.buffer=new Mt(Ow),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Ow(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mD{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(Lw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){va(n)?fe(Lw,"Ignoring IndexedDB error during garbage collection: ",n):await ya(n)}await this.Vr(3e5)}))}}class gD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return Y.resolve(ch.ce);const i=new pD(n);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(Mw)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mw):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,o,a,u,d,f,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),o=this.params.maximumSequenceNumbersToCollect):o=g,u=Date.now(),this.nthSequenceNumber(e,o)))).next((g=>(i=g,d=Date.now(),this.removeTargets(e,i,n)))).next((g=>(a=g,f=Date.now(),this.removeOrphanedDocuments(e,i)))).next((g=>(p=Date.now(),Ho()<=ze.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${o} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${g} documents in `+(p-f)+`ms
Total Duration: ${p-y}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:g}))))}}function yD(t,e){return new gD(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.changes=new io((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?Y.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(i!==null&&Il(i.mutation,o,yr.empty(),st.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Oe()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Oe()){const o=qs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,i).next((a=>{let u=fl();return a.forEach(((d,f)=>{u=u.insert(d,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=qs();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Oe())))}populateOverlays(e,n,i){const o=[];return i.forEach((a=>{n.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((u,d)=>{n.set(u,d)}))}))}computeViews(e,n,i,o){let a=Si();const u=Sl(),d=(function(){return Sl()})();return n.forEach(((f,p)=>{const y=i.get(p.key);o.has(p.key)&&(y===void 0||y.mutation instanceof so)?a=a.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),Il(y.mutation,p,y.mutation.getFieldMask(),st.now())):u.set(p.key,yr.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((p,y)=>u.set(p,y))),n.forEach(((p,y)=>d.set(p,new wD(y,u.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,n){const i=Sl();let o=new ft(((u,d)=>u-d)),a=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const d of u)d.keys().forEach((f=>{const p=n.get(f);if(p===null)return;let y=i.get(f)||yr.empty();y=d.applyToLocalView(p,y),i.set(f,y);const g=(o.get(d.batchId)||Oe()).add(f);o=o.insert(d.batchId,g)}))})).next((()=>{const u=[],d=o.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),p=f.key,y=f.value,g=nT();y.forEach((E=>{if(!a.has(E)){const A=lT(n.get(E),i.get(E));A!==null&&g.set(E,A),a=a.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,g))}return Y.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,o){return(function(u){return Te.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):XE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next((a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-a.size):Y.resolve(qs());let d=Ml,f=a;return u.next((p=>Y.forEach(p,((y,g)=>(d<g.largestBatchId&&(d=g.largestBatchId),a.get(y)?Y.resolve():this.remoteDocumentCache.getEntry(e,y).next((E=>{f=f.insert(y,E)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,f,p,Oe()))).next((y=>({batchId:d,changes:tT(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next((i=>{let o=fl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const a=n.collectionGroup;let u=fl();return this.indexManager.getCollectionParents(e,a).next((d=>Y.forEach(d,(f=>{const p=(function(g,E){return new wa(E,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,i,o).next((y=>{y.forEach(((g,E)=>{u=u.insert(g,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,a,o)))).next((u=>{a.forEach(((f,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,sn.newInvalidDocument(y)))}));let d=fl();return u.forEach(((f,p)=>{const y=a.get(f);y!==void 0&&Il(y.mutation,p,yr.empty(),st.now()),ph(n,p)&&(d=d.insert(f,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Y.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Gr(o.createTime)}})(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:cD(o.bundledQuery),readTime:Gr(o.readTime)}})(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this.overlays=new ft(Te.comparator),this.qr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const i=qs();return Y.forEach(n,(o=>this.getOverlay(e,o).next((a=>{a!==null&&i.set(o,a)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((o,a)=>{this.St(e,n,a)})),Y.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(i)),Y.resolve()}getOverlaysForCollection(e,n,i){const o=qs(),a=n.length+1,u=new Te(n.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>i&&o.set(f.getKey(),f)}return Y.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let a=new ft(((p,y)=>p-y));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let y=a.get(p.largestBatchId);y===null&&(y=qs(),a=a.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=qs(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,y)=>d.set(p,y))),!(d.size()>=o)););return Y.resolve(d)}St(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new BN(n,i));let a=this.qr.get(n);a===void 0&&(a=Oe(),this.qr.set(n,a)),this.qr.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(){this.Qr=new Mt(Ut.$r),this.Ur=new Mt(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new Ut(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new Ut(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new Te(new et([])),i=new Ut(n,e),o=new Ut(n,e+1),a=[];return this.Ur.forEachInRange([i,o],(u=>{this.Gr(u),a.push(u.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Te(new et([])),i=new Ut(n,e),o=new Ut(n,e+1);let a=Oe();return this.Ur.forEachInRange([i,o],(u=>{a=a.add(u.key)})),a}containsKey(e){const n=new Ut(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Te.comparator(e.key,n.key)||Le(e.Yr,n.Yr)}static Kr(e,n){return Le(e.Yr,n.Yr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(Ut.$r)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new FN(a,n,i,o);this.mutationQueue.push(u);for(const d of o)this.Zr=this.Zr.add(new Ut(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Y.resolve(u)}lookupMutationBatch(e,n){return Y.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.ei(i),a=o<0?0:o;return Y.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?gm:this.tr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Ut(n,0),o=new Ut(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([i,o],(u=>{const d=this.Xr(u.Yr);a.push(d)})),Y.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Mt(Le);return n.forEach((o=>{const a=new Ut(o,0),u=new Ut(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],(d=>{i=i.add(d.Yr)}))})),Y.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let a=i;Te.isDocumentKey(a)||(a=a.child(""));const u=new Ut(new Te(a),0);let d=new Mt(Le);return this.Zr.forEachWhile((f=>{const p=f.key.path;return!!i.isPrefixOf(p)&&(p.length===o&&(d=d.add(f.Yr)),!0)}),u),Y.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ke(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return Y.forEach(n.mutations,(o=>{const a=new Ut(o.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new Ut(n,0),o=this.Zr.firstAfterOrEqual(i);return Y.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.ri=e,this.docs=(function(){return new ft(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),a=o?o.size:0,u=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return Y.resolve(i?i.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let i=Si();return n.forEach((o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():sn.newInvalidDocument(o))})),Y.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let a=Si();const u=n.path,d=new Te(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:p,value:{document:y}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||ZV(JV(y),i)<=0||(o.has(y.key)||ph(n,y))&&(a=a.insert(y.key,y.mutableCopy()))}return Y.resolve(a)}getAllFromCollectionGroup(e,n,i,o){Ce(9500)}ii(e,n){return Y.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new AD(this)}getSize(e){return Y.resolve(this.size)}}class AD extends vD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),Y.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.persistence=e,this.si=new io((n=>wm(n)),_m),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.oi=0,this._i=new Am,this.targetCount=0,this.ai=ua.ur()}forEachTarget(e,n){return this.si.forEach(((i,o)=>n(o))),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),Y.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ua(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.Pr(n),Y.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,i){let o=0;const a=[];return this.si.forEach(((u,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),Y.waitFor(a).next((()=>o))}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return Y.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),Y.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach((u=>{a.push(o.markPotentiallyOrphaned(e,u))})),Y.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return Y.resolve(i)}containsKey(e,n){return Y.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n){this.ui={},this.overlays={},this.ci=new ch(0),this.li=!1,this.li=!0,this.hi=new xD,this.referenceDelegate=e(this),this.Pi=new CD(this),this.indexManager=new hD,this.remoteDocumentCache=(function(o){return new ID(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new uD(n),this.Ii=new ED(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new TD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new SD(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){fe("MemoryPersistence","Starting transaction:",e);const o=new RD(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ai(e,n){return Y.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class RD extends tN{constructor(e){super(),this.currentSequenceNumber=e}}class Cm{constructor(e){this.persistence=e,this.Ri=new Am,this.Vi=null}static mi(e){return new Cm(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),Y.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((a=>this.fi.add(a.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(i=>{const o=Te.fromPath(i);return this.gi(e,o).next((a=>{a||n.removeEntry(o,ke.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Y.or([()=>Y.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Qc{constructor(e,n){this.persistence=e,this.pi=new io((i=>iN(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=yD(this,n)}static mi(e,n){return new Qc(e,n)}Ei(){}di(e){return Y.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((o=>i+o))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return Y.forEach(this.pi,((i,o)=>this.br(e,i,o).next((a=>a?Y.resolve():n(o)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,n).next((d=>{d||(i++,a.removeEntry(u,ke.min()))})))).next((()=>a.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),Y.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rc(e.data.value)),n}br(e,n,i){return Y.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return Y.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=o}static As(e,n){let i=Oe(),o=Oe();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Rm(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Tb()?8:nN(_b())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const a={result:null};return this.ys(e,n).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ws(e,n,o,i).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new PD;return this.Ss(e,n,u).next((d=>{if(a.result=d,this.Vs)return this.bs(e,n,u,d.size)}))})).next((()=>a.result))}bs(e,n,i,o){return i.documentReadCount<this.fs?(Ho()<=ze.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Wo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(Ho()<=ze.DEBUG&&fe("QueryEngine","Query:",Wo(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(Ho()<=ze.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Wo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kr(n))):Y.resolve())}ys(e,n){if(Iw(n))return Y.resolve(null);let i=Kr(n);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=qc(n,null,"F"),i=Kr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((a=>{const u=Oe(...a);return this.ps.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,i).next((f=>{const p=this.Ds(n,d);return this.Cs(n,p,u,f.readTime)?this.ys(e,qc(n,null,"F")):this.vs(e,p,n,f)}))))})))))}ws(e,n,i,o){return Iw(n)||o.isEqual(ke.min())?Y.resolve(null):this.ps.getDocuments(e,i).next((a=>{const u=this.Ds(n,a);return this.Cs(n,u,i,o)?Y.resolve(null):(Ho()<=ze.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Wo(n)),this.vs(e,u,n,XV(o,Ml)).next((d=>d)))}))}Ds(e,n){let i=new Mt(ZE(e));return n.forEach(((o,a)=>{ph(e,a)&&(i=i.add(a))})),i}Cs(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,n,i){return Ho()<=ze.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Wo(n)),this.ps.getDocumentsMatchingQuery(e,n,as.min(),i)}vs(e,n,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((a=>(n.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="LocalStore",bD=3e8;class VD{constructor(e,n,i,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ft(Le),this.xs=new io((a=>wm(a)),_m),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _D(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function ND(t,e,n,i){return new VD(t,e,n,i)}async function xT(t,e){const n=Ne(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next((a=>(o=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((a=>{const u=[],d=[];let f=Oe();for(const p of o){u.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}for(const p of a){d.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}return n.localDocuments.getDocuments(i,f).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:d})))}))}))}function DD(t,e){const n=Ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,f,p,y){const g=p.batch,E=g.keys();let A=Y.resolve();return E.forEach((D=>{A=A.next((()=>y.getEntry(f,D))).next((j=>{const N=p.docVersions.get(D);Ke(N!==null,48541),j.version.compareTo(N)<0&&(g.applyToRemoteDocument(j,p),j.isValidDocument()&&(j.setReadTime(p.commitVersion),y.addEntry(j)))}))})),A.next((()=>d.mutationQueue.removeMutationBatch(f,g)))})(n,i,e,a).next((()=>a.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let f=Oe();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(f=f.add(d.batch.mutations[p].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(i,o)))}))}function ST(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function MD(t,e){const n=Ne(t),i=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const d=[];e.targetChanges.forEach(((y,g)=>{const E=o.get(g);if(!E)return;d.push(n.Pi.removeMatchingKeys(a,y.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(a,y.addedDocuments,g))));let A=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?A=A.withResumeToken(Qt.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,i)),o=o.insert(g,A),(function(j,N,F){return j.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=bD?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(E,A,y)&&d.push(n.Pi.updateTargetData(a,A))}));let f=Si(),p=Oe();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(a,y))})),d.push(LD(a,u,e.documentUpdates).next((y=>{f=y.ks,p=y.qs}))),!i.isEqual(ke.min())){const y=n.Pi.getLastRemoteSnapshotVersion(a).next((g=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,i)));d.push(y)}return Y.waitFor(d).next((()=>u.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,p))).next((()=>f))})).then((a=>(n.Ms=o,a)))}function LD(t,e,n){let i=Oe(),o=Oe();return n.forEach((a=>i=i.add(a))),e.getEntries(t,i).next((a=>{let u=Si();return n.forEach(((d,f)=>{const p=a.get(d);f.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(d)),f.isNoDocument()&&f.version.isEqual(ke.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):fe(Pm,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",f.version)})),{ks:u,qs:o}}))}function OD(t,e){const n=Ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=gm),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function jD(t,e){const n=Ne(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return n.Pi.getTargetData(i,e).next((a=>a?(o=a,Y.resolve(o)):n.Pi.allocateTargetId(i).next((u=>(o=new Zi(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=n.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function gp(t,e,n){const i=Ne(t),o=i.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,(u=>i.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!va(u))throw u;fe(Pm,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function jw(t,e,n){const i=Ne(t);let o=ke.min(),a=Oe();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,p,y){const g=Ne(f),E=g.xs.get(y);return E!==void 0?Y.resolve(g.Ms.get(E)):g.Pi.getTargetData(p,y)})(i,u,Kr(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,d.targetId).next((f=>{a=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,n?o:ke.min(),n?a:Oe()))).next((d=>(FD(i,xN(e),d),{documents:d,Qs:a})))))}function FD(t,e,n){let i=t.Os.get(e)||ke.min();n.forEach(((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)})),t.Os.set(e,i)}class Fw{constructor(){this.activeTargetIds=PN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BD{constructor(){this.Mo=new Fw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Fw,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="ConnectivityMonitor";class Uw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(Bw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(Bw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _c=null;function yp(){return _c===null?_c=(function(){return 268435456+Math.round(2147483648*Math.random())})():_c++,"0x"+_c.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf="RestConnection",zD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $D{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===$c?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,n,i,o,a){const u=yp(),d=this.zo(e,n.toUriEncodedString());fe(xf,`Sending RPC '${e}' ${u}:`,d,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,o,a);const{host:p}=new URL(d),y=um(p);return this.Jo(e,d,f,i,y).then((g=>(fe(xf,`Received RPC '${e}' ${u}: `,g),g)),(g=>{throw sa(xf,`RPC '${e}' ${u} failed with error: `,g,"url: ",d,"request:",i),g}))}Ho(e,n,i,o,a,u){return this.Go(e,n,i,o,a)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ga})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,a)=>e[a]=o)),i&&i.headers.forEach(((o,a)=>e[a]=o))}zo(e,n){const i=zD[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class WD extends $D{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,o,a){const u=yp();return new Promise(((d,f)=>{const p=new AE;p.setWithCredentials(!0),p.listenOnce(CE.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Cc.NO_ERROR:const g=p.getResponseJson();fe(nn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(g)),d(g);break;case Cc.TIMEOUT:fe(nn,`RPC '${e}' ${u} timed out`),f(new de(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Cc.HTTP_ERROR:const E=p.getStatus();if(fe(nn,`RPC '${e}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const D=A?.error;if(D&&D.status&&D.message){const j=(function(F){const W=F.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(W)>=0?W:Q.UNKNOWN})(D.status);f(new de(j,D.message))}else f(new de(Q.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new de(Q.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{fe(nn,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(o);fe(nn,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",y,i,15)}))}T_(e,n,i){const o=yp(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=kE(),d=PE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,i),f.encodeInitMessageHeaders=!0;const y=a.join("");fe(nn,`Creating RPC '${e}' stream ${o}: ${y}`,f);const g=u.createWebChannel(y,f);this.I_(g);let E=!1,A=!1;const D=new HD({Yo:N=>{A?fe(nn,`Not sending because RPC '${e}' stream ${o} is closed:`,N):(E||(fe(nn,`Opening RPC '${e}' stream ${o} transport.`),g.open(),E=!0),fe(nn,`RPC '${e}' stream ${o} sending:`,N),g.send(N))},Zo:()=>g.close()}),j=(N,F,W)=>{N.listen(F,(K=>{try{W(K)}catch(re){setTimeout((()=>{throw re}),0)}}))};return j(g,dl.EventType.OPEN,(()=>{A||(fe(nn,`RPC '${e}' stream ${o} transport opened.`),D.o_())})),j(g,dl.EventType.CLOSE,(()=>{A||(A=!0,fe(nn,`RPC '${e}' stream ${o} transport closed`),D.a_(),this.E_(g))})),j(g,dl.EventType.ERROR,(N=>{A||(A=!0,sa(nn,`RPC '${e}' stream ${o} transport errored. Name:`,N.name,"Message:",N.message),D.a_(new de(Q.UNAVAILABLE,"The operation could not be completed")))})),j(g,dl.EventType.MESSAGE,(N=>{if(!A){const F=N.data[0];Ke(!!F,16349);const W=F,K=W?.error||W[0]?.error;if(K){fe(nn,`RPC '${e}' stream ${o} received error:`,K);const re=K.status;let ne=(function(S){const C=At[S];if(C!==void 0)return hT(C)})(re),ie=K.message;ne===void 0&&(ne=Q.INTERNAL,ie="Unknown error status: "+re+" with message "+K.message),A=!0,D.a_(new de(ne,ie)),g.close()}else fe(nn,`RPC '${e}' stream ${o} received:`,F),D.u_(F)}})),j(d,RE.STAT_EVENT,(N=>{N.stat===sp.PROXY?fe(nn,`RPC '${e}' stream ${o} detected buffering proxy`):N.stat===sp.NOPROXY&&fe(nn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Sf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(t){return new QN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,n,i=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="PersistentStream";class AT{constructor(e,n,i,o,a,u,d,f){this.Mi=e,this.S_=i,this.b_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new IT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(xi(n.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===n&&this.G_(i,o)}),(i=>{e((()=>{const o=new de(Q.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(zw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(fe(zw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qD extends AT{constructor(e,n,i,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,u),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=JN(this.serializer,e),i=(function(a){if(!("targetChange"in a))return ke.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?ke.min():u.readTime?Gr(u.readTime):ke.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=mp(this.serializer),n.addTarget=(function(a,u){let d;const f=u.target;if(d=cp(f)?{documents:tD(a,f)}:{query:nD(a,f).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=pT(a,u.resumeToken);const p=dp(a,u.expectedCount);p!==null&&(d.expectedCount=p)}else if(u.snapshotVersion.compareTo(ke.min())>0){d.readTime=Gc(a,u.snapshotVersion.toTimestamp());const p=dp(a,u.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const i=iD(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=mp(this.serializer),n.removeTarget=e,this.q_(n)}}class KD extends AT{constructor(e,n,i,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=eD(e.writeResults,e.commitTime),i=Gr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=mp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>ZN(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{}class QD extends GD{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new de(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Go(e,fp(n,i),o,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new de(Q.UNKNOWN,a.toString())}))}Ho(e,n,i,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Ho(e,fp(n,i),o,u,d,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(Q.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class YD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xi(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="RemoteStore";class XD{constructor(e,n,i,o,a){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{oo(this)&&(fe(Zs,"Restarting streams for network reachability change."),await(async function(f){const p=Ne(f);p.Ea.add(4),await eu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await wh(p)})(this))}))})),this.Ra=new YD(i,o)}}async function wh(t){if(oo(t))for(const e of t.da)await e(!0)}async function eu(t){for(const e of t.da)await e(!1)}function CT(t,e){const n=Ne(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Nm(n)?Vm(n):_a(n).O_()&&bm(n,e))}function km(t,e){const n=Ne(t),i=_a(n);n.Ia.delete(e),i.O_()&&RT(n,e),n.Ia.size===0&&(i.O_()?i.L_():oo(n)&&n.Ra.set("Unknown"))}function bm(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_a(t).Y_(e)}function RT(t,e){t.Va.Ue(e),_a(t).Z_(e)}function Vm(t){t.Va=new WN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),_a(t).start(),t.Ra.ua()}function Nm(t){return oo(t)&&!_a(t).x_()&&t.Ia.size>0}function oo(t){return Ne(t).Ea.size===0}function PT(t){t.Va=void 0}async function JD(t){t.Ra.set("Online")}async function ZD(t){t.Ia.forEach(((e,n)=>{bm(t,e)}))}async function e4(t,e){PT(t),Nm(t)?(t.Ra.ha(e),Vm(t)):t.Ra.set("Unknown")}async function t4(t,e,n){if(t.Ra.set("Online"),e instanceof fT&&e.state===2&&e.cause)try{await(async function(o,a){const u=a.cause;for(const d of a.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,u),o.Ia.delete(d),o.Va.removeTarget(d))})(t,e)}catch(i){fe(Zs,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Yc(t,i)}else if(e instanceof bc?t.Va.Ze(e):e instanceof dT?t.Va.st(e):t.Va.tt(e),!n.isEqual(ke.min()))try{const i=await ST(t.localStore);n.compareTo(i)>=0&&await(function(a,u){const d=a.Va.Tt(u);return d.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const y=a.Ia.get(p);y&&a.Ia.set(p,y.withResumeToken(f.resumeToken,u))}})),d.targetMismatches.forEach(((f,p)=>{const y=a.Ia.get(f);if(!y)return;a.Ia.set(f,y.withResumeToken(Qt.EMPTY_BYTE_STRING,y.snapshotVersion)),RT(a,f);const g=new Zi(y.target,f,p,y.sequenceNumber);bm(a,g)})),a.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(i){fe(Zs,"Failed to raise snapshot:",i),await Yc(t,i)}}async function Yc(t,e,n){if(!va(e))throw e;t.Ea.add(1),await eu(t),t.Ra.set("Offline"),n||(n=()=>ST(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{fe(Zs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await wh(t)}))}function kT(t,e){return e().catch((n=>Yc(t,n,e)))}async function _h(t){const e=Ne(t),n=hs(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:gm;for(;n4(e);)try{const o=await OD(e.localStore,i);if(o===null){e.Ta.length===0&&n.L_();break}i=o.batchId,r4(e,o)}catch(o){await Yc(e,o)}bT(e)&&VT(e)}function n4(t){return oo(t)&&t.Ta.length<10}function r4(t,e){t.Ta.push(e);const n=hs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function bT(t){return oo(t)&&!hs(t).x_()&&t.Ta.length>0}function VT(t){hs(t).start()}async function i4(t){hs(t).ra()}async function s4(t){const e=hs(t);for(const n of t.Ta)e.ea(n.mutations)}async function o4(t,e,n){const i=t.Ta.shift(),o=xm.from(i,e,n);await kT(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await _h(t)}async function a4(t,e){e&&hs(t).X_&&await(async function(i,o){if((function(u){return zN(u)&&u!==Q.ABORTED})(o.code)){const a=i.Ta.shift();hs(i).B_(),await kT(i,(()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o))),await _h(i)}})(t,e),bT(t)&&VT(t)}async function $w(t,e){const n=Ne(t);n.asyncQueue.verifyOperationInProgress(),fe(Zs,"RemoteStore received new credentials");const i=oo(n);n.Ea.add(3),await eu(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await wh(n)}async function l4(t,e){const n=Ne(t);e?(n.Ea.delete(2),await wh(n)):e||(n.Ea.add(2),await eu(n),n.Ra.set("Unknown"))}function _a(t){return t.ma||(t.ma=(function(n,i,o){const a=Ne(n);return a.sa(),new qD(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Xo:JD.bind(null,t),t_:ZD.bind(null,t),r_:e4.bind(null,t),H_:t4.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Nm(t)?Vm(t):t.Ra.set("Unknown")):(await t.ma.stop(),PT(t))}))),t.ma}function hs(t){return t.fa||(t.fa=(function(n,i,o){const a=Ne(n);return a.sa(),new KD(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:i4.bind(null,t),r_:a4.bind(null,t),ta:s4.bind(null,t),na:o4.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await _h(t)):(await t.fa.stop(),t.Ta.length>0&&(fe(Zs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n,i,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,a){const u=Date.now()+i,d=new Dm(e,n,u,o,a);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mm(t,e){if(xi("AsyncQueue",`${e}: ${t}`),va(t))return new de(Q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{static emptySet(e){return new ea(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Te.comparator(n.key,i.key):(n,i)=>Te.comparator(n.key,i.key),this.keyedMap=fl(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ea)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new ea;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(){this.ga=new ft(Te.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class ca{constructor(e,n,i,o,a,u,d,f,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,o,a){const u=[];return n.forEach((d=>{u.push({type:0,doc:d})})),new ca(e,n,ea.emptySet(n),u,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class c4{constructor(){this.queries=Ww(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=Ne(n),a=o.queries;o.queries=Ww(),a.forEach(((u,d)=>{for(const f of d.Sa)f.onError(i)}))})(this,new de(Q.ABORTED,"Firestore shutting down"))}}function Ww(){return new io((t=>JE(t)),fh)}async function h4(t,e){const n=Ne(t);let i=3;const o=e.query;let a=n.queries.get(o);a?!a.ba()&&e.Da()&&(i=2):(a=new u4,i=e.Da()?0:1);try{switch(i){case 0:a.wa=await n.onListen(o,!0);break;case 1:a.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const d=Mm(u,`Initialization of query '${Wo(e.query)}' failed`);return void e.onError(d)}n.queries.set(o,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&Lm(n)}async function d4(t,e){const n=Ne(t),i=e.query;let o=3;const a=n.queries.get(i);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function f4(t,e){const n=Ne(t);let i=!1;for(const o of e){const a=o.query,u=n.queries.get(a);if(u){for(const d of u.Sa)d.Fa(o)&&(i=!0);u.wa=o}}i&&Lm(n)}function p4(t,e,n){const i=Ne(t),o=i.queries.get(e);if(o)for(const a of o.Sa)a.onError(n);i.queries.delete(e)}function Lm(t){t.Ca.forEach((e=>{e.next()}))}var vp,qw;(qw=vp||(vp={})).Ma="default",qw.Cache="cache";class m4{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ca(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e){this.key=e}}class DT{constructor(e){this.key=e}}class g4{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Oe(),this.mutatedKeys=Oe(),this.eu=ZE(e),this.tu=new ea(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new Hw,o=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,u=o,d=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((y,g)=>{const E=o.get(y),A=ph(this.query,g)?g:null,D=!!E&&this.mutatedKeys.has(E.key),j=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let N=!1;E&&A?E.data.isEqual(A.data)?D!==j&&(i.track({type:3,doc:A}),N=!0):this.su(E,A)||(i.track({type:2,doc:A}),N=!0,(f&&this.eu(A,f)>0||p&&this.eu(A,p)<0)&&(d=!0)):!E&&A?(i.track({type:0,doc:A}),N=!0):E&&!A&&(i.track({type:1,doc:E}),N=!0,(f||p)&&(d=!0)),N&&(A?(u=u.add(A),a=j?a.add(y):a.delete(y)):(u=u.delete(y),a=a.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),a=a.delete(y.key),i.track({type:1,doc:y})}return{tu:u,iu:i,Cs:d,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,g)=>(function(A,D){const j=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:N})}};return j(A)-j(D)})(y.type,g.type)||this.eu(y.doc,g.doc))),this.ou(i),o=o??!1;const d=n&&!o?this._u():[],f=this.Xa.size===0&&this.current&&!o?1:0,p=f!==this.Za;return this.Za=f,u.length!==0||p?{snapshot:new ca(this.query,e.tu,a,u,e.mutatedKeys,f===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Hw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Oe(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new DT(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new NT(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Oe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ca.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Om="SyncEngine";class y4{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class v4{constructor(e){this.key=e,this.hu=!1}}class w4{constructor(e,n,i,o,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new io((d=>JE(d)),fh),this.Iu=new Map,this.Eu=new Set,this.du=new ft(Te.comparator),this.Au=new Map,this.Ru=new Am,this.Vu={},this.mu=new Map,this.fu=ua.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _4(t,e,n=!0){const i=BT(t);let o;const a=i.Tu.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await MT(i,e,n,!0),o}async function E4(t,e){const n=BT(t);await MT(n,e,!0,!1)}async function MT(t,e,n,i){const o=await jD(t.localStore,Kr(e)),a=o.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let d;return i&&(d=await T4(t,e,a,u==="current",o.resumeToken)),t.isPrimaryClient&&n&&CT(t.remoteStore,o),d}async function T4(t,e,n,i,o){t.pu=(g,E,A)=>(async function(j,N,F,W){let K=N.view.ru(F);K.Cs&&(K=await jw(j.localStore,N.query,!1).then((({documents:k})=>N.view.ru(k,K))));const re=W&&W.targetChanges.get(N.targetId),ne=W&&W.targetMismatches.get(N.targetId)!=null,ie=N.view.applyChanges(K,j.isPrimaryClient,re,ne);return Gw(j,N.targetId,ie.au),ie.snapshot})(t,g,E,A);const a=await jw(t.localStore,e,!0),u=new g4(e,a.Qs),d=u.ru(a.documents),f=Zl.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",o),p=u.applyChanges(d,t.isPrimaryClient,f);Gw(t,n,p.au);const y=new y4(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function x4(t,e,n){const i=Ne(t),o=i.Tu.get(e),a=i.Iu.get(o.targetId);if(a.length>1)return i.Iu.set(o.targetId,a.filter((u=>!fh(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await gp(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),n&&km(i.remoteStore,o.targetId),wp(i,o.targetId)})).catch(ya)):(wp(i,o.targetId),await gp(i.localStore,o.targetId,!0))}async function S4(t,e){const n=Ne(t),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),km(n.remoteStore,i.targetId))}async function I4(t,e,n){const i=V4(t);try{const o=await(function(u,d){const f=Ne(u),p=st.now(),y=d.reduce(((A,D)=>A.add(D.key)),Oe());let g,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let D=Si(),j=Oe();return f.Ns.getEntries(A,y).next((N=>{D=N,D.forEach(((F,W)=>{W.isValidDocument()||(j=j.add(F))}))})).next((()=>f.localDocuments.getOverlayedDocuments(A,D))).next((N=>{g=N;const F=[];for(const W of d){const K=ON(W,g.get(W.key).overlayedDocument);K!=null&&F.push(new so(W.key,K,HE(K.value.mapValue),yi.exists(!0)))}return f.mutationQueue.addMutationBatch(A,p,F,d)})).next((N=>{E=N;const F=N.applyToLocalDocumentSet(g,j);return f.documentOverlayCache.saveOverlays(A,N.batchId,F)}))})).then((()=>({batchId:E.batchId,changes:tT(g)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(u,d,f){let p=u.Vu[u.currentUser.toKey()];p||(p=new ft(Le)),p=p.insert(d,f),u.Vu[u.currentUser.toKey()]=p})(i,o.batchId,n),await tu(i,o.changes),await _h(i.remoteStore)}catch(o){const a=Mm(o,"Failed to persist write");n.reject(a)}}async function LT(t,e){const n=Ne(t);try{const i=await MD(n.localStore,e);e.targetChanges.forEach(((o,a)=>{const u=n.Au.get(a);u&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?Ke(u.hu,14607):o.removedDocuments.size>0&&(Ke(u.hu,42227),u.hu=!1))})),await tu(n,i,e)}catch(i){await ya(i)}}function Kw(t,e,n){const i=Ne(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach(((a,u)=>{const d=u.view.va(e);d.snapshot&&o.push(d.snapshot)})),(function(u,d){const f=Ne(u);f.onlineState=d;let p=!1;f.queries.forEach(((y,g)=>{for(const E of g.Sa)E.va(d)&&(p=!0)})),p&&Lm(f)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function A4(t,e,n){const i=Ne(t);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),a=o&&o.key;if(a){let u=new ft(Te.comparator);u=u.insert(a,sn.newNoDocument(a,ke.min()));const d=Oe().add(a),f=new yh(ke.min(),new Map,new ft(Le),u,d);await LT(i,f),i.du=i.du.remove(a),i.Au.delete(e),jm(i)}else await gp(i.localStore,e,!1).then((()=>wp(i,e,n))).catch(ya)}async function C4(t,e){const n=Ne(t),i=e.batch.batchId;try{const o=await DD(n.localStore,e);jT(n,i,null),OT(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await tu(n,o)}catch(o){await ya(o)}}async function R4(t,e,n){const i=Ne(t);try{const o=await(function(u,d){const f=Ne(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return f.mutationQueue.lookupMutationBatch(p,d).next((g=>(Ke(g!==null,37113),y=g.keys(),f.mutationQueue.removeMutationBatch(p,g)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,y,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>f.localDocuments.getDocuments(p,y)))}))})(i.localStore,e);jT(i,e,n),OT(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await tu(i,o)}catch(o){await ya(o)}}function OT(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function jT(t,e,n){const i=Ne(t);let o=i.Vu[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(n?a.reject(n):a.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function wp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||FT(t,i)}))}function FT(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(km(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),jm(t))}function Gw(t,e,n){for(const i of n)i instanceof NT?(t.Ru.addReference(i.key,e),P4(t,i)):i instanceof DT?(fe(Om,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||FT(t,i.key)):Ce(19791,{wu:i})}function P4(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(fe(Om,"New document in limbo: "+n),t.Eu.add(i),jm(t))}function jm(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Te(et.fromString(e)),i=t.fu.next();t.Au.set(i,new v4(n)),t.du=t.du.insert(n,i),CT(t.remoteStore,new Zi(Kr(Em(n.path)),i,"TargetPurposeLimboResolution",ch.ce))}}async function tu(t,e,n){const i=Ne(t),o=[],a=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,f)=>{u.push(i.pu(f,e,n).then((p=>{if((p||n)&&i.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(p){o.push(p);const y=Rm.As(f.targetId,p);a.push(y)}})))})),await Promise.all(u),i.Pu.H_(o),await(async function(f,p){const y=Ne(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>Y.forEach(p,(E=>Y.forEach(E.Es,(A=>y.persistence.referenceDelegate.addReference(g,E.targetId,A))).next((()=>Y.forEach(E.ds,(A=>y.persistence.referenceDelegate.removeReference(g,E.targetId,A)))))))))}catch(g){if(!va(g))throw g;fe(Pm,"Failed to update sequence numbers: "+g)}for(const g of p){const E=g.targetId;if(!g.fromCache){const A=y.Ms.get(E),D=A.snapshotVersion,j=A.withLastLimboFreeSnapshotVersion(D);y.Ms=y.Ms.insert(E,j)}}})(i.localStore,a))}async function k4(t,e){const n=Ne(t);if(!n.currentUser.isEqual(e)){fe(Om,"User change. New user:",e.toKey());const i=await xT(n.localStore,e);n.currentUser=e,(function(a,u){a.mu.forEach((d=>{d.forEach((f=>{f.reject(new de(Q.CANCELLED,u))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await tu(n,i.Ls)}}function b4(t,e){const n=Ne(t),i=n.Au.get(e);if(i&&i.hu)return Oe().add(i.key);{let o=Oe();const a=n.Iu.get(e);if(!a)return o;for(const u of a){const d=n.Tu.get(u);o=o.unionWith(d.view.nu)}return o}}function BT(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=LT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=b4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=A4.bind(null,e),e.Pu.H_=f4.bind(null,e.eventManager),e.Pu.yu=p4.bind(null,e.eventManager),e}function V4(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=C4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=R4.bind(null,e),e}class Xc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ND(this.persistence,new kD,e.initialUser,this.serializer)}Cu(e){return new TT(Cm.mi,this.serializer)}Du(e){return new BD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xc.provider={build:()=>new Xc};class N4 extends Xc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof Qc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new mD(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new TT((i=>Qc.mi(i,n)),this.serializer)}}class _p{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Kw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=k4.bind(null,this.syncEngine),await l4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new c4})()}createDatastore(e){const n=vh(e.databaseInfo.databaseId),i=(function(a){return new WD(a)})(e.databaseInfo);return(function(a,u,d,f){return new QD(a,u,d,f)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,o,a,u,d){return new XD(i,o,a,u,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>Kw(this.syncEngine,n,0)),(function(){return Uw.v()?new Uw:new UD})())}createSyncEngine(e,n){return(function(o,a,u,d,f,p,y){const g=new w4(o,a,u,d,f,p);return y&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Ne(n);fe(Zs,"RemoteStore shutting down."),i.Ea.add(5),await eu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_p.provider={build:()=>new _p};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="FirestoreClient";class M4{constructor(e,n,i,o,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=mm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,(async u=>{fe(ds,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(fe(ds,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Mm(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function If(t,e){t.asyncQueue.verifyOperationInProgress(),fe(ds,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async o=>{i.isEqual(o)||(await xT(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Qw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await L4(t);fe(ds,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>$w(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,o)=>$w(e.remoteStore,o))),t._onlineComponents=e}async function L4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(ds,"Using user provided OfflineComponentProvider");try{await If(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Q.FAILED_PRECONDITION||o.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;sa("Error using user provided cache. Falling back to memory cache: "+n),await If(t,new Xc)}}else fe(ds,"Using default OfflineComponentProvider"),await If(t,new N4(void 0));return t._offlineComponents}async function UT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(ds,"Using user provided OnlineComponentProvider"),await Qw(t,t._uninitializedComponentsProvider._online)):(fe(ds,"Using default OnlineComponentProvider"),await Qw(t,new _p))),t._onlineComponents}function O4(t){return UT(t).then((e=>e.syncEngine))}async function Yw(t){const e=await UT(t),n=e.eventManager;return n.onListen=_4.bind(null,e.syncEngine),n.onUnlisten=x4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=E4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=S4.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="firestore.googleapis.com",Jw=!0;class Zw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$T,this.ssl=Jw}else this.host=e.host,this.ssl=e.ssl??Jw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ET;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fD)throw new de(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zT(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new de(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new de(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new de(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Eh{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new FV;switch(i.type){case"firstParty":return new $V(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new de(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=Xw.get(n);i&&(fe("ComponentProvider","Removing Datastore"),Xw.delete(n),i.terminate())})(this),Promise.resolve()}}function j4(t,e,n,i={}){t=El(t,Eh);const o=um(e),a=t._getSettings(),u={...a,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;o&&(mb(`https://${d}`),wb("Firestore",!0)),a.host!==$T&&a.host!==d&&sa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:d,ssl:o,emulatorOptions:i};if(!Nl(f,u)&&(t._setSettings(f),i.mockUserToken)){let p,y;if(typeof i.mockUserToken=="string")p=i.mockUserToken,y=rn.MOCK_USER;else{p=gb(i.mockUserToken,t._app?.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new de(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new rn(g)}t._authCredentials=new BV(new VE(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ms(this.firestore,e,this._query)}}class Dt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}toJSON(){return{type:Dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Xl(n,Dt._jsonSchema))return new Dt(e,i||null,new Te(et.fromString(n.referencePath)))}}Dt._jsonSchemaVersion="firestore/documentReference/1.0",Dt._jsonSchema={type:Pt("string",Dt._jsonSchemaVersion),referencePath:Pt("string")};class rs extends ms{constructor(e,n,i){super(e,n,Em(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new Te(e))}withConverter(e){return new rs(this.firestore,e,this._path)}}function HT(t,e,...n){if(t=Xr(t),NE("collection","path",e),t instanceof Eh){const i=et.fromString(e,...n);return hw(i),new rs(t,null,i)}{if(!(t instanceof Dt||t instanceof rs))throw new de(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(et.fromString(e,...n));return hw(i),new rs(t.firestore,null,i)}}function F4(t,e,...n){if(t=Xr(t),arguments.length===1&&(e=mm.newId()),NE("doc","path",e),t instanceof Eh){const i=et.fromString(e,...n);return cw(i),new Dt(t,null,new Te(i))}{if(!(t instanceof Dt||t instanceof rs))throw new de(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(et.fromString(e,...n));return cw(i),new Dt(t.firestore,t instanceof rs?t.converter:null,new Te(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="AsyncQueue";class t_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new IT(this,"async_queue_retry"),this._c=()=>{const i=Sf();i&&fe(e_,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Sf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Sf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ys;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!va(e))throw e;fe(e_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,xi("INTERNAL UNHANDLED ERROR: ",n_(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Dm.createAndSchedule(this,e,n,i,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&Ce(47125,{Pc:n_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function n_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const o=n;for(const a of i)if(a in o&&typeof o[a]=="function")return!0;return!1})(t,["next","error","complete"])}class Jc extends Eh{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new t_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new t_(e),this._firestoreClient=void 0,await e}}}function B4(t,e){const n=typeof t=="object"?t:TE(),i=typeof t=="string"?t:$c,o=Yl(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=fb("firestore");a&&j4(o,...a)}return o}function WT(t){if(t._terminated)throw new de(Q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||U4(t),t._firestoreClient}function U4(t){const e=t._freezeSettings(),n=(function(o,a,u,d){return new aN(o,a,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,zT(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new M4(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(o){const a=o?._online.build();return{_offline:o?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jn(Qt.fromBase64String(e))}catch(n){throw new de(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jn(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xl(e,Jn._jsonSchema))return Jn.fromBase64String(e.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:Pt("string",Jn._jsonSchemaVersion),bytes:Pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qr._jsonSchemaVersion}}static fromJSON(e){if(Xl(e,Qr._jsonSchema))return new Qr(e.latitude,e.longitude)}}Qr._jsonSchemaVersion="firestore/geoPoint/1.0",Qr._jsonSchema={type:Pt("string",Qr._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Yr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xl(e,Yr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Yr(e.vectorValues);throw new de(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yr._jsonSchemaVersion="firestore/vectorValue/1.0",Yr._jsonSchema={type:Pt("string",Yr._jsonSchemaVersion),vectorValues:Pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=/^__.*__$/;class $4{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new so(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jl(e,this.data,n,this.fieldTransforms)}}function qT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:t})}}class Um{constructor(e,n,i,o,a,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Um({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Zc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(qT(this.Ac)&&z4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class H4{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||vh(e)}Cc(e,n,i,o=!1){return new Um({Ac:e,methodName:n,Dc:i,path:Gt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function KT(t){const e=t._freezeSettings(),n=vh(t._databaseId);return new H4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function W4(t,e,n,i,o,a={}){const u=t.Cc(a.merge||a.mergeFields?2:0,e,n,o);YT("Data must be an object, but it was:",u,i);const d=GT(i,u);let f,p;if(a.merge)f=new yr(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const y=[];for(const g of a.mergeFields){const E=K4(e,g,n);if(!u.contains(E))throw new de(Q.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);Q4(y,E)||y.push(E)}f=new yr(y),p=u.fieldTransforms.filter((g=>f.covers(g.field)))}else f=null,p=u.fieldTransforms;return new $4(new Xn(d),f,p)}class zm extends Bm{_toFieldTransform(e){return new NN(e.path,new Bl)}isEqual(e){return e instanceof zm}}function q4(t,e,n,i=!1){return $m(n,t.Cc(i?4:3,e))}function $m(t,e){if(QT(t=Xr(t)))return YT("Unsupported field value:",e,t),GT(t,e);if(t instanceof Bm)return(function(i,o){if(!qT(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const a=[];let u=0;for(const d of i){let f=$m(d,o.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(t,e)}return(function(i,o){if((i=Xr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return kN(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=st.fromDate(i);return{timestampValue:Gc(o.serializer,a)}}if(i instanceof st){const a=new st(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Gc(o.serializer,a)}}if(i instanceof Qr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Jn)return{bytesValue:pT(o.serializer,i._byteString)};if(i instanceof Dt){const a=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Im(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Yr)return(function(u,d){return{mapValue:{fields:{[zE]:{stringValue:$E},[Hc]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return Tm(d.serializer,p)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${uh(i)}`)})(t,e)}function GT(t,e){const n={};return LE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ro(t,((i,o)=>{const a=$m(o,e.mc(i));a!=null&&(n[i]=a)})),{mapValue:{fields:n}}}function QT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof Qr||t instanceof Jn||t instanceof Dt||t instanceof Bm||t instanceof Yr)}function YT(t,e,n){if(!QT(n)||!DE(n)){const i=uh(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function K4(t,e,n){if((e=Xr(e))instanceof Fm)return e._internalPath;if(typeof e=="string")return XT(t,e);throw Zc("Field path arguments must be of type string or ",t,!1,void 0,n)}const G4=new RegExp("[~\\*/\\[\\]]");function XT(t,e,n){if(e.search(G4)>=0)throw Zc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fm(...e.split("."))._internalPath}catch{throw Zc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zc(t,e,n,i,o){const a=i&&!i.isEmpty(),u=o!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${i}`),u&&(f+=` in document ${o}`),f+=")"),new de(Q.INVALID_ARGUMENT,d+t+f)}function Q4(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n,i,o,a){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Y4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Hm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Y4 extends JT{data(){return super.data()}}function Hm(t,e){return typeof e=="string"?XT(t,e):e instanceof Fm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wm{}class qm extends Wm{}function J4(t,e,...n){let i=[];e instanceof Wm&&i.push(e),i=i.concat(n),(function(a){const u=a.filter((f=>f instanceof Gm)).length,d=a.filter((f=>f instanceof Km)).length;if(u>1||u>0&&d>0)throw new de(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)t=o._apply(t);return t}class Km extends qm{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Km(e,n,i)}_apply(e){const n=this._parse(e);return ZT(e._query,n),new ms(e.firestore,e.converter,hp(e._query,n))}_parse(e){const n=KT(e.firestore);return(function(a,u,d,f,p,y,g){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new de(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){s_(g,y);const D=[];for(const j of g)D.push(i_(f,a,j));E={arrayValue:{values:D}}}else E=i_(f,a,g)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||s_(g,y),E=q4(d,u,g,y==="in"||y==="not-in");return Rt.create(p,y,E)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Gm extends Wm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Gm(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:wr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,a){let u=o;const d=a.getFlattenedFilters();for(const f of d)ZT(u,f),u=hp(u,f)})(e._query,n),new ms(e.firestore,e.converter,hp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Qm extends qm{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Qm(e,n)}_apply(e){const n=(function(o,a,u){if(o.startAt!==null)throw new de(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new de(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fl(a,u)})(e._query,this._field,this._direction);return new ms(e.firestore,e.converter,(function(o,a){const u=o.explicitOrderBy.concat([a]);return new wa(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function Z4(t,e="asc"){const n=e,i=Hm("orderBy",t);return Qm._create(i,n)}class Ym extends qm{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new Ym(e,n,i)}_apply(e){return new ms(e.firestore,e.converter,qc(e._query,this._limit,this._limitType))}}function eM(t){return YV("limit",t),Ym._create("limit",t,"F")}function i_(t,e,n){if(typeof(n=Xr(n))=="string"){if(n==="")throw new de(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XE(e)&&n.indexOf("/")!==-1)throw new de(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(et.fromString(n));if(!Te.isDocumentKey(i))throw new de(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return ww(t,new Te(i))}if(n instanceof Dt)return ww(t,n._key);throw new de(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uh(n)}.`)}function s_(t,e){if(!Array.isArray(t)||t.length===0)throw new de(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZT(t,e){const n=(function(o,a){for(const u of o)for(const d of u.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class tM{convertValue(e,n="none"){switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return ro(e,((o,a)=>{i[o]=this.convertValue(a,n)})),i}convertVectorValue(e){const n=e.fields?.[Hc].arrayValue?.values?.map((i=>_t(i.doubleValue)));return new Yr(n)}convertGeoPoint(e){return new Qr(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=dh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ll(e));default:return null}}convertTimestamp(e){const n=ls(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=et.fromString(e);Ke(_T(i),9688,{name:e});const o=new Ol(i.get(1),i.get(3)),a=new Te(i.popFirst(5));return o.isEqual(n)||xi(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class ml{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xs extends JT{constructor(e,n,i,o,a,u){super(e,n,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Hm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xs._jsonSchema={type:Pt("string",Xs._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Vc extends Xs{data(e={}){return super.data(e)}}class ta{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ml(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Vc(this._firestore,this._userDataWriter,i.key,i,new ml(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((d=>{const f=new Vc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new ml(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const f=new Vc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new ml(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,y=-1;return d.type!==0&&(p=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),y=u.indexOf(d.doc.key)),{type:rM(d.type),doc:f,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ta._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=mm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function rM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:t})}}ta._jsonSchemaVersion="firestore/querySnapshot/1.0",ta._jsonSchema={type:Pt("string",ta._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class ex extends tM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,n)}}function iM(t,e){const n=El(t.firestore,Jc),i=F4(t),o=nM(t.converter,e);return oM(n,[W4(KT(t.firestore),"addDoc",i._key,o,t.converter!==null,{}).toMutation(i._key,yi.exists(!1))]).then((()=>i))}function sM(t,...e){t=Xr(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||r_(e[i])||(n=e[i++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(r_(e[i])){const f=e[i];e[i]=f.next?.bind(f),e[i+1]=f.error?.bind(f),e[i+2]=f.complete?.bind(f)}let a,u,d;if(t instanceof Dt)u=El(t.firestore,Jc),d=Em(t._key.path),a={next:f=>{e[i]&&e[i](aM(u,t,f))},error:e[i+1],complete:e[i+2]};else{const f=El(t,ms);u=El(f.firestore,Jc),d=f._query;const p=new ex(u);a={next:y=>{e[i]&&e[i](new ta(u,p,f,y))},error:e[i+1],complete:e[i+2]},X4(t._query)}return(function(p,y,g,E){const A=new D4(E),D=new m4(y,A,g);return p.asyncQueue.enqueueAndForget((async()=>h4(await Yw(p),D))),()=>{A.Nu(),p.asyncQueue.enqueueAndForget((async()=>d4(await Yw(p),D)))}})(WT(u),d,o,a)}function oM(t,e){return(function(i,o){const a=new Ys;return i.asyncQueue.enqueueAndForget((async()=>I4(await O4(i),o,a))),a.promise})(WT(t),e)}function aM(t,e,n){const i=n.docs.get(e._key),o=new ex(t);return new Xs(t,o,e._key,i,new ml(n.hasPendingWrites,n.fromCache),e.converter)}function lM(){return new zm("serverTimestamp")}(function(e,n=!0){(function(o){ga=o})(RV),os(new Ei("firestore",((i,{instanceIdentifier:o,options:a})=>{const u=i.getProvider("app").getImmediate(),d=new Jc(new UV(i.getProvider("auth-internal")),new HV(u,i.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new de(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(p.options.projectId,y)})(u,o),u);return a={useFetchStreams:n,...a},d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),qr(ow,aw,e),qr(ow,aw,"esm2020")})();var uM="firebase",cM="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr(uM,cM,"app");const tx="@firebase/installations",Xm="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=1e4,rx=`w:${Xm}`,ix="FIS_v2",hM="https://firebaseinstallations.googleapis.com/v1",dM=3600*1e3,fM="installations",pM="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},eo=new lh(fM,pM,mM);function sx(t){return t instanceof ps&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox({projectId:t}){return`${hM}/projects/${t}/installations`}function ax(t){return{token:t.token,requestStatus:2,expiresIn:yM(t.expiresIn),creationTime:Date.now()}}async function lx(t,e){const i=(await e.json()).error;return eo.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function ux({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function gM(t,{refreshToken:e}){const n=ux(t);return n.append("Authorization",vM(e)),n}async function cx(t){const e=await t();return e.status>=500&&e.status<600?t():e}function yM(t){return Number(t.replace("s","000"))}function vM(t){return`${ix} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wM({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=ox(t),o=ux(t),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const u={fid:n,authVersion:ix,appId:t.appId,sdkVersion:rx},d={method:"POST",headers:o,body:JSON.stringify(u)},f=await cx(()=>fetch(i,d));if(f.ok){const p=await f.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:ax(p.authToken)}}else throw await lx("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=/^[cdef][\w-]{21}$/,Ep="";function TM(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=xM(t);return EM.test(n)?n:Ep}catch{return Ep}}function xM(t){return _M(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=new Map;function fx(t,e){const n=Th(t);px(n,e),SM(n,e)}function px(t,e){const n=dx.get(t);if(n)for(const i of n)i(e)}function SM(t,e){const n=IM();n&&n.postMessage({key:t,fid:e}),AM()}let Ks=null;function IM(){return!Ks&&"BroadcastChannel"in self&&(Ks=new BroadcastChannel("[Firebase] FID Change"),Ks.onmessage=t=>{px(t.data.key,t.data.fid)}),Ks}function AM(){dx.size===0&&Ks&&(Ks.close(),Ks=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM="firebase-installations-database",RM=1,to="firebase-installations-store";let Af=null;function Jm(){return Af||(Af=_E(CM,RM,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(to)}}})),Af}async function eh(t,e){const n=Th(t),o=(await Jm()).transaction(to,"readwrite"),a=o.objectStore(to),u=await a.get(n);return await a.put(e,n),await o.done,(!u||u.fid!==e.fid)&&fx(t,e.fid),e}async function mx(t){const e=Th(t),i=(await Jm()).transaction(to,"readwrite");await i.objectStore(to).delete(e),await i.done}async function xh(t,e){const n=Th(t),o=(await Jm()).transaction(to,"readwrite"),a=o.objectStore(to),u=await a.get(n),d=e(u);return d===void 0?await a.delete(n):await a.put(d,n),await o.done,d&&(!u||u.fid!==d.fid)&&fx(t,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zm(t){let e;const n=await xh(t.appConfig,i=>{const o=PM(i),a=kM(t,o);return e=a.registrationPromise,a.installationEntry});return n.fid===Ep?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function PM(t){const e=t||{fid:TM(),registrationStatus:0};return gx(e)}function kM(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(eo.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=bM(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:VM(t)}:{installationEntry:e}}async function bM(t,e){try{const n=await wM(t,e);return eh(t.appConfig,n)}catch(n){throw sx(n)&&n.customData.serverCode===409?await mx(t.appConfig):await eh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function VM(t){let e=await o_(t.appConfig);for(;e.registrationStatus===1;)await hx(100),e=await o_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Zm(t);return i||n}return e}function o_(t){return xh(t,e=>{if(!e)throw eo.create("installation-not-found");return gx(e)})}function gx(t){return NM(t)?{fid:t.fid,registrationStatus:0}:t}function NM(t){return t.registrationStatus===1&&t.registrationTime+nx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DM({appConfig:t,heartbeatServiceProvider:e},n){const i=MM(t,n),o=gM(t,n),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const u={installation:{sdkVersion:rx,appId:t.appId}},d={method:"POST",headers:o,body:JSON.stringify(u)},f=await cx(()=>fetch(i,d));if(f.ok){const p=await f.json();return ax(p)}else throw await lx("Generate Auth Token",f)}function MM(t,{fid:e}){return`${ox(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eg(t,e=!1){let n;const i=await xh(t.appConfig,a=>{if(!yx(a))throw eo.create("not-registered");const u=a.authToken;if(!e&&jM(u))return a;if(u.requestStatus===1)return n=LM(t,e),a;{if(!navigator.onLine)throw eo.create("app-offline");const d=BM(a);return n=OM(t,d),d}});return n?await n:i.authToken}async function LM(t,e){let n=await a_(t.appConfig);for(;n.authToken.requestStatus===1;)await hx(100),n=await a_(t.appConfig);const i=n.authToken;return i.requestStatus===0?eg(t,e):i}function a_(t){return xh(t,e=>{if(!yx(e))throw eo.create("not-registered");const n=e.authToken;return UM(n)?{...e,authToken:{requestStatus:0}}:e})}async function OM(t,e){try{const n=await DM(t,e),i={...e,authToken:n};return await eh(t.appConfig,i),n}catch(n){if(sx(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await mx(t.appConfig);else{const i={...e,authToken:{requestStatus:0}};await eh(t.appConfig,i)}throw n}}function yx(t){return t!==void 0&&t.registrationStatus===2}function jM(t){return t.requestStatus===2&&!FM(t)}function FM(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+dM}function BM(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function UM(t){return t.requestStatus===1&&t.requestTime+nx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zM(t){const e=t,{installationEntry:n,registrationPromise:i}=await Zm(e);return i?i.catch(console.error):eg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $M(t,e=!1){const n=t;return await HM(n),(await eg(n,e)).token}async function HM(t){const{registrationPromise:e}=await Zm(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(t){if(!t||!t.options)throw Cf("App Configuration");if(!t.name)throw Cf("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Cf(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Cf(t){return eo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx="installations",qM="installations-internal",KM=t=>{const e=t.getProvider("app").getImmediate(),n=WM(e),i=Yl(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},GM=t=>{const e=t.getProvider("app").getImmediate(),n=Yl(e,vx).getImmediate();return{getId:()=>zM(n),getToken:o=>$M(n,o)}};function QM(){os(new Ei(vx,KM,"PUBLIC")),os(new Ei(qM,GM,"PRIVATE"))}QM();qr(tx,Xm);qr(tx,Xm,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th="analytics",YM="firebase_id",XM="origin",JM=60*1e3,ZM="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",tg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn=new dm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},On=new lh("analytics","Analytics",eL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(t){if(!t.startsWith(tg)){const e=On.create("invalid-gtag-resource",{gtagURL:t});return fn.warn(e.message),""}return t}function wx(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function nL(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function rL(t,e){const n=nL("firebase-js-sdk-policy",{createScriptURL:tL}),i=document.createElement("script"),o=`${tg}?l=${t}&id=${e}`;i.src=n?n?.createScriptURL(o):o,i.async=!0,document.head.appendChild(i)}function iL(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function sL(t,e,n,i,o,a){const u=i[o];try{if(u)await e[u];else{const f=(await wx(n)).find(p=>p.measurementId===o);f&&await e[f.appId]}}catch(d){fn.error(d)}t("config",o,a)}async function oL(t,e,n,i,o){try{let a=[];if(o&&o.send_to){let u=o.send_to;Array.isArray(u)||(u=[u]);const d=await wx(n);for(const f of u){const p=d.find(g=>g.measurementId===f),y=p&&e[p.appId];if(y)a.push(y);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",i,o||{})}catch(a){fn.error(a)}}function aL(t,e,n,i){async function o(a,...u){try{if(a==="event"){const[d,f]=u;await oL(t,e,n,d,f)}else if(a==="config"){const[d,f]=u;await sL(t,e,n,i,d,f)}else if(a==="consent"){const[d,f]=u;t("consent",d,f)}else if(a==="get"){const[d,f,p]=u;t("get",d,f,p)}else if(a==="set"){const[d]=u;t("set",d)}else t(a,...u)}catch(d){fn.error(d)}}return o}function lL(t,e,n,i,o){let a=function(...u){window[i].push(arguments)};return window[o]&&typeof window[o]=="function"&&(a=window[o]),window[o]=aL(a,t,e,n),{gtagCore:a,wrappedGtag:window[o]}}function uL(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(tg)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL=30,hL=1e3;class dL{constructor(e={},n=hL){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const _x=new dL;function fL(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function pL(t){const{appId:e,apiKey:n}=t,i={method:"GET",headers:fL(n)},o=ZM.replace("{app-id}",e),a=await fetch(o,i);if(a.status!==200&&a.status!==304){let u="";try{const d=await a.json();d.error?.message&&(u=d.error.message)}catch{}throw On.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u})}return a.json()}async function mL(t,e=_x,n){const{appId:i,apiKey:o,measurementId:a}=t.options;if(!i)throw On.create("no-app-id");if(!o){if(a)return{measurementId:a,appId:i};throw On.create("no-api-key")}const u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new vL;return setTimeout(async()=>{d.abort()},JM),Ex({appId:i,apiKey:o,measurementId:a},u,d,e)}async function Ex(t,{throttleEndTimeMillis:e,backoffCount:n},i,o=_x){const{appId:a,measurementId:u}=t;try{await gL(i,e)}catch(d){if(u)return fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:a,measurementId:u};throw d}try{const d=await pL(t);return o.deleteThrottleMetadata(a),d}catch(d){const f=d;if(!yL(f)){if(o.deleteThrottleMetadata(a),u)return fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:a,measurementId:u};throw d}const p=Number(f?.customData?.httpStatus)===503?Yv(n,o.intervalMillis,cL):Yv(n,o.intervalMillis),y={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return o.setThrottleMetadata(a,y),fn.debug(`Calling attemptFetch again in ${p} millis`),Ex(t,y,i,o)}}function gL(t,e){return new Promise((n,i)=>{const o=Math.max(e-Date.now(),0),a=setTimeout(n,o);t.addEventListener(()=>{clearTimeout(a),i(On.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function yL(t){if(!(t instanceof ps)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class vL{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function wL(t,e,n,i,o){if(o&&o.global){t("event",n,i);return}else{const a=await e,u={...i,send_to:a};t("event",n,u)}}async function _L(t,e,n,i){if(i&&i.global){const o={};for(const a of Object.keys(n))o[`user_properties.${a}`]=n[a];return t("set",o),Promise.resolve()}else{const o=await e;t("config",o,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EL(){if(cm())try{await hm()}catch(t){return fn.warn(On.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return fn.warn(On.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function TL(t,e,n,i,o,a,u){const d=mL(t);d.then(E=>{n[E.measurementId]=E.appId,t.options.measurementId&&E.measurementId!==t.options.measurementId&&fn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>fn.error(E)),e.push(d);const f=EL().then(E=>{if(E)return i.getId()}),[p,y]=await Promise.all([d,f]);uL(a)||rL(a,p.measurementId),o("js",new Date);const g=u?.config??{};return g[XM]="firebase",g.update=!0,y!=null&&(g[YM]=y),o("config",p.measurementId,g),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e){this.app=e}_delete(){return delete na[this.app.options.appId],Promise.resolve()}}let na={},l_=[];const u_={};let Rf="dataLayer",SL="gtag",c_,ng,h_=!1;function IL(){const t=[];if(gE()&&t.push("This is a browser extension environment."),yE()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,o)=>`(${o+1}) ${i}`).join(" "),n=On.create("invalid-analytics-context",{errorInfo:e});fn.warn(n.message)}}function AL(t,e,n){IL();const i=t.options.appId;if(!i)throw On.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw On.create("no-api-key");if(na[i]!=null)throw On.create("already-exists",{id:i});if(!h_){iL(Rf);const{wrappedGtag:a,gtagCore:u}=lL(na,l_,u_,Rf,SL);ng=a,c_=u,h_=!0}return na[i]=TL(t,l_,u_,e,c_,Rf,n),new xL(t)}function CL(t=TE()){t=Xr(t);const e=Yl(t,th);return e.isInitialized()?e.getImmediate():RL(t)}function RL(t,e={}){const n=Yl(t,th);if(n.isInitialized()){const o=n.getImmediate();if(Nl(e,n.getOptions()))return o;throw On.create("already-initialized")}return n.initialize({options:e})}async function PL(){if(gE()||!yE()||!cm())return!1;try{return await hm()}catch{return!1}}function kL(t,e,n){t=Xr(t),_L(ng,na[t.app.options.appId],e,n).catch(i=>fn.error(i))}function bL(t,e,n,i){t=Xr(t),wL(ng,na[t.app.options.appId],e,n,i).catch(o=>fn.error(o))}const d_="@firebase/analytics",f_="0.10.19";function VL(){os(new Ei(th,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return AL(i,o,n)},"PUBLIC")),os(new Ei("analytics-internal",t,"PRIVATE")),qr(d_,f_),qr(d_,f_,"esm2020");function t(e){try{const n=e.getProvider(th).getImmediate();return{logEvent:(i,o,a)=>bL(n,i,o,a),setUserProperties:(i,o)=>kL(n,i,o)}}catch(n){throw On.create("interop-component-reg-failed",{reason:n})}}}VL();const NL={apiKey:"AIzaSyBsOukrTW096Ki_1sXfQ0FaXV3_QsE55Zg",authDomain:"wedding-invitation-irwan-isma.firebaseapp.com",projectId:"wedding-invitation-irwan-isma",storageBucket:"wedding-invitation-irwan-isma.firebasestorage.app",messagingSenderId:"339006814612",appId:"1:339006814612:web:0a0c953703c0bf896ab781",measurementId:"G-YPEPWQEFTS"},Tx=EE(NL),xx=B4(Tx);typeof window<"u"&&PL().then(t=>{t&&CL(Tx)});async function DL(t){try{return(await iM(HT(xx,"guestbook"),{name:t.name.trim(),attendance:t.attendance,message:t.message.trim(),slug:t.slug||null,createdAt:lM()})).id}catch(e){throw console.error("Error saving comment:",e),e}}function ML(t,e=100){const n=J4(HT(xx,"guestbook"),Z4("createdAt","desc"),eM(e));return sM(n,o=>{const a=o.docs.map(u=>({id:u.id,...u.data(),createdAt:u.data().createdAt}));t(a)},o=>{console.error("Error fetching comments:",o),t([])})}function LL(t){if(!t)return"Baru saja";const e=t.toDate?t.toDate():new Date(t),i=Math.floor((new Date().getTime()-e.getTime())/1e3);if(i<60)return"Baru saja";const o=Math.floor(i/60);if(o<60)return`${o} menit yang lalu`;const a=Math.floor(o/60);if(a<24)return`${a} jam yang lalu`;const u=Math.floor(a/24);if(u<7)return`${u} hari yang lalu`;const d=Math.floor(u/7);if(d<4)return`${d} minggu yang lalu`;const f=Math.floor(u/30);return`${f} bulan yang lalu`}function OL({slug:t,isInvitedGuest:e=!1}){const[n,i]=L.useState([]),[o,a]=L.useState(!0),[u,d]=L.useState(!1),[f,p]=L.useState({name:"",attendance:"hadir",message:""});L.useEffect(()=>{const g=ML(E=>{i(E),a(!1)});return()=>g()},[]);const y=async g=>{if(g.preventDefault(),!f.name.trim()||!f.message.trim()){gf.error("Mohon isi nama dan ucapan");return}d(!0);try{await DL({name:f.name,attendance:f.attendance,message:f.message,slug:t||void 0}),gf.success("Ucapan berhasil dikirim!"),p({name:"",attendance:"hadir",message:""})}catch(E){console.error("Error submitting comment:",E),gf.error("Gagal mengirim ucapan. Silakan coba lagi.")}finally{d(!1)}};return I.jsx("section",{className:"py-24 px-4 bg-stone-100",children:I.jsxs("div",{className:"max-w-3xl mx-auto",children:[I.jsxs("div",{className:"text-center mb-12",children:[I.jsx("h2",{className:"font-serif text-3xl text-stone-800",children:"RSVP & Ucapan"}),I.jsx("p",{className:"text-stone-500 mt-2",children:"Konfirmasi kehadiran dan kirimkan doa restu."})]}),I.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[I.jsx(Je.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},className:"bg-white p-6 rounded-2xl shadow-sm h-fit",children:e?I.jsxs("form",{onSubmit:y,className:"space-y-4",children:[I.jsxs("div",{className:"space-y-2",children:[I.jsx("label",{className:"text-sm font-medium text-stone-700",children:"Nama Lengkap"}),I.jsx("input",{type:"text",value:f.name,onChange:g=>p({...f,name:g.target.value}),className:"w-full px-4 py-2 rounded-lg border border-stone-200 focus:outline-none focus:ring-2 focus:ring-amber-200 transition",placeholder:"Masukkan nama Anda"})]}),I.jsxs("div",{className:"space-y-2",children:[I.jsx("label",{className:"text-sm font-medium text-stone-700",children:"Konfirmasi Kehadiran"}),I.jsxs("div",{className:"flex gap-4",children:[I.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[I.jsx("input",{type:"radio",name:"attendance",value:"hadir",checked:f.attendance==="hadir",onChange:g=>p({...f,attendance:g.target.value}),className:"text-amber-600 focus:ring-amber-200"}),I.jsx("span",{className:"text-sm",children:"Hadir"})]}),I.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[I.jsx("input",{type:"radio",name:"attendance",value:"tidak",checked:f.attendance==="tidak",onChange:g=>p({...f,attendance:g.target.value}),className:"text-amber-600 focus:ring-amber-200"}),I.jsx("span",{className:"text-sm",children:"Tidak Hadir"})]})]})]}),I.jsxs("div",{className:"space-y-2",children:[I.jsx("label",{className:"text-sm font-medium text-stone-700",children:"Ucapan & Doa"}),I.jsx("textarea",{value:f.message,onChange:g=>p({...f,message:g.target.value}),className:"w-full px-4 py-2 rounded-lg border border-stone-200 focus:outline-none focus:ring-2 focus:ring-amber-200 transition h-24 resize-none",placeholder:"Tuliskan ucapan..."})]}),I.jsx("button",{type:"submit",disabled:u,className:"w-full bg-stone-800 text-white py-2.5 rounded-lg font-medium hover:bg-stone-700 transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:u?I.jsxs(I.Fragment,{children:[I.jsx($v,{className:"animate-spin",size:16}),"Mengirim..."]}):I.jsxs(I.Fragment,{children:[I.jsx(gk,{size:16}),"Kirim Ucapan"]})})]}):I.jsxs("div",{className:"text-center py-8 text-stone-500",children:[I.jsx("p",{className:"text-sm",children:"Hanya tamu undangan yang dapat mengisi form ini."}),I.jsx("p",{className:"text-xs mt-2",children:"Silakan akses melalui link undangan yang diberikan."})]})}),I.jsx("div",{className:"space-y-4 max-h-[500px] overflow-y-auto pr-2 custom-scrollbar",children:o?I.jsx("div",{className:"flex items-center justify-center py-12",children:I.jsx($v,{className:"animate-spin text-stone-400",size:24})}):n.length===0?I.jsx("div",{className:"text-center py-12 text-stone-400",children:I.jsx("p",{className:"text-sm",children:"Belum ada ucapan. Jadilah yang pertama!"})}):n.map(g=>I.jsx(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white p-4 rounded-xl shadow-sm border border-stone-50",children:I.jsxs("div",{className:"flex items-start gap-3",children:[I.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white shrink-0 ${g.attendance==="hadir"?"bg-amber-400":"bg-stone-300"}`,children:I.jsx(vk,{size:14})}),I.jsxs("div",{className:"flex-1",children:[I.jsxs("div",{className:"flex justify-between items-start mb-1",children:[I.jsx("h4",{className:"font-bold text-stone-800 text-sm",children:g.name}),I.jsx("span",{className:"text-[10px] text-stone-400",children:LL(g.createdAt)})]}),I.jsx("span",{className:`inline-block px-2 py-0.5 rounded-full text-[10px] mb-2 ${g.attendance==="hadir"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:g.attendance==="hadir"?"Akan Hadir":"Berhalangan"}),I.jsxs("p",{className:"text-sm text-stone-600 leading-relaxed",children:['"',g.message,'"']})]})]})},g.id))})]})]})})}function jL(){return I.jsxs("footer",{className:"py-20 bg-stone-900 text-white text-center px-4 relative overflow-hidden",children:[I.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-5"}),I.jsxs(Je.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"relative z-10 space-y-12 max-w-3xl mx-auto",children:[I.jsxs("div",{className:"space-y-6",children:[I.jsx("h3",{className:"font-serif text-2xl text-amber-100",children:"Kami Yang Berbahagia"}),I.jsxs("div",{className:"grid md:grid-cols-2 gap-8 text-stone-300",children:[I.jsxs("div",{className:"space-y-1",children:[I.jsx("p",{className:"font-bold text-white",children:"Kel. Bpk. Suwadi"}),I.jsx("p",{children:"& Ibu Sugiarti"})]}),I.jsxs("div",{className:"space-y-1",children:[I.jsx("p",{className:"font-bold text-white",children:"Kel. Bpk. Ibrahim Z"}),I.jsx("p",{children:"& Ibu Siti Hajar"})]})]}),I.jsx("div",{className:"pt-8",children:I.jsx("h2",{className:"font-serif text-4xl md:text-5xl mb-4",children:"Isma & Irwansyah"})})]}),I.jsx("div",{className:"w-full h-px bg-stone-800"}),I.jsxs("div",{className:"space-y-4",children:[I.jsx("p",{className:"text-stone-400 max-w-xl mx-auto italic font-light leading-relaxed text-sm",children:'"Dan diantara tanda-tanda kekuasaan-Nya adalah diciptakan-Nya untukmu pasangan hidup dari jenismu sendiri supaya kamu mendapat ketenangan hati dan dijadikan-Nya kasih sayang diantara kamu. Sesungguhnya yang demikian menjadi tanda-tanda kebesaran-Nya bagi orang-orang yang berfikir"'}),I.jsx("p",{className:"text-stone-500 text-xs",children:"(Q.S Ar-Rum : 21)"})]}),I.jsx("div",{className:"pt-8 text-[10px] text-stone-600",children:I.jsx("p",{children:"Dibuat dengan  oleh Figma Make"})})]})]})}const FL="/assets/muzik-DvKYGBRx.mp3";function BL(){const[t,e]=L.useState(!1),[n,i]=L.useState(!1),[o,a]=L.useState(!1),u=L.useRef(null);L.useEffect(()=>{if(typeof window<"u")return u.current=new Audio(FL),u.current.loop=!0,u.current.volume=.5,u.current.addEventListener("play",()=>e(!0)),u.current.addEventListener("pause",()=>e(!1)),u.current.addEventListener("ended",()=>e(!1)),()=>{u.current&&(u.current.pause(),u.current=null)}},[]),L.useEffect(()=>{const p=()=>{a(!0),setTimeout(()=>{u.current&&!t&&u.current.play().catch(y=>{console.log("Autoplay prevented:",y)})},500)};return window.addEventListener("splashOpened",p),()=>window.removeEventListener("splashOpened",p)},[t]);const d=async()=>{if(u.current){a(!0);try{t?u.current.pause():await u.current.play()}catch(p){console.error("Error playing audio:",p)}}},f=()=>{u.current&&(n?(u.current.volume=.5,i(!1)):(u.current.volume=0,i(!0)))};return I.jsxs("div",{className:"fixed bottom-6 right-6 z-40 flex items-center gap-2",children:[I.jsx("button",{onClick:f,className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/80 text-stone-800 shadow-lg backdrop-blur-sm transition hover:bg-white hover:scale-105","aria-label":n?"Unmute":"Mute",children:n?I.jsx(Tk,{size:18}):I.jsx(_k,{size:18})}),I.jsx("button",{onClick:d,className:"flex h-12 w-12 items-center justify-center rounded-full bg-white/80 text-stone-800 shadow-lg backdrop-blur-sm transition hover:bg-white hover:scale-105","aria-label":t?"Pause":"Play",children:t?I.jsx(dk,{size:20,className:"animate-pulse"}):I.jsx(pk,{size:20,className:"ml-1"})})]})}function UL(t){return t.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")}function zL(t){return t.trim().length>0}function $L(){const{slug:t}=gI(),[e,n]=L.useState(!1),[i,o]=L.useState(!0),a=t?UL(t):"Tamu Undangan",u=t?zL(t):!1;L.useEffect(()=>{i?document.body.style.overflow="hidden":document.body.style.overflow="auto"},[i]);const d=()=>{n(!0),window.dispatchEvent(new CustomEvent("splashOpened"))},f=()=>{o(!1)};return I.jsxs("div",{className:"min-h-screen font-sans bg-stone-50 text-stone-800 selection:bg-amber-200",children:[I.jsx(nb,{position:"bottom-center"}),I.jsx(pR,{children:!e&&I.jsx(xk,{guestName:a,onOpen:d,onStartOpening:f})}),I.jsxs("main",{className:"relative z-0",children:[I.jsx(Sk,{}),I.jsx(Ik,{}),I.jsx(Ck,{}),I.jsx(Ak,{}),I.jsx(Rk,{}),I.jsx(Pk,{}),I.jsx(OL,{slug:t,isInvitedGuest:u}),I.jsx(jL,{}),I.jsx(BL,{})]})]})}OS.createRoot(document.getElementById("root")).render(I.jsx(eA,{children:I.jsx(bI,{children:I.jsx(C_,{path:"/:slug?",element:I.jsx($L,{})})})}));
